webpackJsonp([12],{100:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.project.disputed>0&&(e.filters.disputed={true:{count:e.project.disputed}}),e}function a(e){return c.default.each(c.default.keys(e.aggregations),function(t){c.default.each(c.default.keys(e.aggregations[t]),function(n){var i=e.aggregations[t][n];e.aggregations[t][n]={count:i}})}),e}function s(e){return e.params&&(c.default.each(c.default.keys(e.params),function(t){c.default.has(e.aggregations,t)?(e.aggregations[t][e.params[t]]||(e.aggregations[t][e.params[t]]={}),e.aggregations[t][e.params[t]].selected=!0):c.default.has(e.filters,t)?e.filters[t][e.params[t]].selected=!0:(e.aggregations[t]={})[e.params[t]]={selected:!0}}),e.params.sort_by&&(e.params["sort_by_"+e.params.sort_by]=" "+(e.params.asc_or_desc||"asc")),e.actual_reward_selected=!1,e.params.reward_id&&(e.actual_reward_selected=!0,e.selected_reward=c.default.findWhere(e.rewards,{id:parseInt(e.params.reward_id,10)}),e.selected_reward||(e.actual_reward_selected=!1,e.selected_reward=c.default.findWhere(e.rewards,{id:"none"})),e.selected_reward.selected=!0),c.default.each(["survey_answered","completed","must_have_creator_note","status","backer_banned","disputed"],function(t){e.params[t]&&(e.not_filtered=!1)})),e}function o(e){return e.show_aggregations=e.total_entries>0||!(e.params&&e.params.term&&!e.params.creator_note&&!e.params.creator_note_not),e}function l(e){return c.default.each(e.rewards,function(e){e.formatted_minimum=f.default.money(e.minimum,{currency:m.default.get("currency"),precision:0}),e.reward.length>35?e.truncated_description=e.reward.substring(0,35)+"…":e.truncated_description=e.reward}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.filters={},e=r(e),e=a(e),e.aggregations.must_have_creator_note={true:{},false:{}},e.not_filtered=!0,e=s(e),"successful"===e.project.state&&(e.project.is_successful=!0),e=o(e),e.formatted_total_entries=f.default.format_number(e.total_entries,{precision:0}),e.count=e.total_entries,e=l(e),e.message_url=(0,p.default)(e.urls.web.message_batches).segment("new").query(e.params),e.isCreator=m.default.get("creator.id")===_.default.get("id"),e.showMessages=e.isCreator||e.showMessages,e};var u=n(5),c=i(u),d=n(10),f=i(d),h=n(17),p=i(h),g=n(18),m=i(g),v=n(16),_=i(v)},101:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.formatted_pledged_at=(0,s.format)("ll",1e3*e.pledged_at),e.formatted_survey_answered_at=(0,s.format)("ll",1e3*e.survey_answered_at),e.formatted_amount=a.default.money(e.amount,{precision:2,currency:l.default.get("currency")}),e.is_registered||(e.name=f.default.t("backer_report.row.Guest",{backer_uid:e.backer_uid})),e.isCreator=l.default.get("creator.id")===c.default.get("id"),e.showMessages=e.isCreator||e.showMessages,e};var r=n(10),a=i(r),s=n(15),o=n(18),l=i(o),u=n(16),c=i(u),d=n(2),f=i(d)},102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.json=JSON.stringify(e),e}},103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.ancestor_locations=e.ancestor_locations||[],e.ancestor_locations=e.ancestor_locations.reverse(),e.nearby_locations=e.nearby_locations||[],e}},104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)};var i=n(31),r=function(e){return e&&e.__esModule?e:{default:e}}(i)},105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.json=JSON.stringify(e),e}},106:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],n=e.aggregations.read?e.aggregations.read[e.user]:0,i=e.total_entries-n;return window.enabled_features&&(e.archived_enabled=window.enabled_features.message_archiving,e.spam_enabled=window.enabled_features.message_spam),e.aggregations.read={},n>0&&(e.aggregations.read.true=n),i>0&&(e.aggregations.read.false=i),a.default.each(a.default.keys(e.aggregations),function(t){a.default.each(a.default.keys(e.aggregations[t]),function(n){var i=e.aggregations[t][n];e.aggregations[t][n]={count:i}})}),"undefined"==typeof current_project?(a.default.each(e.projects,function(n){var i=e.aggregations.projects?e.aggregations.projects[n[1]]:void 0,r=parseInt(e.params.project,10)===n[1],a={name:n[0],truncated_name:n[0].substring(0,35)+(n[0].length>35?"…":""),id:n[1],count:i||0,selected:r};t.push(a),r&&(e.selected_project=a)}),e.projects=t,e.has_projects=e.projects&&e.projects.length>0):e.has_projects=!1,e.params&&(a.default.each(a.default.keys(e.params),function(t){a.default.has(e.aggregations,t)?(e.aggregations[t][e.params[t]]||(e.aggregations[t][e.params[t]]={}),e.aggregations[t][e.params[t]].selected=!0):(e.aggregations[t]={})[e.params[t]]={selected:!0}}),"other"===e.params.project&&(e.selected_project={truncated_name:o.default.t("presenters.message_threads.index.Other_projects"),other:!0})),e};var r=n(5),a=i(r),s=n(2),o=i(s)},107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.formatted_sent_at=(0,i.format)("ll",1e3*e.sent_at),e};var i=n(15)},108:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.is_creator=e.project.creator.id===c.default.get("id"),e.project.is_live="live"===e.project.state,e.backing&&(e.backing.reward.formatted_estimated_delivery_on=d.maybe.fromNullable(e.backing.reward.estimated_delivery_on).map(function(e){return(0,l.format)("ll",(0,p.toUTC)(1e3*e))}).getOrElse(null),e.backing.is_creator=e.is_creator,e.backing.formatted_amount=o.default.money(e.backing.amount,{currency:e.backing.project.currency,precision:0})),e.messages=a.default.map(e.messages,function(t){return t.sender=a.default.findWhere(e.participants,{id:t.sender_id}),(0,h.default)(t)}),e};var r=n(5),a=i(r),s=n(10),o=i(s),l=n(15),u=n(16),c=i(u),d=n(22),f=n(49),h=i(f),p=n(40)},109:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=a.default.extend({},e);return t.projects=t.projects.map(function(e){return e.map(function(e){return(0,o.default)(e)})}),t};var r=n(0),a=i(r),s=n(31),o=i(s)},122:function(e,t,n){var i=(n(0),n(0),!1);!function(e){"function"==typeof i&&i.amd?i(["jquery"],e):e(n(0))}(function(e){var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,r,a;for(a=0;null!=(r=n[a]);a++)try{i=e._data(r,"events"),i&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var r,a,s,o,l={},u=t.split(".")[0];return t=t.split(".")[1],r=u+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},a=e[u][t],s=e[u][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},e.extend(s,a,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(i,function(t,i){if(!e.isFunction(i))return void(l[t]=i);l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,a=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=a,t}}()}),s.prototype=e.widget.extend(o,{widgetEventPrefix:a?o.widgetEventPrefix||t:t},l,{constructor:s,namespace:u,widgetName:t,widgetFullName:r}),a?(e.each(a._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete a._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var i,r,a=n.call(arguments,1),s=0,o=a.length;s<o;s++)for(i in a[s])r=a[s][i],a[s].hasOwnProperty(i)&&void 0!==r&&(e.isPlainObject(r)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],r):e.widget.extend({},r):t[i]=r);return t},e.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;e.fn[t]=function(a){var s="string"==typeof a,o=n.call(arguments,1),l=this;return s?this.each(function(){var n,i=e.data(this,r);return"instance"===a?(l=i,!1):i?e.isFunction(i[a])&&"_"!==a.charAt(0)?(n=i[a].apply(i,o),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")}):(o.length&&(a=e.widget.extend.apply(null,[a].concat(o))),this.each(function(){var t=e.data(this,r);t?(t.option(a||{}),t._init&&t._init()):e.data(this,r,new i(a,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,a,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},i=t.split("."),t=i.shift(),i.length){for(r=s[t]=e.widget.extend({},this.options[t]),a=0;a<i.length-1;a++)r[i[a]]=r[i[a]]||{},r=r[i[a]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var r,a=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function o(){if(t||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?a[s]:s).apply(a,arguments)}"string"!=typeof s&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+a.eventNamespace,c=l[2];c?r.delegate(c,u,o):n.bind(u,o)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,a,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,a){"string"==typeof r&&(r={effect:r});var s,o=r?!0===r||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=a,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[o]?i[t](r):o!==t&&i[o]?i[o](r.duration,r.easing,a):i.queue(function(n){e(this)[t](),a&&a.call(i[0]),n()})}});e.widget})},123:function(e,t,n){var i=(n(0),n(0),!1);!function(e){"use strict";"function"==typeof i&&i.amd?i(["jquery"],e):e(n(0))}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var i,r,a,s=n.initialIframeSrc||"javascript:false;";return{send:function(o,l){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),a=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+a+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+a+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+a+"_method=PATCH",n.type="POST"),t+=1,r=e('<iframe src="'+s+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,a=e.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var t;try{if(t=r.contents(),!t.length||!t[0].firstChild)throw new Error}catch(e){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+s+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",a[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),t&&t.length&&n.fileInput.each(function(n,i){var r=e(t[n]);e(i).prop("name",r.prop("name")).attr("form",r.attr("form")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src",s),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})})},124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={};i.pageX=function(e){return e.originalEvent&&e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX},t.default=i},125:function(e,t,n){"use strict";var i=n(5),r=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(0);n(0);!function(e){e.fn.whenNear=function(t,n){function i(){var t=r.default.filter(o,function(t){var n=e(t);if(!n.is(":hidden")){var i=a.scrollTop(),r=i+a.height(),o=n.offset().top;return o+n.height()>=i-s&&o<=r+s}});o=o.not(t),r.default.each(t,n)}var a=e(window),s=t||0,o=this;return a.on("scroll.whenNear resize.whenNear",r.default.throttle(i,25)),i(),this}}(a)},128:function(e,t,n){"use strict";var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i);!function(){(0,r.default)(function(){(0,r.default)("body").hasClass("admin")||(window._sf_async_config={uid:5536,domain:window.location.hostname.replace("www.","")},window._sf_endpt=(new Date).getTime(),r.default.getScript("//a248.e.akamai.net/chartbeat.download.akamai.com/102508/js/chartbeat.js"))})}()},129:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=i(r),s=n(5),o=i(s),l=n(24),u=i(l);n(11),(0,a.default)(function(){(0,a.default)(".render_mustache").livequery(function(){var e=(0,a.default)(this),t=o.default.extend(e.data("data"),e.data("extend")),n=t,i=e.data("partials")?e.data("partials").split(","):void 0,r=e.data("template");e.append((0,u.default)(r,n,i))})})},130:function(e,t,n){var i=n(0);n(0);!function(e,t){e.effects={effect:{}},function(e,t){function n(e,t,n){var i=c[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var n=l(),i=n._rgba=[];return t=t.toLowerCase(),h(o,function(e,r){var a,s=r.re.exec(t),o=s&&r.parse(s),l=r.space||"rgba";if(o)return a=n[l](o),n[u[l].cache]=a[u[l].cache],i=n._rgba=a._rgba,!1}),i.length?("0,0,0,0"===i.join()&&e.extend(i,a.transparent),n):a[t]}function r(e,t,n){return n=(n+1)%1,6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}var a,s=/^([\-+])=\s*(\d+\.?\d*)/,o=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},f=e("<p>")[0],h=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=f.style.backgroundColor.indexOf("rgba")>-1,h(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(t,r,s,o){if(void 0===t)return this._rgba=[null,null,null,null],this;(t.jquery||t.nodeType)&&(t=e(t).css(r),r=void 0);var c=this,d=e.type(t),f=this._rgba=[];return void 0!==r&&(t=[t,r,s,o],d="array"),"string"===d?this.parse(i(t)||a._default):"array"===d?(h(u.rgba.props,function(e,i){f[i.idx]=n(t[i.idx],i)}),this):"object"===d?(t instanceof l?h(u,function(e,n){t[n.cache]&&(c[n.cache]=t[n.cache].slice())}):h(u,function(i,r){var a=r.cache;h(r.props,function(e,i){if(!c[a]&&r.to){if("alpha"===e||null==t[e])return;c[a]=r.to(c._rgba)}c[a][i.idx]=n(t[e],i,!0)}),c[a]&&e.inArray(null,c[a].slice(0,3))<0&&(c[a][3]=1,r.from&&(c._rgba=r.from(c[a])))}),this):void 0},is:function(e){var t=l(e),n=!0,i=this;return h(u,function(e,r){var a,s=t[r.cache];return s&&(a=i[r.cache]||r.to&&r.to(i._rgba)||[],h(r.props,function(e,t){if(null!=s[t.idx])return n=s[t.idx]===a[t.idx]})),n}),n},_space:function(){var e=[],t=this;return h(u,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=l(e),r=i._space(),a=u[r],s=0===this.alpha()?l("transparent"):this,o=s[a.cache]||a.to(s._rgba),d=o.slice();return i=i[a.cache],h(a.props,function(e,r){var a=r.idx,s=o[a],l=i[a],u=c[r.type]||{};null!==l&&(null===s?d[a]=l:(u.mod&&(l-s>u.mod/2?s+=u.mod:s-l>u.mod/2&&(s-=u.mod)),d[a]=n((l-s)*t+s,r)))}),this[r](d)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=l(t)._rgba;return l(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,a=e[2]/255,s=e[3],o=Math.max(i,r,a),l=Math.min(i,r,a),u=o-l,c=o+l,d=.5*c;return t=l===o?0:i===o?60*(r-a)/u+360:r===o?60*(a-i)/u+120:60*(i-r)/u+240,n=0===u?0:d<=.5?u/c:u/(2-c),[Math.round(t)%360,n,d,null==s?1:s]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],a=e[3],s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;return[Math.round(255*r(o,s,t+1/3)),Math.round(255*r(o,s,t)),Math.round(255*r(o,s,t-1/3)),a]},h(u,function(t,i){var r=i.props,a=i.cache,o=i.to,u=i.from;l.fn[t]=function(t){if(o&&!this[a]&&(this[a]=o(this._rgba)),void 0===t)return this[a].slice();var i,s=e.type(t),c="array"===s||"object"===s?t:arguments,d=this[a].slice();return h(r,function(e,t){var i=c["object"===s?e:t.idx];null==i&&(i=d[t.idx]),d[t.idx]=n(i,t)}),u?(i=l(u(d)),i[a]=d,i):l(d)},h(r,function(n,i){l.fn[n]||(l.fn[n]=function(r){var a,o=e.type(r),l="alpha"===n?this._hsla?"hsla":"rgba":t,u=this[l](),c=u[i.idx];return"undefined"===o?c:("function"===o&&(r=r.call(this,c),o=e.type(r)),null==r&&i.empty?this:("string"===o&&(a=s.exec(r))&&(r=c+parseFloat(a[2])*("+"===a[1]?1:-1)),u[i.idx]=r,this[l](u)))})})}),l.hook=function(t){var n=t.split(" ");h(n,function(t,n){e.cssHooks[n]={set:function(t,r){var a,s,o="";if("transparent"!==r&&("string"!==e.type(r)||(a=i(r)))){if(r=l(a||r),!d.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?t.parentNode:t;(""===o||"transparent"===o)&&s&&s.style;)try{o=e.css(s,"backgroundColor"),s=s.parentNode}catch(e){}r=r.blend(o&&"transparent"!==o?o:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=l(t.elem,n),t.end=l(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function t(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(a[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(a[n]=r[n]);return a}function n(t,n){var i,r,s={};for(i in n)r=n[i],t[i]!==r&&(a[i]||!e.fx.step[i]&&isNaN(parseFloat(r))||(s[i]=r));return s}var r=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(i.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,a,s,o){var l=e.speed(a,s,o);return this.queue(function(){var a,s=e(this),o=s.attr("class")||"",u=l.children?s.find("*").addBack():s;u=u.map(function(){return{el:e(this),start:t(this)}}),a=function(){e.each(r,function(e,t){i[t]&&s[t+"Class"](i[t])})},a(),u=u.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",o),u=u.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,u.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({addClass:function(t){return function(n,i,r,a){return i?e.effects.animateClass.call(this,{add:n},i,r,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,r,a,s){return"boolean"==typeof i||void 0===i?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,a,s):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,a)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,a){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,a)}})}(),function(){function t(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.10.3",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ui-effects-"+t[n],e[0].style[t[n]])},restore:function(e,t){var n,i;for(i=0;i<t.length;i++)null!==t[i]&&(n=e.data("ui-effects-"+t[i]),void 0===n&&(n=""),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(e){a=document.body}return t.wrap(i),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var a=t.cssUnit(n);a[0]>0&&(r[n]=a[0]*i+a[1])}),r}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(a)&&a.call(r[0]),e.isFunction(t)&&t()}var r=e(this),a=i.complete,o=i.mode;(r.is(":hidden")?"hide"===o:"show"===o)?(r[o](),n()):s.call(r[0],i,n)}var i=t.apply(this,arguments),r=i.mode,a=i.queue,s=e.effects.effect[i.effect];return e.fx.off||!s?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):!1===a?this.each(n):this.queue(a||"fx",n)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"==typeof i)return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}})}()}(i)},131:function(e,t,n){"use strict";n(64);var i=(n(0),n(0));!function(){i.fn.client_side_asset_uploader=function(){var e=i(this),t=["data-asset-attachable-type","data-asset-method"].map(function(t){return"["+t+'="'+e.attr(t)+'"]'}).join("");e.adhoc_fileuploader({url:e.data("url"),paramsUrl:e.data("params-url"),done:function(e,n){var r=n.files[0],a={file:r,s3_key:n.formData.filter(function(e){return"key"===e.name})[0].value,data_file_name:r.name,data_file_size:r.size,data_content_type:r.type,signed_preview_url:"umm"};i(".js-assets-list"+t).trigger("assets_list:item_added",a)}})}}()},132:function(e,t,n){var i=n(0);n(0);!function(e,t){function n(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,i,r,a,s=this,o=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)i=e.trim(t[n]),a="ui-resizable-"+i,r=e("<div class='ui-resizable-handle "+a+"'></div>"),r.css({zIndex:o.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(t){var n,i,r,a;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=e(this.handles[n],this.element),a=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,a),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),o.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){o.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)((i=e(this.handles[n])[0])===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var i,r,a,s=this.options,o=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:o.top,left:o.left}),this._renderProxy(),i=n(this.helper.css("left")),r=n(this.helper.css("top")),s.containment&&(i+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:r},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:i,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===a?this.axis+"-resize":a),l.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i=this.helper,r={},a=this.originalMousePosition,s=this.axis,o=this.position.top,l=this.position.left,u=this.size.width,c=this.size.height,d=t.pageX-a.left||0,f=t.pageY-a.top||0,h=this._change[s];return!!h&&(n=h.apply(this,[t,d,f]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),this.position.top!==o&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==u&&(r.width=this.size.width+"px"),this.size.height!==c&&(r.height=this.size.height+"px"),i.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,r,a,s,o,l,u=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&e.ui.hasScroll(n[0],"left")?0:c.sizeDiff.height,a=i?0:c.sizeDiff.width,s={width:c.helper.width()-a,height:c.helper.height()-r},o=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(e.extend(s,{top:l,left:o})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,r,a,s,o=this.options;s={minWidth:i(o.minWidth)?o.minWidth:0,maxWidth:i(o.maxWidth)?o.maxWidth:1/0,minHeight:i(o.minHeight)?o.minHeight:0,maxHeight:i(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,a=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),r>s.minHeight&&(s.minHeight=r),n<s.maxWidth&&(s.maxWidth=n),a<s.maxHeight&&(s.maxHeight=a)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,a=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=i(e.width)&&t.minWidth&&t.minWidth>e.width,o=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(n),d=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),a&&(e.height=t.maxHeight),s&&c&&(e.left=l-t.minWidth),r&&c&&(e.left=l-t.maxWidth),o&&d&&(e.top=u-t.minHeight),a&&d&&(e.top=u-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,n,i,r,a=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(r=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],n=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],i=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],t=0;t<n.length;t++)this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(i[t],10)||0);r.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("ui-resizable"),i=n.options,r=n._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),s=a&&e.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,o=a?0:n.sizeDiff.width,l={width:n.size.width-o,height:n.size.height-s},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,r,a,s,o,l,u=e(this).data("ui-resizable"),c=u.options,d=u.element,f=c.containment,h=f instanceof e?f.get(0):/parent/.test(f)?d.parent().get(0):f;h&&(u.containerElement=e(h),/document/.test(f)||f===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){i[e]=n(t.css("padding"+r))}),u.containerOffset=t.offset(),u.containerPosition=t.position(),u.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},r=u.containerOffset,a=u.containerSize.height,s=u.containerSize.width,o=e.ui.hasScroll(h,"left")?h.scrollWidth:s,l=e.ui.hasScroll(h)?h.scrollHeight:a,u.parentData={element:h,left:r.left,top:r.top,width:o,height:l}))},resize:function(t){var n,i,r,a,s=e(this).data("ui-resizable"),o=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||t.shiftKey,d={top:0,left:0},f=s.containerElement;f[0]!==document&&/static/.test(f.css("position"))&&(d=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),c&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=o.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?l.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,n=Math.abs((s._helper,s.offset.left-d.left+s.sizeDiff.width)),i=Math.abs((s._helper?s.offset.top-d.top:s.offset.top-l.top)+s.sizeDiff.height),r=s.containerElement.get(0)===s.element.parent().get(0),a=/relative|absolute/.test(s.containerElement.css("position")),r&&a&&(n-=s.parentData.left),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.containerOffset,r=t.containerPosition,a=t.containerElement,s=e(t.helper),o=s.offset(),l=s.outerWidth()-t.sizeDiff.width,u=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(a.css("position"))&&e(this).css({left:o.left-r.left-i.left,width:l,height:u}),t._helper&&!n.animate&&/static/.test(a.css("position"))&&e(this).css({left:o.left-r.left-i.left,width:l,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,i=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?i(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],i(n.alsoResize)):e.each(n.alsoResize,function(e){i(e)})},resize:function(t,n){var i=e(this).data("ui-resizable"),r=i.options,a=i.originalSize,s=i.originalPosition,o={height:i.size.height-a.height||0,width:i.size.width-a.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0},l=function(t,i){e(t).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),a={},s=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(r[t]||0)+(o[t]||0);n&&n>=0&&(a[t]=n||null)}),t.css(a)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.size,r=t.originalSize,a=t.originalPosition,s=t.axis,o="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=o[0]||1,u=o[1]||1,c=Math.round((i.width-r.width)/l)*l,d=Math.round((i.height-r.height)/u)*u,f=r.width+c,h=r.height+d,p=n.maxWidth&&n.maxWidth<f,g=n.maxHeight&&n.maxHeight<h,m=n.minWidth&&n.minWidth>f,v=n.minHeight&&n.minHeight>h;n.grid=o,m&&(f+=l),v&&(h+=u),p&&(f-=l),g&&(h-=u),/^(se|s|e)$/.test(s)?(t.size.width=f,t.size.height=h):/^(ne)$/.test(s)?(t.size.width=f,t.size.height=h,t.position.top=a.top-d):/^(sw)$/.test(s)?(t.size.width=f,t.size.height=h,t.position.left=a.left-c):(t.size.width=f,t.size.height=h,t.position.top=a.top-d,t.position.left=a.left-c)}})}(i)},133:function(e,t,n){"use strict";var i=n(21),r=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(0);n(0);a.browser=r.default},134:function(e,t,n){"use strict";n(51);var i=n(0);n(0);!function(e){function t(e){window.history&&window.history.replaceState?history.replaceState(null,null,e):window.location.replace(e)}e.fn.persistent_paging=function(){return e(this).each(function(){function n(){var t=[];e.each(r,function(){t.push([this[0],this[2].offset().top,this[2]])}),r=t}var i=e(this),r=[[1,0,i.find(".page")]],a=[],s=!1,o=i.data("mobius"),l=/^#p(\d*)/,u=l.exec(window.location.hash);u&&1!==parseInt(u[1],10)&&(i.one("mobius:loaded_page",function(t,n,i){e.scrollTo(i.offset().top+70)}),o.load_page(parseInt(u[1],10))),i.on("mobius:loaded_page",function(t,a,s){function l(){if(this[0]===c)return u=!0,!1}var u,c,d=[];for(r.push([a,!1,s]),n(),c=1;c<=r[r.length-1][0];c+=1)u=!1,e.each(r,l),u||d.push(c);d.length?e.each(d,function(){var t=r[0],n=parseInt(this,10),a=e([]),s=[],l=e([]),u=e([]);e.each(r,function(){this[0]>t[0]&&this[0]<n&&(t=this)}),a=t[2].next(".missing"),a.length?(s=a.data("missing_pages"),-1===e.inArray(n,s)&&(s.push(n),a.data("missing_pages",s))):(a=i.siblings(".missing").clone(),l=a.find(".loading"),u=a.find(".load_more"),a.data("missing_pages",[n]),a.find("a").click(function(e){var t=a.data("missing_pages"),n=t.pop();e.preventDefault(),t.length&&a.data("missing_pages",t),u.addClass("loading"),o.load_page(n,a),i.one("mobius:loaded_page",function(){u.removeClass("loading")})}),t[2].after(a),l.hide(),a.show())}):i.find("div.missing").remove()}),e(document).scroll(function(){var n=e(window).scrollTop();e.each(r,function(){var e=this[1];n>e&&(a=this)}),a[0]!==s&&(t("#p"+a[0]),e(document).trigger("infinite_scroll:scrolled_to",[a[0]]),s=a[0])})})}}(i)},135:function(e,t,n){"use strict";var i=n(0);n(0);!function(e){function t(t,n){this.$elem=t,this.options=e.extend({},{adjust_on:"mobius:loaded_page scroll resize sticky_bar:position load hashchange",parent:t.parent(),attach_to:"top",lock_to_bottom:!0},n),this.paused=!1,this.last_scroll_top=0,this.last_up=!1,this.fixed=!1,this.original_top=t.offset().top,this.original_bottom=this.original_top+t.height(),this.update_window_larger_then_elem(),this.attach_to_top="top"===this.options.attach_to,this.attach_to_bottom=!this.attach_to_top,this.bind_events(),this.reposition()}function n(t,n){this.$elem=t,this.options=e.extend({},{adjust_on:"shifted scroll resize load hashchange"},n),this.original_top=t.offset().top,this.bind_events(),this.reposition()}e.fn.sticky_bar=function(n){return n=n||{},e(this).each(function(){var i=e(this).data("stickybar");i?e(this).trigger("shifted"):(i=new t(e(this),n),e(this).data("stickybar",i))})},e.fn.simple_sticky_bar=function(t){return t=t||{},e(this).each(function(){var i=e(this).data("simple_stickybar");i?e(this).trigger("shifted"):(i=new n(e(this),t),e(this).data("simple_stickybar",i))})},e.extend(n.prototype,{bind_events:function(){var t=this;e(window).on(this.options.adjust_on,function(e){t.reposition(e)})},reposition:function(){e(window).scrollTop()<this.original_top?(this.$elem.css("position","static"),this.$elem.css("top","auto")):(this.$elem.css("position","fixed"),this.$elem.css("top",0))}}),e.extend(t.prototype,{bind_events:function(){var t=this;e(window).resize(function(e){e.target===window&&t.update_window_larger_then_elem()}),e(document).on("shifted",function(){t.fixed=!1,t.$elem.css("position","static"),t.$elem.css("top","auto"),t.$elem.css("bottom","auto"),t.original_top=t.$elem.offset().top,t.original_bottom=t.original_top+t.$elem.height(),t.reposition()}),e(window).on(this.options.adjust_on,function(e){t.paused||t.reposition(e)}),this.$elem.on("sticky_bar:fix_to_bottom",function(){t.fixed=!0,t.$elem.css("position","fixed"),t.$elem.css("top",-(t.$elem.height()-e(window).height()))}),this.$elem.on("sticky_bar:pause",function(){t.paused=!0}),this.$elem.on("sticky_bar:unpause",function(){t.paused=!1})},update_window_larger_then_elem:function(){this.window_larger_then_elem=e(window).height()>this.$elem.height()},lockToBottom:function(e){this.fixed=!1,this.$elem.css("position","absolute"),this.$elem.css("top",e-this.$elem.outerHeight()-this.$elem.offsetParent().offset().top)},reposition:function(t){var n=this,i=e(window).scrollTop(),r=i+e(window).height(),a=n.$elem.offset().top,s=a+n.$elem.height(),o=n.options.parent,l=o.offset().top+o.outerHeight(),u=t&&"scroll"===t.type,c=!(i>n.last_scroll_top),d=c!==n.last_up;e("body").width()<640||n.attach_to_top&&i<n.original_top||n.attach_to_bottom&&r>n.original_bottom?(n.fixed=!1,n.$elem.css("position","static"),n.$elem.css("top","auto"),n.$elem.css("bottom","auto")):n.options.lock_to_bottom&&!n.window_larger_then_elem&&r>l?n.lockToBottom(l):n.options.lock_to_bottom&&n.window_larger_then_elem&&i+n.$elem.height()>l?n.lockToBottom(l):d&&u?n.window_larger_then_elem||(n.fixed=!1,n.$elem.css("position","absolute"),n.$elem.css("top",a),n.$elem.css("bottom","auto")):n.fixed||(n.attach_to_top?n.window_larger_then_elem||(!u||c)&&i<a?(n.fixed=!0,n.$elem.css("position","fixed"),n.$elem.css("top",0)):u&&c||!(r>s)||(n.fixed=!0,n.$elem.css("position","fixed"),n.$elem.css("top",-(n.$elem.height()-e(window).height()))):(n.window_larger_then_elem||(!u||!c)&&r>s)&&(n.fixed=!0,n.$elem.css("position","fixed"),n.$elem.css("bottom",0))),n.was_fixed!==n.fixed&&n.$elem.trigger("sticky_bar:fixed_changed",[n.fixed]),n.last_scroll_top=i,n.last_up=c}})}(i)},139:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=i(r),s=n(4),o=i(s),l=n(199),u=i(l);(0,o.default)(".NS_banners__social_prompt",function(e){var t=e.data("url");t&&a.default.ajax({url:(0,u.default)(t),type:"get",success:function(t){var n=t.remotely_followed_count;n>0&&(e.find(".js-friend-count").html(n),e.removeClass("banner--is-hidden"))}})})},140:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(8),a=i(r),s=n(2),o=i(s),l=n(0);n(0);!function(e){function t(t){var n=t.data("status-url");n&&e.pollster(n,function(n){var i,r=t.data("track-label");return n.ok?(i=e(n.html),t.replaceWith(i),(0,a.default)({success:o.default.t("library.video_tracks_editor.Successfully_imported_label",{label:r})}),!0):!!n.error&&(i=e(n.html),t.replaceWith(i),(0,a.default)({error:o.default.t("library.video_tracks_editor.Something_went_wrong_while_importing_label",{label:r,error:n.error})}),!0)},{delay:1e3})}e.fn.videoTracksEditor=function(){var n=e(this);n.on("click",".js-add-track",function(t){var n,i=e(t.currentTarget),r=i.closest(".js-subtitles"),a=r.find(".js-language-select"),s=r.find(".js-track-list"),o=a.find("option:selected").val();n=e.ajax({method:"POST",url:i.data("create-track-path"),data:{language:o,captionable_type:i.data("captionable-type"),captionable_id:i.data("captionable-id")},dataType:"json"}),n.success(function(e){s.append(e.html),a.find('option[value="'+o+'"]').prop("disabled",!0),a.ksr_val(a.find("option").not("[disabled]").first().val())}),t.preventDefault()}),n.on("click",".js-captionable--destroy-track",function(t){var n,i=e(t.currentTarget),r=i.closest(".js-subtitles"),a=r.find(".js-language-select"),s=i.data("path");t.preventDefault(),confirm(o.default.t("library.video_tracks_editor.Are_you_sure_you_want_to_delete_this_track"))&&(n=e.ajax({method:"DELETE",url:s}),n.success(function(e){var t=i.data("language");e.ok&&(a.find('option[value="'+t+'"]').prop("disabled",!1),i.closest(".js-captionable--track-item").remove())}))}),n.on("change",".js-importer--input",function(){var n,i=e(this),r=i.closest(".js-importer"),s=i.closest(".js-captionable--track-item"),l=r.find(".js-importer--text"),u=this.files&&this.files[0],c=new FormData;u&&(i.hide(),l.text(o.default.t("library.video_tracks_editor.Uploading")),c.append("track[file]",u),n=e.ajax({url:i.data("url"),type:"PUT",processData:!1,contentType:!1,data:c}),n.success(function(n){var i;n.ok?(i=e(n.html),s.replaceWith(i),t(i)):(0,a.default)({error:n.error})}),n.error(function(){(0,a.default)({error:o.default.t("library.video_tracks_editor.Something_went_wrong_while_uploading_file",{file:u.name})}),i.show()}))}),n.find(".js-captionable--track-item").each(function(){t(e(this))})}}(l)},141:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(5),a=i(r),s=n(21),o=i(s),l=n(14),u=n(2),c=i(u);n(296),n(67),n(33),n(164),n(78);var d=n(0);n(0);!function(e){function t(t){this.$c=e(t),this.video_data=this.$c.data("video")||{},this.autostarting=!1;var n=this.$c.find("video");n.get(0)&&n.get(0).canPlayType&&(n.get(0).canPlayType("video/mp4")||n.hasClass("has_webm"))&&(this.$video=n,this.video=n.get(0),o.default.chrome&&this.$video.attr("controls","controls").removeAttr("controls"),this.$c.addClass("vertically_center")),this.initialize(),(window.location.search.match("play="+(this.$c.attr("id")||this.video_data.id))||this.$c.hasClass("autoplay"))&&(this.autostarting=!0,this.play()),this.$c.hasClass("muted")&&this.mute(),this.add_size_class(),this.bind_events()}e.fn.ksr_video=function(){return e(this).each(function(){var n=e(this).data("ksr_video");n||(n=new t(e(this)),e(this).data("ksr_video",n))})},e.extend(t.prototype,{overlay:function(){var t=this;this.$c.children(":not(video)").hide(),this.$overlay=e('<div class="overlay"><span class="button-playvideo"></span></div>'),this.$overlay.on("click",function(e){t.initialize_flash(),t.$overlay.remove(),e.preventDefault()}),this.$c.append(this.$overlay)},bind_events:function(){var e=this;this.$c.on("ksr_video:play",function(){e.play()}),this.$c.on("ksr_video:pause",function(){e.pause()}),this.$c.on("ksr_video:mute",function(){e.mute()}),this.$c.on("ksr_video:unmute",function(){e.unmute()}),this.$c.on("ksr_video:destroy",function(){e.destroy()}),this.$c.on("ksr_video:seek",function(t,n,i){e.seek(n,i)})},add_size_class:function(){this.$c.removeClass("small medium large"),this.$c.width()>600?this.$c.addClass("large"):this.$c.width()>400?this.$c.addClass("large"):this.$c.addClass("small")},bind_video_element:function(){var e=this,t=this.$video,n=!0;this.$video.on("loadedmetadata",function(){e.$c.trigger("ksr_video:loaded")}),t.bind("ended",function(){e.$c.trigger("ksr_video:ended")}),t.on("play",function(){e.$c.trigger("ksr_video:playing",[n]),e.$c.addClass("has_played"),e.autostarting?e.autostarting=!1:e.focus_playpause_button(),n=!1}),t.on("pause",function(){e.$c.trigger("ksr_video:paused"),e.focus_playpause_button()}),t.on("progress",function(){var t,n,i,r=e.video.buffered,s=[];if(r.length)for(t=0;t<r.length;t+=1)s.push(r.end(t));n=a.default.max(s),i=n/e.video.duration*100,e.$c.trigger("ksr_video:buffer_change",[n,i])}),t.on("timeupdate",function(){e.$c.trigger("ksr_video:time_update",[e.video.currentTime])})},bind_controls:function(){function t(e){var t=Math.floor(e/60),n=Math.floor(e-60*t);return t+":"+(n<10?"0":"")+n}function n(){i()?(_.removeClass("visible"),_.trigger("ksr_video:controls_hidden")):o()}function i(){return!_.is(":hover")}function r(){_.addClass("visible"),_.trigger("ksr_video:controls_shown")}function s(){clearTimeout(I)}function o(){s(),I=setTimeout(n,2e3)}function u(){var e=v.video.duration;e&&(v.$c.find(".total_time").text(t(e)).attr("datetime","PT"+Math.floor(e)+"S"),A.attr("aria-valuenow",v.video.currentTime).attr("aria-valuemin","0").attr("aria-valuemax",e))}function d(e){return e.which===l.LEFT?-1:e.which===l.RIGHT?1:null}function f(e,t,n){return Math.min(n,Math.max(t,e))}function h(e,t){var n=t.delta,i=t.direction,a=t.max,s=v.video[e];i&&(s=f(s+n*i,0,a),v.video[e]=s,r(),o())}function p(){var e=v.video.volume;KSR.store.setItem("ksr_video_volume",e),v.video.muted?(e=0,S.addClass("muted").attr("aria-label",c.default.t("library.ksr_video.Unmute"))):S.removeClass("muted").attr("aria-label",c.default.t("library.ksr_video.Mute"));var t=100*e+"%";E.width(t),C.css("left",t),C.attr("aria-valuenow",e)}function g(t){var n=T.find(".js-track"),i=t?n.filter('[data-language="'+t+'"]'):e();0===i.length&&(i=n.filter(".js-captions-off"),t=void 0),n.removeClass("selected"),i.addClass("selected"),i.is(".js-captions-off")?_.find(".ksr-icon__closed-caption").removeClass("is-on"):_.find(".ksr-icon__closed-caption").addClass("is-on"),v.$c.data("language",t),a.default.each(v.video.textTracks,function(e){e.mode=e.language===t?"showing":"hidden"})}function m(){v.$c.trigger("ksr_video:volume_adjusted")}var v=this,_=this.$c.find(".player_controls"),y=_.find(".progress_container .progress_bg"),b=y.find(".buffer"),w=y.find(".progress"),A=y.find(".progress_handle"),x=_.find(".volume_container .progress_bg"),E=x.find(".progress"),C=x.find(".progress_handle"),P=_.find(".current_time"),S=_.find(".volume"),D=_.find(".playpause"),j=_.find(".video_track_list"),T=_.find(".js-caption-dropdown"),k={x:0,y:0},I=!1;this.$c.on("mousemove touchstart touchmove",function(e){var t={x:e.pageX,y:e.pageY};v.playing()&&("touchstart"===e.type||Math.abs(t.x-k.x)+Math.abs(t.y-k.y)>20)&&(r(),o(),k=t)}),u(),this.$video.on("click",function(){v.playpause()}),this.$c.find(".play_button_big, img.poster").on("click",function(e){v.play(),e.preventDefault()}),this.$c.on("focus click",":tabbable",function(){v.playing()&&(r(),o())}),this.$c.on("keydown",'[role="button"]',function(t){t.which!==l.ENTER&&t.which!==l.SPACE||(e(this).click(),t.preventDefault())}),this.$c.on("keydown",'.progress_container [role="slider"]',function(e){h("currentTime",{delta:.05*v.video.duration,direction:d(e),max:v.video.duration})}),this.$c.on("keydown",'.volume_container [role="slider"]',function(e){h("volume",{delta:.05,direction:d(e),max:1})}),this.$c.on("ksr_video:loaded",function(){u(),C.attr("aria-valuemin","0").attr("aria-valuemax","1"),p()}),this.$video.on("volumechange",function(){p()}).on("play",function(){D.removeClass("play").addClass("pause").attr("aria-label",c.default.t("library.ksr_video.Pause")),o()}).on("pause",function(){D.removeClass("pause").addClass("play").attr("aria-label",c.default.t("library.ksr_video.Play")),r(),s()}),D.on("click",function(e){v.playpause(),e.preventDefault()}),_.on("mouseenter focus",".video_dropdown",function(t){var n=e(t.currentTarget);n.addClass("open"),_.on("mouseleave.leave_dropdown blur.leave_dropdown",".video_dropdown",function(){n.removeClass("open"),_.off(".leave_dropdown")})}),j.on("click","li",function(){var t=e(this),n=t.data("language");T.removeClass("open"),n?KSR.store.setItem("last_track_language",n):KSR.store.removeItem("last_track_language"),g(n),v.$c.trigger("ksr_video:change_track",n)}),v.video.textTracks&&0!==v.video.textTracks.length?g(KSR.store.getItem("last_track_language")):this.$c.find(".js-remove-unless-text-tracks").remove();var R=null;e(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange",function(){!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&R&&v.$c.css("height",R)}),_.find(".fullscreen").on("click",function(e){if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled){var t=v.$c.get(0);document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullscreen?document.cancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():(R=v.$c.css("height"),v.$c.css("height","auto"),t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen())}else v.$c.toggleClass("fullscreen");e.preventDefault()}),y.draggable_bar(function(e){var t=v.video.duration*e;v.video.currentTime=t}),x.draggable_bar(function(e){v.video.muted&&v.unmute(),v.video.volume=e}),x.find(".progress_bar_bg").on("mouseup",m),E.on("mouseup",m),C.on("mouseup",m),e("body").is(".touchable")?E.hide():S.on("click",function(){v.mute_toggle()}),this.$c.on("ksr_video:buffer_change",function(e,t,n){b.width(n+"%")}),this.$c.on("ksr_video:time_update",function(e,n){var i=n/v.video.duration*100;w.width(i+"%"),A.css("left",i+"%"),P.text(t(n)).attr("datetime","PT"+Math.floor(n)+"S"),A.attr("aria-valuenow",n)})},play:function(){this.video?(this.$video.show(),this.video.play()):this.jwplayer&&this.jwplayer.play()},pause:function(){this.playing()&&(this.video?this.video.pause():this.jwplayer&&this.jwplayer.pause())},playpause:function(){return this.playing()?this.pause():this.play(),this.playing()},focus_playpause_button:function(){var t=this.$c.find(".playpause"),n=e(window),i=t[0].getBoundingClientRect();i.top>=0&&i.left>=0&&i.bottom<=n.height()&&i.right<=n.width()&&t.focus()},seek:function(e,t){var n=this;if(void 0===t&&(t=!1),this.video){if(this.video.readyState<1)return this.video.load(),void this.$c.one("ksr_video:loaded",function(){n.seek(e,t)});this.video.currentTime=e,t?this.pause():this.play()}else this.jwplayer&&(this.jwplayer.seek(e),this.jwplayer.pause(t))},mute_toggle:function(){return this.video&&(this.video.muted?this.unmute():this.mute()),this.video.muted},mute:function(){this.$c.trigger("ksr_video:muted"),this.jwplayer?this.jwplayer.setMute(!0):this.video.muted=!0},unmute:function(){this.$c.trigger("ksr_video:unmuted"),this.jwplayer?this.jwplayer.setMute(!1):this.video.muted=!1},destroy:function(){this.$c.empty(),this.$c.removeData("ksr_video")},current_position:function(){return this.video?this.video.currentTime:this.jwplayer?this.jwplayer.getPosition():void 0},duration:function(){return this.jwplayer?this.jwplayer.getDuration():this.video.duration},playing:function(){return this.video?!this.video.paused:this.jwplayer?"playing"===this.jwplayer.getState().toLowerCase():void 0},initialize_flash:function(){var e="v"+parseInt(1e8*Math.random(),10),t=this.$c.data("external_flashvars")||{},n=this;this.$c.append('<div id="'+e+'"></div>'),"undefined"!=typeof swfobject&&swfobject.embedSWF("https://d3mlfyygrfdi2i.cloudfront.net/321f/kickplayer.swf",e,this.$c.data("dimensions").width,this.$c.data("dimensions").height,"9.0.115","/swf/expressInstall.swf",a.default.extend(t,{displayheight:this.$c.height(),file:encodeURI(this.$c.attr("data-video-url")),image:encodeURI(this.$c.attr("data-image")),backcolor:"000000",screencolor:"000000",controlbar:"over","controlbar.idlehide":"true",autostart:!0,skin:"https://d3mlfyygrfdi2i.cloudfront.net/cc3a/kickskin.swf"}),{allowscriptaccess:"always",allowfullscreen:"true",wmode:"opaque",menu:"false"},{id:"ksr_player_"+e,class:"ksr_player",name:"ksr_player_"+e},function(e){var t=!0;window.player_reference=e.ref,e.success?(n.$c.find("video").remove(),n.jwplayer=jwplayer(e.ref),n.jwplayer.onReady(function(){n.$c.trigger("ksr_video:loaded")}),n.jwplayer.onPlay(function(){n.$c.trigger("ksr_video:playing",[t]),t=!1}),n.jwplayer.onPause(function(){n.$c.trigger("ksr_video:paused")}),n.jwplayer.onComplete(function(){n.$c.trigger("ksr_video:ended")}),n.jwplayer.onBufferChange(function(e){var t=e.duration*(e.bufferPercent/100);isNaN(t)||n.$c.trigger("ksr_video:buffer_change",[t,e.bufferPercent])})):(n.$video=n.$c.find("video"),n.video=n.$video.get(0),n.$overlay.remove(),n.$c.children().show(),n.$c.find(".play_button_big").removeAttr("style"),n.video&&(n.initialize(),n.play()))})},initialize:function(){var e=this;this.video?(e.bind_controls(),e.bind_video_element(),KSR.store.getItem("ksr_video_volume")&&(this.video.volume=KSR.store.getItem("ksr_video_volume")),this.$video.css({height:"100%"}).removeAttr("style")):this.overlay()}})}(d)},142:function(e,t,n){"use strict";n(78);var i=n(0);n(0);!function(e){function t(t){this.$container=e(t),this.embed()}e.fn.sound_player=function(){return e(this).each(function(){var n=e(this).data("ksr_video");n||(n=new t(e(this)),e(this).data("sound_player",n))})},e.extend(t.prototype,{embed:function(t){var n="v"+parseInt(1e8*Math.random(),10),i=this;this.$container.find("span").attr("id",n),swfobject.embedSWF("https://d3mlfyygrfdi2i.cloudfront.net/321f/kickplayer.swf",n,this.$container.width(),this.$container.height(),"9.0.115","https://d3mlfyygrfdi2i.cloudfront.net/7b65/expressInstall.swf",{displayheight:this.$container.height(),file:encodeURI(this.$container.attr("data-file")),backcolor:"000000",screencolor:"000000",controlbar:"bottom","controlbar.idlehide":"false",autostart:t,audioonly:!0,skin:"https://d3mlfyygrfdi2i.cloudfront.net/cc3a/kickskin.swf"},{allowscriptaccess:"always",wmode:"opaque",menu:"false"},{id:"sound_player_"+n,class:"ksr_player",name:"sound_player_"+n},function(n){if(n.success)i.jwplayer=jwplayer(n.ref);else{var r=e("<audio />",{src:i.$container.attr("data-file"),controls:!0,autoplay:t});i.$container.html(r),i.$audio=r}}),this.initialized=!0}})}(i)},143:function(e,t,n){"use strict";var i=(n(0),n(0));!function(){i.fn.tabs=function(){return i(this).each(function(){var e=i(this);e.on("activate",function(t,n){var r=i(n),a=i("#"+r.data("pane"));e.data("pane")&&e.data("pane").trigger("deactivated"),e.data("pane",a.trigger("activated"))}),e.children().on("click",function(){i(this).parent().trigger("activate",i(this))})})},i.fn.panes=function(){var e=i(this);return e.each(function(){e.children().on("activated",function(){i(this).show()}).on("deactivated",function(){i(this).hide()})})}}()},144:function(e,t,n){var i=n(0);n(0);!function(e){"use strict";function t(e){return(e||"").toLowerCase()}e.fn.cycle=function(n){var i;return 0!==this.length||e.isReady?this.each(function(){var i,r,a,s,o=e(this),l=e.fn.cycle.log;if(!o.data("cycle.opts")){(!1===o.data("cycle-log")||n&&!1===n.log||r&&!1===r.log)&&(l=e.noop),l("--c2 init--"),i=o.data();for(var u in i)i.hasOwnProperty(u)&&/^cycle[A-Z]+/.test(u)&&(s=i[u],a=u.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),l(a+":",s,"("+typeof s+")"),i[a]=s);r=e.extend({},e.fn.cycle.defaults,i,n||{}),r.timeoutId=0,r.paused=r.paused||!1,r.container=o,r._maxZ=r.maxZ,r.API=e.extend({_container:o},e.fn.cycle.API),r.API.log=l,r.API.trigger=function(e,t){return r.container.trigger(e,t),r.API},o.data("cycle.opts",r),o.data("cycle.API",r.API),r.API.trigger("cycle-bootstrap",[r,r.API]),r.API.addInitialSlides(),r.API.preInitSlideshow(),r.slides.length&&r.API.initSlideshow()}}):(i={s:this.selector,c:this.context},e.fn.cycle.log("requeuing slideshow (dom not ready)"),e(function(){e(i.s,i.c).cycle(n)}),this)},e.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var t=this.opts(),n=t.slides;t.slideCount=0,t.slides=e(),n=n.jquery?n:t.container.find(n),t.random&&n.sort(function(){return Math.random()-.5}),t.API.add(n)},preInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-pre-initialize",[t]);var n=e.fn.cycle.transitions[t.fx];n&&e.isFunction(n.preInit)&&n.preInit(t),t._preInitialized=!0},postInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-post-initialize",[t]);var n=e.fn.cycle.transitions[t.fx];n&&e.isFunction(n.postInit)&&n.postInit(t)},initSlideshow:function(){var t,n=this.opts(),i=n.container;n.API.calcFirstSlide(),"static"==n.container.css("position")&&n.container.css("position","relative"),e(n.slides[n.currSlide]).css("opacity",1).show(),n.API.stackSlides(n.slides[n.currSlide],n.slides[n.nextSlide],!n.reverse),n.pauseOnHover&&(!0!==n.pauseOnHover&&(i=e(n.pauseOnHover)),i.hover(function(){n.API.pause(!0)},function(){n.API.resume(!0)})),n.timeout&&(t=n.API.getSlideOpts(n.currSlide),n.API.queueTransition(t,t.timeout+n.delay)),n._initialized=!0,n.API.updateView(!0),n.API.trigger("cycle-initialized",[n]),n.API.postInitSlideshow()},pause:function(t){var n=this.opts(),i=n.API.getSlideOpts(),r=n.hoverPaused||n.paused;t?n.hoverPaused=!0:n.paused=!0,r||(n.container.addClass("cycle-paused"),n.API.trigger("cycle-paused",[n]).log("cycle-paused"),i.timeout&&(clearTimeout(n.timeoutId),n.timeoutId=0,n._remainingTimeout-=e.now()-n._lastQueue,(n._remainingTimeout<0||isNaN(n._remainingTimeout))&&(n._remainingTimeout=void 0)))},resume:function(e){var t=this.opts(),n=!t.hoverPaused&&!t.paused;e?t.hoverPaused=!1:t.paused=!1,n||(t.container.removeClass("cycle-paused"),0===t.slides.filter(":animated").length&&t.API.queueTransition(t.API.getSlideOpts(),t._remainingTimeout),t.API.trigger("cycle-resumed",[t,t._remainingTimeout]).log("cycle-resumed"))},add:function(t,n){var i,r=this.opts(),a=r.slideCount,s=!1;"string"==e.type(t)&&(t=e.trim(t)),e(t).each(function(t){var i,a=e(this);n?r.container.prepend(a):r.container.append(a),r.slideCount++,i=r.API.buildSlideOpts(a),r.slides=n?e(a).add(r.slides):r.slides.add(a),r.API.initSlide(i,a,--r._maxZ),a.data("cycle.opts",i),r.API.trigger("cycle-slide-added",[r,i,a])}),r.API.updateView(!0),(s=r._preInitialized&&a<2&&r.slideCount>=1)&&(r._initialized?r.timeout&&(i=r.slides.length,r.nextSlide=r.reverse?i-1:1,r.timeoutId||r.API.queueTransition(r)):r.API.initSlideshow())},calcFirstSlide:function(){var e,t=this.opts();e=parseInt(t.startingSlide||0,10),(e>=t.slides.length||e<0)&&(e=0),t.currSlide=e,t.reverse?(t.nextSlide=e-1,t.nextSlide<0&&(t.nextSlide=t.slides.length-1)):(t.nextSlide=e+1,t.nextSlide==t.slides.length&&(t.nextSlide=0))},calcNextSlide:function(){var e,t=this.opts();t.reverse?(e=t.nextSlide-1<0,t.nextSlide=e?t.slideCount-1:t.nextSlide-1,t.currSlide=e?0:t.nextSlide+1):(e=t.nextSlide+1==t.slides.length,t.nextSlide=e?0:t.nextSlide+1,t.currSlide=e?t.slides.length-1:t.nextSlide-1)},calcTx:function(t,n){var i,r=t;return n&&r.manualFx&&(i=e.fn.cycle.transitions[r.manualFx]),i||(i=e.fn.cycle.transitions[r.fx]),i||(i=e.fn.cycle.transitions.fade,r.API.log('Transition "'+r.fx+'" not found.  Using fade.')),i},prepareTx:function(e,t){var n,i,r,a,s,o=this.opts();if(o.slideCount<2)return void(o.timeoutId=0);!e||o.busy&&!o.manualTrump||(o.API.stopTransition(),o.busy=!1,clearTimeout(o.timeoutId),o.timeoutId=0),o.busy||(0!==o.timeoutId||e)&&(i=o.slides[o.currSlide],r=o.slides[o.nextSlide],a=o.API.getSlideOpts(o.nextSlide),s=o.API.calcTx(a,e),o._tx=s,e&&void 0!==a.manualSpeed&&(a.speed=a.manualSpeed),o.nextSlide!=o.currSlide&&(e||!o.paused&&!o.hoverPaused&&o.timeout)?(o.API.trigger("cycle-before",[a,i,r,t]),s.before&&s.before(a,i,r,t),n=function(){o.busy=!1,o.container.data("cycle.opts")&&(s.after&&s.after(a,i,r,t),o.API.trigger("cycle-after",[a,i,r,t]),o.API.queueTransition(a),o.API.updateView(!0))},o.busy=!0,s.transition?s.transition(a,i,r,t,n):o.API.doTransition(a,i,r,t,n),o.API.calcNextSlide(),o.API.updateView()):o.API.queueTransition(a))},doTransition:function(t,n,i,r,a){var s=t,o=e(n),l=e(i),u=function(){l.animate(s.animIn||{opacity:1},s.speed,s.easeIn||s.easing,a)};l.css(s.cssBefore||{}),o.animate(s.animOut||{},s.speed,s.easeOut||s.easing,function(){o.css(s.cssAfter||{}),s.sync||u()}),s.sync&&u()},queueTransition:function(t,n){var i=this.opts(),r=void 0!==n?n:t.timeout;if(0===i.nextSlide&&0==--i.loop)return i.API.log("terminating; loop=0"),i.timeout=0,r?setTimeout(function(){i.API.trigger("cycle-finished",[i])},r):i.API.trigger("cycle-finished",[i]),void(i.nextSlide=i.currSlide);r&&(i._lastQueue=e.now(),void 0===n&&(i._remainingTimeout=t.timeout),i.paused||i.hoverPaused||(i.timeoutId=setTimeout(function(){i.API.prepareTx(!1,!i.reverse)},r)))},stopTransition:function(){var e=this.opts();e.slides.filter(":animated").length&&(e.slides.stop(!1,!0),e.API.trigger("cycle-transition-stopped",[e])),e._tx&&e._tx.stopTransition&&e._tx.stopTransition(e)},advanceSlide:function(e){var t=this.opts();return clearTimeout(t.timeoutId),t.timeoutId=0,t.nextSlide=t.currSlide+e,t.nextSlide<0?t.nextSlide=t.slides.length-1:t.nextSlide>=t.slides.length&&(t.nextSlide=0),t.API.prepareTx(!0,e>=0),!1},buildSlideOpts:function(n){var i,r,a=this.opts(),s=n.data()||{};for(var o in s)s.hasOwnProperty(o)&&/^cycle[A-Z]+/.test(o)&&(i=s[o],r=o.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),a.API.log("["+(a.slideCount-1)+"]",r+":",i,"("+typeof i+")"),s[r]=i);s=e.extend({},e.fn.cycle.defaults,a,s),s.slideNum=a.slideCount;try{delete s.API,delete s.slideCount,delete s.currSlide,delete s.nextSlide,delete s.slides}catch(e){}return s},getSlideOpts:function(t){var n=this.opts();void 0===t&&(t=n.currSlide);var i=n.slides[t],r=e(i).data("cycle.opts");return e.extend({},n,r)},initSlide:function(t,n,i){var r=this.opts();n.css(t.slideCss||{}),i>0&&n.css("zIndex",i),isNaN(t.speed)&&(t.speed=e.fx.speeds[t.speed]||e.fx.speeds._default),t.sync||(t.speed=t.speed/2),n.addClass(r.slideClass)},updateView:function(e,t,n){var i=this.opts();if(i._initialized){var r=i.API.getSlideOpts(),a=i.slides[i.currSlide];!e&&!0!==t&&(i.API.trigger("cycle-update-view-before",[i,r,a]),i.updateView<0)||(i.slideActiveClass&&i.slides.removeClass(i.slideActiveClass).eq(i.currSlide).addClass(i.slideActiveClass),e&&i.hideNonActive&&i.slides.filter(":not(."+i.slideActiveClass+")").hide(),0===i.updateView&&setTimeout(function(){i.API.trigger("cycle-update-view",[i,r,a,e])},r.speed/(i.sync?2:1)),0!==i.updateView&&i.API.trigger("cycle-update-view",[i,r,a,e]),e&&i.API.trigger("cycle-update-view-after",[i,r,a]))}},getComponent:function(t){var n=this.opts(),i=n[t];return"string"==typeof i?/^\s*[\>|\+|~]/.test(i)?n.container.find(i):e(i):i.jquery?i:e(i)},stackSlides:function(t,n,i){var r=this.opts();t||(t=r.slides[r.currSlide],n=r.slides[r.nextSlide],i=!r.reverse),e(t).css("zIndex",r.maxZ);var a,s=r.maxZ-2,o=r.slideCount;if(i){for(a=r.currSlide+1;a<o;a++)e(r.slides[a]).css("zIndex",s--);for(a=0;a<r.currSlide;a++)e(r.slides[a]).css("zIndex",s--)}else{for(a=r.currSlide-1;a>=0;a--)e(r.slides[a]).css("zIndex",s--);for(a=o-1;a>r.currSlide;a--)e(r.slides[a]).css("zIndex",s--)}e(n).css("zIndex",r.maxZ-1)},getSlideIndex:function(e){return this.opts().slides.index(e)}},e.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},e.fn.cycle.version=function(){return"Cycle2: 2.0.2"},e.fn.cycle.transitions={custom:{},none:{before:function(e,t,n,i){e.API.stackSlides(n,t,i),e.cssBefore={opacity:1,display:"block"}}},fade:{before:function(t,n,i,r){var a=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(n,i,r),t.cssBefore=e.extend(a,{opacity:0,display:"block"}),t.animIn={opacity:1},t.animOut={opacity:0}}},fadeout:{before:function(t,n,i,r){var a=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(n,i,r),t.cssBefore=e.extend(a,{opacity:1,display:"block"}),t.animOut={opacity:0}}},scrollHorz:{before:function(e,t,n,i){e.API.stackSlides(t,n,i);var r=e.container.css("overflow","hidden").width();e.cssBefore={left:i?r:-r,top:0,opacity:1,display:"block"},e.cssAfter={zIndex:e._maxZ-2,left:0},e.animIn={left:0},e.animOut={left:i?-r:r}}}},e.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4e3,updateView:0},e(document).ready(function(){e(e.fn.cycle.defaults.autoSelector).cycle()})}(i)},145:function(e,t,n){var i=n(0);n(0);!function(e){"use strict";var t=e.fn.cycle;e.fn.cycle=function(n){var i,r,a,s=e.makeArray(arguments);return"number"==e.type(n)?this.cycle("goto",n):"string"==e.type(n)?this.each(function(){var o;return i=n,void 0===(a=e(this).data("cycle.opts"))?void t.log('slideshow must be initialized before sending commands; "'+i+'" ignored'):(i="goto"==i?"jump":i,r=a.API[i],e.isFunction(r)?(o=e.makeArray(s),o.shift(),r.apply(a.API,o)):void t.log("unknown command: ",i))}):t.apply(this,arguments)},e.extend(e.fn.cycle,t),e.extend(t.API,{next:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?-1:1;!1===e.allowWrap&&e.currSlide+t>=e.slideCount||(e.API.advanceSlide(t),e.API.trigger("cycle-next",[e]).log("cycle-next"))}},prev:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?1:-1;!1===e.allowWrap&&e.currSlide+t<0||(e.API.advanceSlide(t),e.API.trigger("cycle-prev",[e]).log("cycle-prev"))}},destroy:function(){this.stop();var t=this.opts(),n=e.isFunction(e._data)?e._data:e.noop;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stop(),t.API.trigger("cycle-destroyed",[t]).log("cycle-destroyed"),t.container.removeData(),n(t.container[0],"parsedAttrs",!1),t.retainStylesOnDestroy||(t.container.removeAttr("style"),t.slides.removeAttr("style"),t.slides.removeClass(t.slideActiveClass)),t.slides.each(function(){e(this).removeData(),n(this,"parsedAttrs",!1)})},jump:function(e){var t,n=this.opts();if(!n.busy||n.manualTrump){var i=parseInt(e,10);if(isNaN(i)||i<0||i>=n.slides.length)return void n.API.log("goto: invalid slide index: "+i);if(i==n.currSlide)return void n.API.log("goto: skipping, already on slide",i);n.nextSlide=i,clearTimeout(n.timeoutId),n.timeoutId=0,n.API.log("goto: ",i," (zero-index)"),t=n.currSlide<n.nextSlide,n.API.prepareTx(!0,t)}},stop:function(){var t=this.opts(),n=t.container;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stopTransition(),t.pauseOnHover&&(!0!==t.pauseOnHover&&(n=e(t.pauseOnHover)),n.off("mouseenter mouseleave")),t.API.trigger("cycle-stopped",[t]).log("cycle-stopped")},reinit:function(){var e=this.opts();e.API.destroy(),e.container.cycle()},remove:function(t){for(var n,i,r=this.opts(),a=[],s=1,o=0;o<r.slides.length;o++)n=r.slides[o],o==t?i=n:(a.push(n),e(n).data("cycle.opts").slideNum=s,s++);i&&(r.slides=e(a),r.slideCount--,e(i).remove(),t==r.currSlide?r.API.advanceSlide(1):t<r.currSlide?r.currSlide--:r.currSlide++,r.API.trigger("cycle-slide-removed",[r,t,i]).log("cycle-slide-removed"),r.API.updateView())}}),e(document).on("click.cycle","[data-cycle-cmd]",function(t){t.preventDefault();var n=e(this),i=n.data("cycle-cmd"),r=n.data("cycle-context")||".cycle-slideshow";e(r).cycle(i,n.data("cycle-arg"))})}(i)},146:function(e,t,n){var i=n(0);n(0);!function(e){"use strict";function t(t,i){var r,a,s,o=i.autoHeight;if("container"==o)a=e(i.slides[i.currSlide]).outerHeight(),i.container.height(a);else if(i._autoHeightRatio)i.container.height(i.container.width()/i._autoHeightRatio);else if("calc"===o||"number"==e.type(o)&&o>=0){if((s="calc"===o?n(t,i):o>=i.slides.length?0:o)==i._sentinelIndex)return;i._sentinelIndex=s,i._sentinel&&i._sentinel.remove(),r=e(i.slides[s].cloneNode(!0)),r.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),r.css({position:"static",visibility:"hidden",display:"block"}).prependTo(i.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),r.find("*").css("visibility","hidden"),i._sentinel=r}}function n(t,n){var i=0,r=-1;return n.slides.each(function(t){var n=e(this).height();n>r&&(r=n,i=t)}),i}function i(t,n,i,r,a){var s=e(r).outerHeight();n.container.animate({height:s},n.autoHeightSpeed,n.autoHeightEasing)}function r(n,a){a._autoHeightOnResize&&(e(window).off("resize orientationchange",a._autoHeightOnResize),a._autoHeightOnResize=null),a.container.off("cycle-slide-added cycle-slide-removed",t),a.container.off("cycle-destroyed",r),a.container.off("cycle-before",i),a._sentinel&&(a._sentinel.remove(),a._sentinel=null)}e.extend(e.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null}),e(document).on("cycle-initialized",function(n,a){function s(){t(n,a)}var o,l=a.autoHeight,u=e.type(l),c=null;"string"!==u&&"number"!==u||(a.container.on("cycle-slide-added cycle-slide-removed",t),a.container.on("cycle-destroyed",r),"container"==l?a.container.on("cycle-before",i):"string"===u&&/\d+\:\d+/.test(l)&&(o=l.match(/(\d+)\:(\d+)/),o=o[1]/o[2],a._autoHeightRatio=o),"number"!==u&&(a._autoHeightOnResize=function(){clearTimeout(c),c=setTimeout(s,50)},e(window).on("resize orientationchange",a._autoHeightOnResize)),setTimeout(s,30))})}(i)},152:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=i(r),s=n(95),o=i(s),l=n(17),u=i(l);n(11),(0,a.default)(function(){function e(e){var t=new u.default(e).domain();return""===t||t===new u.default(window.location.href).domain()}(0,a.default)(document).ajaxSend(function(t,n,i){"GET"!==i.type&&e(i.url)&&n.setRequestHeader("X-CSRF-Token",(0,a.default)('meta[name="csrf-token"]').attr("content"))}),(0,a.default)("form[data-ksrjson]").livequery(function(){var e=(0,a.default)([]);(0,a.default)(this).attr("data-target")?e=(0,a.default)((0,a.default)(this).attr("data-target")):(0,a.default)(this).closest(".ajax-container").length?e=(0,a.default)(this).closest(".ajax-container"):(0,a.default)(this).closest(".modal_dialog").length>0&&(e=(0,a.default)(this)),e.length>0&&o.default.enable_form((0,a.default)(this),e)}),(0,a.default)(document).on("click","a[data-ksrjson]",function(e){var t=(0,a.default)(this),n=(0,a.default)(t.attr("data-target"));return e.preventDefault(),0===n.length&&(n=t.closest(".ajax-container")),0===n.length||o.default.get(t.attr("href"),t.attr("data-ksrmethod"),n,this)})})},153:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=i(r),s=n(8),o=i(s),l=n(39),u=i(l);(0,a.default)(document).on("click",".js-facebook-login, a.facebook-link",function(e){var t=(0,a.default)(this);e.preventDefault(),"undefined"!==window.FB?FB.login(function(e){e.authResponse&&a.default.post(t.attr("href"),{fbsr:e.authResponse.signedRequest}).done(function(e){e.data&&(0,u.default)(e.data,window.location.href)?window.location.reload(!0):e.data?window.location=e.data:e.flash&&(a.default.isArray(e.flash)&&a.default.isArray(e.flash[0])?(0,o.default)(a.default.map(e.flash,function(e){return e[e.length-1]})):e.flash&&(0,o.default)(e.flash))})},{scope:"email,user_friends,public_profile"}):(0,o.default)({error:"Sorry, we weren't able to connect to Facebook"})})},154:function(e,t,n){"use strict";var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i);n(66);var a=n(7);!function(){(0,r.default)(function(){var e=(0,r.default)(".js-mega-footer");e.length&&function(){function t(e){e>9||(l.removeClass(s[o]),o+=1,o===s.length&&(o=0),l.addClass(s[o]),setTimeout(function(){t(e+1)},100))}var n,i=0,s=["icon-scissors-1","icon-scissors-2","icon-scissors-3"],o=0,l=(0,r.default)("span.scissors",e);l.click(function(){n||(n=(0,r.default)(".js-mega-footer__content").width()/3),i+=1,t(0),l.animate({marginLeft:n*i},1e3,function(){3===i&&(l.hide(),e.height(e.height()),e.addClass("gone"),(0,r.default)("html").addClass("gone"),(0,r.default)(".js-mini-footer").hide(),e.find(".js-mega-footer__content").animate({marginTop:[e.height(),"easeInOutExpo"],opacity:0},1e3,function(){(0,r.default)(".js-mega-footer__newsletter-signup").fadeIn()}))})}),(0,r.default)(document).on("change",".js-change-language",function(e){var t=e.target.value,n=(0,r.default)("body").attr("id");(0,a.track)("Selected Chosen Language",{property:t,context:n}),(0,r.default)(this).submit()}),(0,r.default)(document).on("change",".js-change-currency",function(e){var t=(0,r.default)(this),n=e.target.value,i=(0,r.default)("body").attr("id");(0,r.default)("#currency-modal").modal_dialog({event:e}),(0,r.default)(".currency-submit").on("click",function(){(0,a.track)("Selected Chosen Currency",{property:n,context:i}),t.submit()})})}()})}()},155:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=i(r);n(27),n(35),n(36),n(130),n(32),n(37),n(50);var s=n(5),o=i(s),l=n(21),u=i(l),c=n(14),d=n(2),f=i(d),h=n(24),p=i(h),g=n(34),m=i(g),v=n(7),_=n(94),y=n(77);n(33);var b=n(16),w=i(b);(0,a.default)(function(){function e(e){if(!a.default.support.transitionEvent())return 0;var t=e.css("transition-duration");return/ms$/.test(t)?parseFloat(t,10)||0:1e3*parseFloat(t,10)||0}function t(e,t,n,i){e.which===c.DOWN&&n.is(".selected")?(i.find(":tabbable:first").focus(),e.preventDefault()):e.which!==c.DOWN||n.is(".selected")?e.which===c.UP&&n.is(".selected")?(t.click(),e.preventDefault()):e.which===c.SPACE&&(t.click(),e.preventDefault()):(t.click(),e.preventDefault())}function n(e,t,n){var i,r,s=(0,a.default)(e.target),o=n.find(":tabbable"),l=o.length,u=o.index(s);e.which===c.LEFT||e.which===c.RIGHT?(r=e.which===c.LEFT?-1:1,i=n.find(".js-dropdown_group"),u=i.index(s.closest(i)),i.length>0&&-1!==u&&u+r>=0&&u+r<i.length&&(u+=r,i.eq(u).find(":tabbable:first").focus()),e.preventDefault()):e.which===c.UP&&0===u?(t.focus(),e.preventDefault()):e.which===c.DOWN&&u===l-1?e.preventDefault():e.which!==c.DOWN&&e.which!==c.UP||(r=e.which===c.DOWN?1:-1,o.eq(u+r).focus(),e.preventDefault())}function i(e){te=e,te?Q.addClass("selecting"):(Q.removeClass("selecting"),X.find(".js-livesearch-result").removeClass("selected"))}function r(){var e=$.find(".ksr-icon__close");W.trigger("livesearch:cancel"),W.val(""),e.hide(),ae&&ae.hide(),J&&J.slideUp(function(){Q.empty(),G.fadeOut(200),re.empty(),ae.empty()}),R.removeClass("searching")}function s(){X.find(".js-livesearch-result").length<le?J.find(".arrow").addClass("hide"):(J.find(".arrow").removeClass("hide"),0===X.data("cur_page")&&X.find(".js-prev").addClass("hide"),X.data("cur_page")===X.data("last_page")&&X.find(".js-next").addClass("hide"))}function l(e){e.preventDefault(),$.removeClass("submitting-non-ajax")}function d(e){e?$.off("submit",l):$.on("submit",l)}function h(e,t){return-1!==e.attr("class").indexOf(t)}function g(e,t){e.attr("class",function(e,n){return n+" "+t})}function b(e,t){e.attr("class",function(e,n){var i=new RegExp(t,"g");return n.replace(i,"").trim()})}function A(e,t){t.addClass("livesearch-list"),o.default.each(e.projects,function(e){e.url_ref="nav_search",t.append('<li class="livesearch-result js-livesearch-result">'+(0,p.default)("projects/_baseball_card_tall",e,["projects/_baseball_card_tall_spotlight","projects/_baseball_card_tall_standard"])+"</li>")}),t.find(".js-track-project-card").each(function(e,t){(0,y.initProjectCardClickedTracking)(t,"Clicked Search Result",{discover_term:W.val(),type:"search_preview"})})}function x(e){re.html(e.header),e.footer?(ae.html(e.footer),ae.show()):(ae.empty(),ae.hide())}function E(e,t,n){e.projects.length>le?(Z.html(t),Z.prop("href",n),Z.removeClass("hidden"),ee.addClass("hidden")):(ee.html(f.default.t("onloads.views.layouts.navigation.Displaying_all_amount_results",{count:e.projects.length})),ee.removeClass("hidden"),Z.addClass("hidden"))}function C(e){Q.html(e),R.addClass("searching"),J.slideDown("fast"),G.fadeIn(200),Q.trigger("goto",[0]),X.data("cur_page",0),X.data("last_page",Math.floor((e.children().length-1)/le)),s(),i(!1)}function P(){clearTimeout(Y),h(ie,"hide")||(g(ie,"hide"),b(ne,"hide"))}function S(){K.addClass("hide")}function D(){K.removeClass("hide")}function j(){return a.default.getJSON(ue)}function T(e){var t=(0,a.default)("<ul></ul>");t.addClass("livesearch-list");var n=ue+"?ref=nav_search_no_results&sort=newest",i=f.default.t("onloads.views.layouts.navigation.Show_more_term_projects",{term:(0,a.default)(".js-livesearch-no-results").data("filler-type")}),r=(0,a.default)("<b></b>");r.addClass("h3 center block").html(f.default.t("onloads.views.layouts.navigation.Oops_looks_like_we_couldnt_find_any_search_results"));var s=(0,a.default)("<div></div>");s.addClass("h4 center m4").html(f.default.t("onloads.views.layouts.navigation.Or_explore_some_of_our_most_popular_projects")),K.text()||K.append(r,s),D(),A(e,t),x(e),E(e,i,n),C(t)}function k(e){var t=(0,a.default)("<ul></ul>");t.addClass("livesearch-list");var n=e.search_url,i=f.default.t("onloads.views.layouts.navigation.See_all_results_for_term",{term:W.val()});S(),A(e,t),x(e),E(e,i,n),C(t)}function I(){K.is(":visible")?P():j().then(function(e){T(e),P()})}var R=(0,a.default)("body"),M=R.hasClass("project"),O=[".js-admin-nav-wrap"],N=(0,_.combineHeight)([".js-site-nav-container"].concat(O));M||(0,_.setupScrollLocking)({element:".js-site-nav-body",offsets:O}),m.default["not-touchable"]&&(!M&&(0,a.default)(".js-livesearch-wrap").length&&(0,_.setupScrollLocking)({element:".js-livesearch-wrap",offsets:O}),(0,a.default)(".js-user-dropdown").length&&(0,_.setupScrollLocking)({element:".js-user-dropdown",offsets:[".js-site-nav-body"].concat(O),styles:function(){return{onLock:{"max-height":"calc(100% - "+N+"px)"},offLock:{"max-height":"initial"}}}})),(0,a.default)(".js-discover-link").click(function(){(0,v.track)("About KSR Navigation Discover Click")}),(0,a.default)(".js-start-link").click(function(){(0,v.track)("About KSR Navigation Start Click")}),(0,a.default)(".js-about-us-link").click(function(){(0,v.track)("About KSR Navigation About Us Click")}),void 0!==w.default&&w.default.on_change("name",function(e){(0,a.default)(".js-user-menu .user_context strong").text(e.name)}),KSR.store.getItem("banner_country_projects_hide")||((0,a.default)(".country_tout").removeClass("hidden"),KSR.store.getItem("banner_country_projects_animated")?((0,a.default)(".country_tout").css({"margin-top":"0px"}),(0,a.default)(".country_tout").addClass("expanded")):(0,a.default)(".country_tout").delay(1200).animate({marginTop:"0px"},400,"easeOutExpo",function(){(0,a.default)(this).addClass("expanded"),KSR.store.setItem("banner_country_projects_animated",!0)})),(0,a.default)(".country_tout .close").click(function(){(0,a.default)(".country_tout").animate({"margin-top":"-40px"},400,"easeOutExpo"),(0,a.default)(".country_tout").removeClass("expanded"),(0,a.default)(".country_tout").addClass("hidden")}),(0,a.default)(".country_tout a, .country_tout .close").on("click",function(){KSR.store.setItem("banner_country_projects_hide",!0)}),(0,a.default)("#js-user_menu_dropdown").attr("aria-expanded","false").attr("aria-hidden","true"),(0,a.default)("#js-user_nav_select").attr("aria-haspopup","true").attr("aria-expanded","false"),(0,a.default)("#js-nav-secondary").attr("aria-hidden","true"),(0,a.default)("#js-nav-secondary").find("a").each(function(e,t){(0,a.default)(t).attr("tabindex","-1")}),(0,a.default)("#js-nav-search").attr("aria-hidden","true"),(0,a.default)(".js-search-term").attr("tabindex","-1");var L=function(){return e(z)+30},F=(0,a.default)("html"),$=(0,a.default)(".js-header-livesearch"),B=(0,a.default)(".js-site-nav-container"),z=(0,a.default)("#js-nav-search"),H=(0,a.default)("#js-nav-primary"),W=$.find(".js-search-term"),U=(0,a.default)(".js-search-term-gs"),V=function(){B.removeClass("site-nav--search-is-visible"),z.attr("aria-hidden","true"),H.attr("aria-hidden","false"),W.attr("tabindex","-1")};(0,a.default)(".js-toggle-search").on("click",function(e){e.preventDefault(),B.hasClass("site-nav--search-is-visible")?(r(),V(),setTimeout(function(){H.find(".js-toggle-search").focus(),(0,a.default)(".js-searchbar").removeClass("site-nav__item--searchbar--visible")},L())):(B.addClass("site-nav--search-is-visible"),H.attr("aria-hidden","true"),z.attr("aria-hidden","false"),W.attr("tabindex","0"),setTimeout(function(){W.focus(),(0,a.default)(".js-searchbar").addClass("site-nav__item--searchbar--visible")},L())),(0,v.track)("Clicked Search Bar")}),window.escapeSearchBar=function(){return U.val().length?(U.val(""),!1):(q(),!0)};var q=function(){z.attr("aria-hidden","true").addClass("display-none").removeClass("block animation-fade-in animation-300 animation-easeOutQuart"),H.attr("aria-hidden","false"),W.attr("tabindex","-1"),F.removeClass("clip"),setTimeout(function(){H.find(".js-toggle-search-gs").focus()},L())};if((0,a.default)(".js-toggle-search-gs").on("click",function(e){e.preventDefault(),z.hasClass("display-none")?(H.attr("aria-hidden","true"),z.attr("aria-hidden","false").removeClass("display-none").addClass("block animation-fade-in animation-300 animation-easeOutQuart"),U.attr("tabindex","1"),setTimeout(function(){U.focus()},L())):q(),(0,v.track)("Clicked Search Bar")}),(0,a.default)(".js-tab-expand").click(function(e){e.preventDefault();var t=(0,a.default)(this),n=t.closest(".js-user_menu_dropdown"),i=!0;n.is("#menu-sub-me")?(0,a.default)("#menu-sub-me").trigger("user_dropdown:open"):(n.addClass("selected"),(0,a.default)(".js-user-dropdown").addClass("selected")),t.focus(),(0,a.default)("#js-user_menu_dropdown").attr("aria-expanded","true").attr("aria-hidden","false"),(0,a.default)("#js-user_nav_select").attr("aria-expanded","true"),n.find("span.count").remove(),(0,a.default)(document).on("click."+n.attr("id"),function(e){if(i)return void(i=!1);(0,a.default)(e.target).parents(".dropdown-child").length||((0,a.default)(document).off("click."+n.attr("id")),n.removeClass("selected"),(0,a.default)(".js-user-dropdown").removeClass("selected"),(0,a.default)("#js-user_menu_dropdown").attr("aria-expanded","false").attr("aria-hidden","true"),(0,a.default)("#js-user_nav_select").attr("aria-expanded","false"))})}),(0,a.default)("#js-user_nav_select, .js-user-dropdown").on("keydown",function(e){var i=(0,a.default)(e.target),r=(0,a.default)(".js-user-dropdown"),s=(0,a.default)("#js-user_nav_select"),o=(0,a.default)(".js-user-dropdown");e.which===c.ESC?(s.click(),e.preventDefault()):i.is(s)?t(e,s,r,o):i.closest(o).length&&n(e,s,o)}),!(u.default.msie&&u.default.version<=6||(0,a.default)("body.touchable").length)){var Y,G=(0,a.default)(".js-livesearch-overlay"),J=(0,a.default)(".js-livesearch-wrap"),X=(0,a.default)(".js-livesearch-container"),Q=(0,a.default)(".js-livesearch-results"),K=(0,a.default)(".js-livesearch-no-results"),Z=(0,a.default)(".js-livesearch-see-all-results"),ee=(0,a.default)(".js-livesearch-displaying-results"),te=!1,ne=W.siblings(".svg-icon__search"),ie=W.siblings(".js-loading-spinner"),re=X.find(".header"),ae=X.find("p.footer"),se=X.find(".js-close"),oe=$.find(".ksr-icon__close"),le=4,ue=(0,a.default)(".js-livesearch-no-results").data("filler-projects-url");Q.serialScroll({items:".js-livesearch-result",lazy:!0,lock:!1,step:le,cycle:!1,duration:500}),J.on("click",".js-next:not(.disabled)",function(){Q.trigger("next"),X.data("cur_page",X.data("cur_page")+1),s(),te&&i(!1)}),J.on("click",".js-prev:not(.disabled)",function(){Q.trigger("prev"),X.data("cur_page",X.data("cur_page")-1),s(),te&&i(!1)}),W.livesearch({minimum_characters:2,file_extension:"json",process_data:function(){return{term:W.val().trim(),ref:"nav_search"}}}).data("livesearch"),W.on("livesearch:searching",function(){Y=setTimeout(function(){g(ne,"hide"),b(ie,"hide")},750),d(!1)}),W.on("keypress keydown cut paste input",function(e){13!==e.keyCode&&(27===e.keyCode&&(0,a.default)(".js-toggle-search:first").click(),d(!1))}),W.on("livesearch:results livesearch:ajax_error",function(){d(!0)}),W.on("livesearch:ajax_error",function(){P()}),W.on("livesearch:results",function(e,t){t.projects&&t.projects.length?(k(t),P()):I()}),(0,a.default)(window).on("scroll",function(){J.is(":visible")&&(0,a.default)(window).scrollTop()>X.offset().top+X.height()&&r()}),(0,a.default)(document).click(function(e){(0,a.default)(e.target).closest(".js-livesearch-wrap").length||(0,a.default)(e.target).closest(".js-search-term, .site-nav__right").length||(r(),V())}),W.on("keypress cut paste input",function(){this.value?oe.show():(oe.hide(),r())}),oe.on("click",function(){r(),W.focus()}),se.on("click",r),(0,a.default)(document).on("select",".js-livesearch-container .js-livesearch-result",function(){var e=(0,a.default)(this),t=X.find(".js-livesearch-result.selected").removeClass("selected");e.addClass("selected"),i(!0),e.index()>t.index()&&e.index()%le==0?Q.trigger("goto",[e.index()]):e.index()<t.index()&&t.index()%le==0&&Q.trigger("goto",[t.index()-le]),X.data("cur_page",Math.floor(e.index()/le)),s()}),W.on("keydown",function(e){var t,n=X.find("li.selected"),r=!!n.length;switch(e.keyCode){case c.UP:i(!1),e.preventDefault();break;case c.DOWN:r||X.find(".js-livesearch-result:first").trigger("select"),i(!0),e.preventDefault();break;case c.LEFT:if(!te)break;r?n.prev("li").trigger("select"):X.find(".js-livesearch-result:first").trigger("select"),e.preventDefault();break;case c.RIGHT:if(!te)break;r?n.next("li").trigger("select"):X.find(".js-livesearch-result:last").trigger("select"),e.preventDefault();break;case c.ENTER:if(!te)break;if(!(t=n.find("h2 strong a").attr("href")))break;window.location=t,e.preventDefault();break;case c.ESC:i(!1),e.preventDefault()}})}})},156:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=i(r),s=n(5),o=i(s),l=n(4),u=i(l),c=n(10),d=i(c),f=n(94),h=n(2),p=i(h);(0,u.default)(".NS_layouts__notifications",function(e){function t(t){var n=(0,a.default)(".js-banner-text",e);if(0!==n.length){var i=o.default.pairs(o.default.countBy((0,a.default)(".js-alert-box",e).map(function(){return(0,a.default)(this).data("category")}).get(),function(e){return e})),r=o.default.reduce(i,function(e,t){return e+t[1]},0),s=(0,a.default)(".js-cta",e),l=(0,a.default)(".js-banner-dismiss",e),u=(0,a.default)(".js-banner-toggle-button",e);if(1===r&&t){n.html((0,a.default)(".js-alert-body",e).html());var c=(0,a.default)(".js-alert-cta")[0];c?(s.html(c),s.show()):(s.html(""),s.hide());var f=(0,a.default)(".js-alert-dismiss",e);f.length?(l[0].setAttribute("href",f.attr("href")),l.show()):l.hide(),u.hide()}else{var h=o.default.map(i,function(e){return e[0]}).sort().map(function(e){return"<span class='bold'>"+p.default.t(e)+"</span>"}),g="<span class='bold'>"+p.default.t("banners.title.alerts",{count:r})+"</span>",m=d.default.to_sentence(h);n.html(p.default.t("banners.title.text",{alerts:g,categories:m})),(0,a.default)(".js-alert-title--urgent",e).text(p.default.t("banners.subtitles.urgent")),(0,a.default)(".js-alert-title--nonurgent",e).text(2===(0,a.default)(".js-alert-section",e).length?p.default.t("banners.subtitles.nonurgent.more"):p.default.t("banners.subtitles.nonurgent.less")),s.hide(),l.hide(),u.show()}(0,a.default)(".js-banner-buttons-container",e).show()}}t(!0),e.on("click",".js-alert-dismiss, .js-banner-dismiss",function(){function e(e){e.slideUp(200,function(){(0,a.default)(this).remove(),t(!1),(0,f.rebindScroll)()})}var n=(0,a.default)(this),i=n.closest(".js-banner-wrap"),r=n.closest(".js-alert-wrap"),s=".js-alert-box";return e(1===i.find(s).length?i:1===r.find(s).length?r:n.closest(s)),a.default.post(n.attr("href"),{_method:"delete"}),!1}),e.on("click",".js-banner-toggle, .js-banner-toggle-button",function(){(0,a.default)(".js-banner-wrap",e).toggleClass("bg-red-400 bg-grey-200",500),(0,a.default)(".js-banner-text",e).toggleClass("o-none",500).toggleClass("click-through",500),(0,a.default)(".alert-container",e).toggleClass("alert-container--open",500),(0,a.default)(".js-banner-toggle-icon",e).toggleClass("rotate-180",500),setTimeout(function(){(0,f.rebindScroll)()},501)})})},157:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=i(r),s=n(2),o=i(s);n(33);var l=n(7);!function(){(0,a.default)(function(){function e(){i.find("#menu-me-backed").length&&i.find(".user-dropdown").addClass("backer"),i.find("#menu-me-created").length&&i.find(".user-dropdown").addClass("creator")}function t(t){var n=i.find("#menu-me-children");KSR.store.setItem("user_dropdown_backer_creator_columns_html",t),n.children(".NS_layouts__user_dropdown_backer_creator_columns").remove(),n.append(t),e()}function n(e){s||(s=a.default.ajax({url:i.data("user_dropdown_backer_creator_columns_path"),type:"get",dataType:"html",data:{i18n:o.default.enabled},beforeSend:function(e){e.setRequestHeader("Accept","text/javascript, */*")},success:function(e){t(e),r=!0},complete:function(){e&&e(),s=!1}}))}var i=(0,a.default)(".NS_layouts__user_dropdown"),r=!1,s=!1;!function(){var e=KSR.store.getItem("user_dropdown_backer_creator_columns_html");e&&(t(e),r=!0)}(),e(),(0,a.default)(".js-user-menu-tab").on("user_dropdown:open",function(){var e=(0,a.default)(this);r?e.addClass("selected"):n(function(){e.addClass("selected")})}),(0,a.default)(".js-user-menu-tab, .js-user-menu-tab > a").one("click",function(){(0,l.track)("Account Menu Dropdown",{new_indicator_visible:(0,a.default)(this).find(".indicator").is(":visible")}),n()}),(0,a.default)(document).on("user_dropdown:refresh_from_remote",function(){n()}),(0,a.default)("body").is(".just_logged_out")&&KSR.store.removeItem("user_dropdown_backer_creator_columns_html")})}()},158:function(e,t,n){"use strict";var i=n(0);n(0);!function(e){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e(document).on("click","a[data-method]",function(i){var r=e(this),a=r.prop("href"),s=r.data("method"),o=r.prop("target"),l=e('<form method="post" action="'+a+'"></form>'),u='<input name="_method" value="'+s+'" type="hidden" />';void 0!==n&&void 0!==t&&(u+='<input name="'+n+'" value="'+t+'" type="hidden" />'),o&&l.prop("target",o),l.hide().append(u).appendTo("body"),l[0].submit(),i.preventDefault()}),t&&e.ajaxPrefilter(function(e,n,i){e.crossDomain||i.setRequestHeader("X-CSRF-Token",t)})}(i)},159:function(e,t,n){var i=n(0);n(0);!function(e){"use strict";e.extend(e.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),e(document).on("cycle-initialized",function(e,t){if(t.API.getComponent("next").on(t.nextEvent,function(e){e.preventDefault(),t.API.next()}),t.API.getComponent("prev").on(t.prevEvent,function(e){e.preventDefault(),t.API.prev()}),t.swipe){var n=t.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",i=t.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";t.container.on(n,function(e){t.API.next()}),t.container.on(i,function(){t.API.prev()})}}),e(document).on("cycle-update-view",function(e,t,n,i){if(!t.allowWrap){var r=t.disabledClass,a=t.API.getComponent("next"),s=t.API.getComponent("prev"),o=t._prevBoundry||0,l=void 0!==t._nextBoundry?t._nextBoundry:t.slideCount-1;t.currSlide==l?a.addClass(r).prop("disabled",!0):a.removeClass(r).prop("disabled",!1),t.currSlide===o?s.addClass(r).prop("disabled",!0):s.removeClass(r).prop("disabled",!1)}}),e(document).on("cycle-destroyed",function(e,t){t.API.getComponent("prev").off(t.nextEvent),t.API.getComponent("next").off(t.prevEvent),t.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(i)},164:function(e,t,n){n(0),n(0);"undefined"==typeof jwplayer&&(jwplayer=function(){if(jwplayer.api)return jwplayer.api.selectPlayer.apply(this,arguments)},jwplayer.version="6.12.4956",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(){var e={},t=Array.prototype,n=Object.prototype,i=t.slice,r=t.concat,a=n.toString,s=n.hasOwnProperty,o=t.map,l=t.forEach,u=t.filter,c=t.every,d=t.some,f=t.indexOf,n=Array.isArray,h=Object.keys,p=function(e){return e instanceof p?e:this instanceof p?void 0:new p(e)},g=p.each=p.forEach=function(t,n,i){if(null==t)return t;if(l&&t.forEach===l)t.forEach(n,i);else if(t.length===+t.length){for(var r=0,a=t.length;r<a;r++)if(n.call(i,t[r],r,t)===e)return}else for(var s=p.keys(t),r=0,a=s.length;r<a;r++)if(n.call(i,t[s[r]],s[r],t)===e)return;return t};p.map=p.collect=function(e,t,n){var i=[];return null==e?i:o&&e.map===o?e.map(t,n):(g(e,function(e,r,a){i.push(t.call(n,e,r,a))}),i)},p.find=p.detect=function(e,t,n){var i;return m(e,function(e,r,a){if(t.call(n,e,r,a))return i=e,!0}),i},p.filter=p.select=function(e,t,n){var i=[];return null==e?i:u&&e.filter===u?e.filter(t,n):(g(e,function(e,r,a){t.call(n,e,r,a)&&i.push(e)}),i)},p.every=p.all=function(t,n,i){n||(n=p.identity);var r=!0;return null==t?r:c&&t.every===c?t.every(n,i):(g(t,function(t,a,s){if(!(r=r&&n.call(i,t,a,s)))return e}),!!r)};var m=p.some=p.any=function(t,n,i){n||(n=p.identity);var r=!1;return null==t?r:d&&t.some===d?t.some(n,i):(g(t,function(t,a,s){if(r||(r=n.call(i,t,a,s)))return e}),!!r)};p.size=function(e){return null==e?0:e.length===+e.length?e.length:p.keys(e).length},p.after=function(e,t){return function(){if(1>--e)return t.apply(this,arguments)}},p.sortedIndex=function(e,t,n,i){n=null==n?p.identity:p.isFunction(n)?n:p.property(n),t=n.call(i,t);for(var r=0,a=e.length;r<a;){var s=r+a>>>1;n.call(i,e[s])<t?r=s+1:a=s}return r},p.find=p.detect=function(e,t,n){var i;return m(e,function(e,r,a){if(t.call(n,e,r,a))return i=e,!0}),i},m=p.some=p.any=function(t,n,i){n||(n=p.identity);var r=!1;return null==t?r:d&&t.some===d?t.some(n,i):(g(t,function(t,a,s){if(r||(r=n.call(i,t,a,s)))return e}),!!r)},p.contains=p.include=function(e,t){return null!=e&&(e.length!==+e.length&&(e=p.values(e)),0<=p.indexOf(e,t))},p.where=function(e,t){return p.filter(e,p.matches(t))},p.difference=function(e){var n=r.apply(t,i.call(arguments,1));return p.filter(e,function(e){return!p.contains(n,e)})},p.without=function(e){return p.difference(e,i.call(arguments,1))},p.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=p.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(f&&e.indexOf===f)return e.indexOf(t,n);for(;i<r;i++)if(e[i]===t)return i;return-1},p.partial=function(e){var t=i.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,a=i.length;r<a;r++)i[r]===p&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},p.memoize=function(e,t){var n={};return t||(t=p.identity),function(){var i=t.apply(this,arguments);return p.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},p.delay=function(e,t){var n=i.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},p.defer=function(e){return p.delay.apply(p,[e,1].concat(i.call(arguments,1)))},p.keys=function(e){if(!p.isObject(e))return[];if(h)return h(e);var t,n=[];for(t in e)p.has(e,t)&&n.push(t);return n},p.pick=function(e){var n={},a=r.apply(t,i.call(arguments,1));return g(a,function(t){t in e&&(n[t]=e[t])}),n},p.isArray=n||function(e){return"[object Array]"==a.call(e)},p.isObject=function(e){return e===Object(e)},g("Arguments Function String Number Date RegExp".split(" "),function(e){p["is"+e]=function(t){return a.call(t)=="[object "+e+"]"}}),p.isArguments(arguments)||(p.isArguments=function(e){return!(!e||!p.has(e,"callee"))}),"function"!=typeof/./&&(p.isFunction=function(e){return"function"==typeof e}),p.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},p.isNaN=function(e){return p.isNumber(e)&&e!=+e},p.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==a.call(e)},p.isNull=function(e){return null===e},p.isUndefined=function(e){return void 0===e},p.has=function(e,t){return s.call(e,t)},p.identity=function(e){return e},p.constant=function(e){return function(){return e}},p.property=function(e){return function(t){return t[e]}},p.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},p.result=function(e,t){if(null!=e){var n=e[t];return p.isFunction(n)?n.call(e):n}},this._=p}.call(jwplayer),function(e){function t(e){return function(){return s(e)}}function n(e,t,n,r,a){return function(){var s,o;if(a)n(e);else{try{if((s=e.responseXML)&&(o=s.firstChild,s.lastChild&&"parsererror"===s.lastChild.nodeName))return void(r&&r("Invalid XML",t,e))}catch(e){}if(s&&o)return n(e);(s=i.parseXML(e.responseText))&&s.firstChild?(e=i.extend({},e,{responseXML:s}),n(e)):r&&r(e.responseText?"Invalid XML":t,t,e)}}}var i=e.utils={},r=e._;i.exists=function(e){switch(typeof e){case"string":return 0<e.length;case"object":return null!==e;case"undefined":return!1}return!0},i.styleDimension=function(e){return e+(0<e.toString().indexOf("%")?"":"px")},i.getAbsolutePath=function(e,t){if(i.exists(t)||(t=document.location.href),i.exists(e)){var n;if(i.exists(e)){n=e.indexOf("://");var r=e.indexOf("?");n=0<n&&(0>r||r>n)}else n=void 0;if(n)return e;n=t.substring(0,t.indexOf("://")+3);var a,r=t.substring(n.length,t.indexOf("/",n.length+1));0===e.indexOf("/")?a=e.split("/"):(a=t.split("?")[0],a=a.substring(n.length+r.length+1,a.lastIndexOf("/")),a=a.split("/").concat(e.split("/")));for(var s=[],o=0;o<a.length;o++)a[o]&&i.exists(a[o])&&"."!==a[o]&&(".."===a[o]?s.pop():s.push(a[o]));return n+r+"/"+s.join("/")}},i.extend=function(){var e=Array.prototype.slice.call(arguments,0);if(1<e.length){for(var t=e[0],n=function(e,n){void 0!==n&&null!==n&&(t[e]=n)},r=1;r<e.length;r++)i.foreach(e[r],n);return t}return null};var a=window.console=window.console||{log:function(){}};i.log=function(){var e=Array.prototype.slice.call(arguments,0);"object"==typeof a.log?a.log(e):a.log.apply(a,e)};var s=r.memoize(function(e){return null!==navigator.userAgent.toLowerCase().match(e)});i.isFF=t(/firefox/i),i.isChrome=t(/chrome/i),i.isIPod=t(/iP(hone|od)/i),i.isIPad=t(/iPad/i),i.isSafari602=t(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i),i.isIETrident=function(e){return e?(e=parseFloat(e).toFixed(1),s(RegExp("trident/.+rv:\\s*"+e,"i"))):s(/trident/i)},i.isMSIE=function(e){return e?(e=parseFloat(e).toFixed(1),s(RegExp("msie\\s*"+e,"i"))):s(/msie/i)},i.isIE=function(e){return e?(e=parseFloat(e).toFixed(1),11<=e?i.isIETrident(e):i.isMSIE(e)):i.isMSIE()||i.isIETrident()},i.isSafari=function(){return s(/safari/i)&&!s(/chrome/i)&&!s(/chromium/i)&&!s(/android/i)},i.isIOS=function(e){return s(e?RegExp("iP(hone|ad|od).+\\sOS\\s"+e,"i"):/iP(hone|ad|od)/i)},i.isAndroidNative=function(e){return i.isAndroid(e,!0)},i.isAndroid=function(e,t){return!(t&&s(/chrome\/[123456789]/i)&&!s(/chrome\/18/))&&(e?(i.isInt(e)&&!/\./.test(e)&&(e+="."),s(RegExp("Android\\s*"+e,"i"))):s(/Android/i))},i.isMobile=function(){return i.isIOS()||i.isAndroid()},i.isIframe=function(){return window.frameElement&&"IFRAME"===window.frameElement.nodeName},i.saveCookie=function(e,t){document.cookie="jwplayer."+e+"="+t+"; path=/"},i.getCookies=function(){for(var e={},t=document.cookie.split("; "),n=0;n<t.length;n++){var i=t[n].split("=");0===i[0].indexOf("jwplayer.")&&(e[i[0].substring(9,i[0].length)]=i[1])}return e},i.isInt=function(e){return 0==parseFloat(e)%1},i.typeOf=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&r.isArray(e)?"array":t},i.translateEventResponse=function(t,n){var r=i.extend({},n);if(t!==e.events.JWPLAYER_FULLSCREEN||r.fullscreen)if("object"==typeof r.data){var a=r.data;delete r.data,r=i.extend(r,a)}else"object"==typeof r.metadata&&i.deepReplaceKeyName(r.metadata,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]);else r.fullscreen="true"===r.message,delete r.message;return i.foreach(["position","duration","offset"],function(e,t){r[t]&&(r[t]=Math.round(1e3*r[t])/1e3)}),r},i.flashVersion=function(){if(i.isAndroid())return 0;var e,t=navigator.plugins;try{if("undefined"!==t&&(e=t["Shockwave Flash"]))return parseInt(e.description.replace(/\D+(\d+)\..*/,"$1"),10)}catch(e){}if(void 0!==window.ActiveXObject)try{if(e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseInt(e.GetVariable("$version").split(" ")[1].split(",")[0],10)}catch(e){}return 0},i.getScriptPath=function(e){for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++){var i=t[n].src;if(i&&0<=i.indexOf(e))return i.substr(0,i.indexOf(e))}return""},i.deepReplaceKeyName=function(t,n,r){switch(e.utils.typeOf(t)){case"array":for(var a=0;a<t.length;a++)t[a]=e.utils.deepReplaceKeyName(t[a],n,r);break;case"object":i.foreach(t,function(i,a){var s;if(n instanceof Array&&r instanceof Array){if(n.length!==r.length)return;s=n}else s=[n];for(var o=i,l=0;l<s.length;l++)o=o.replace(RegExp(n[l],"g"),r[l]);t[o]=e.utils.deepReplaceKeyName(a,n,r),i!==o&&delete t[i]})}return t};var o=i.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};i.getPluginPathType=function(e){if("string"==typeof e){e=e.split("?")[0];var t=e.indexOf("://");if(0<t)return o.ABSOLUTE;var n=e.indexOf("/");return e=i.extension(e),!(0>t&&0>n)||e&&isNaN(e)?o.RELATIVE:o.CDN}},i.getPluginName=function(e){return e.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},i.getPluginVersion=function(e){return e.replace(/[^-]*-?([^\.]*).*$/,"$1")},i.isYouTube=function(e,t){return"youtube"===t||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(e)},i.youTubeID=function(e){try{return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(e).slice(1).join("").replace("?","")}catch(e){return""}},i.isRtmp=function(e,t){return 0===e.indexOf("rtmp")||"rtmp"===t},i.foreach=function(e,t){var n,r;for(n in e)"function"===i.typeOf(e.hasOwnProperty)?e.hasOwnProperty(n)&&(r=e[n],t(n,r)):(r=e[n],t(n,r))},i.isHTTPS=function(){return 0===window.location.href.indexOf("https")},i.repo=function(){var t="http://p.jwpcdn.com/"+e.version.split(/\W/).splice(0,2).join("/")+"/";try{i.isHTTPS()&&(t=t.replace("http://","https://ssl."))}catch(e){}return t},i.versionCheck=function(t){t=("0"+t).split(/\W/);var n=e.version.split(/\W/),i=parseFloat(t[0]),r=parseFloat(n[0]);return!(i>r||i===r&&parseFloat("0"+t[1])>parseFloat(n[1]))},i.ajax=function(e,t,r,a){var s,o=!1;if(0<e.indexOf("#")&&(e=e.replace(/#.*$/,"")),e&&0<=e.indexOf("://")&&e.split("/")[2]!==window.location.href.split("/")[2]&&i.exists(window.XDomainRequest))s=new window.XDomainRequest,s.onload=n(s,e,t,r,a),s.ontimeout=s.onprogress=function(){},s.timeout=5e3;else{if(!i.exists(window.XMLHttpRequest))return r&&r("",e,s),s;var l=s=new window.XMLHttpRequest,u=e;s.onreadystatechange=function(){if(4===l.readyState)switch(l.status){case 200:n(l,u,t,r,a)();break;case 404:r("File not found",u,l)}}}s.overrideMimeType&&s.overrideMimeType("text/xml");var c=e,d=s;s.onerror=function(){r("Error loading file",c,d)};try{s.open("GET",e,!0)}catch(e){o=!0}return setTimeout(function(){if(o)r&&r(e,e,s);else try{s.send()}catch(t){r&&r(e,e,s)}},0),s},i.parseXML=function(e){var t;try{if(window.DOMParser){if(t=(new window.DOMParser).parseFromString(e,"text/xml"),t.childNodes&&t.childNodes.length&&"parsererror"===t.childNodes[0].firstChild.nodeName)return}else t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)}catch(e){return}return t},i.between=function(e,t,n){return Math.max(Math.min(e,n),t)},i.seconds=function(e){if(r.isNumber(e))return e;e=e.replace(",",".");var t=e.split(":"),n=0;return"s"===e.slice(-1)?n=parseFloat(e):"m"===e.slice(-1)?n=60*parseFloat(e):"h"===e.slice(-1)?n=3600*parseFloat(e):1<t.length?(n=parseFloat(t[t.length-1]),n+=60*parseFloat(t[t.length-2]),3===t.length&&(n+=3600*parseFloat(t[t.length-3]))):n=parseFloat(e),n},i.serialize=function(e){return null===e?null:"true"===e.toString().toLowerCase()||"false"!==e.toString().toLowerCase()&&(isNaN(Number(e))||5<e.length||0===e.length?e:Number(e))},i.addClass=function(e,t){var n=r.isString(e.className)?e.className.split(" "):[],a=r.isArray(t)?t:t.split(" ");r.each(a,function(e){r.contains(n,e)||n.push(e)}),e.className=i.trim(n.join(" "))},i.removeClass=function(e,t){var n=r.isString(e.className)?e.className.split(" "):[],a=r.isArray(t)?t:t.split(" ");e.className=i.trim(r.difference(n,a).join(" "))},i.emptyElement=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},i.indexOf=r.indexOf,i.noop=function(){},i.canCast=function(){var t=e.cast;return!(!t||!r.isFunction(t.available)||!t.available())}}(jwplayer),function(e){function t(e){var t=document.createElement("style");return e&&t.appendChild(document.createTextNode(e)),t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),t}function n(e,t,n){return s.exists(t)?(n=n?" !important":"","string"==typeof t&&isNaN(t)?/png|gif|jpe?g/i.test(t)&&0>t.indexOf("url")?"url("+t+")":t+n:0===t||"z-index"===e||"opacity"===e?""+t+n:/color/i.test(e)?"#"+s.pad(t.toString(16).replace(/^0x/i,""),6)+n:Math.ceil(t)+"px"+n):""}function i(e,t){for(var n=0;n<e.length;n++){var i,r,a=e[n];if(void 0!==a&&null!==a)for(i in t){r=i,r=r.split("-");for(var s=1;s<r.length;s++)r[s]=r[s].charAt(0).toUpperCase()+r[s].slice(1);r=r.join(""),a.style[r]!==t[i]&&(a.style[r]=t[i])}}}function r(e){var t,n,i,r=o[e].sheet;if(r){t=r.cssRules,n=c[e],i=e;var a=l[i];i+=" { ";for(var s in a)i+=s+": "+a[s]+"; ";if(i+="}",void 0!==n&&n<t.length&&t[n].selectorText===e){if(i===t[n].cssText)return;r.deleteRule(n)}else n=t.length,c[e]=n;try{r.insertRule(i,n)}catch(e){}}}var a,s=e.utils,o={},l={},u=null,c={};s.cssKeyframes=function(e,n){var i=o.keyframes;i||(i=t(),o.keyframes=i);var i=i.sheet,r="@keyframes "+e+" { "+n+" }";try{i.insertRule(r,i.cssRules.length)}catch(e){}r=r.replace(/(keyframes|transform)/g,"-webkit-$1");try{i.insertRule(r,i.cssRules.length)}catch(e){}};var d=s.css=function(e,i,s){l[e]||(l[e]={});var c=l[e];s=s||!1;var d,f,h=!1;for(d in i)f=n(d,i[d],s),""!==f?f!==c[d]&&(c[d]=f,h=!0):void 0!==c[d]&&(delete c[d],h=!0);h&&(o[e]||(i=a&&a.sheet&&a.sheet.cssRules&&a.sheet.cssRules.length||0,(!a||5e4<i)&&(a=t()),o[e]=a),null!==u?u.styleSheets[e]=l[e]:r(e))};d.style=function(t,r,a){if(void 0!==t&&null!==t){void 0===t.length&&(t=[t]);var s,o={};for(s in r)o[s]=n(s,r[s]);if(null===u||a)i(t,o);else{r=(r=t.__cssRules)||{};for(var l in o)r[l]=o[l];t.__cssRules=r,0>e._.indexOf(u.elements,t)&&u.elements.push(t)}}},d.block=function(e){null===u&&(u={id:e,styleSheets:{},elements:[]})},d.unblock=function(e){if(u&&(!e||u.id===e)){for(var t in u.styleSheets)r(t);for(e=0;e<u.elements.length;e++)t=u.elements[e],i(t,t.__cssRules);u=null}},s.clearCss=function(e){for(var t in l)0<=t.indexOf(e)&&delete l[t];for(var n in o)0<=n.indexOf(e)&&r(n)},s.transform=function(e,t){var n={};t=t||"",n.transform=t,n["-webkit-transform"]=t,n["-ms-transform"]=t,n["-moz-transform"]=t,n["-o-transform"]=t,"string"==typeof e?d(e,n):d.style(e,n)},s.dragStyle=function(e,t){d(e,{"-webkit-user-select":t,"-moz-user-select":t,"-ms-user-select":t,"-webkit-user-drag":t,"user-select":t,"user-drag":t})},s.transitionStyle=function(e,t){navigator.userAgent.match(/5\.\d(\.\d)? safari/i)||d(e,{"-webkit-transition":t,"-moz-transition":t,"-o-transition":t,transition:t})},s.rotate=function(e,t){s.transform(e,"rotate("+t+"deg)")},s.rgbHex=function(e){return e=String(e).replace("#",""),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),"#"+e.substr(-6)},s.hexToRgba=function(e,t){var n="rgb",i=[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)];return void 0!==t&&100!==t&&(n+="a",i.push(t/100)),n+"("+i.join(",")+")"}}(jwplayer),function(e){var t=jwplayer._,n=e.foreach,i={mp4:"video/mp4",ogg:"video/ogg",oga:"audio/ogg",vorbis:"audio/ogg",webm:"video/webm",aac:"audio/mp4",mp3:"audio/mpeg",hls:"application/vnd.apple.mpegurl"},r={mp4:i.mp4,f4v:i.mp4,m4v:i.mp4,mov:i.mp4,m4a:i.aac,f4a:i.aac,aac:i.aac,mp3:i.mp3,ogv:i.ogg,ogg:i.ogg,oga:i.vorbis,vorbis:i.vorbis,webm:i.webm,m3u8:i.hls,m3u:i.hls,hls:i.hls},a=e.extensionmap={};n(r,function(e,t){a[e]={html5:t}}),n({flv:"video",f4v:"video",mov:"video",m4a:"video",m4v:"video",mp4:"video",aac:"video",f4a:"video",mp3:"sound",smil:"rtmp",m3u8:"hls",hls:"hls"},function(e,t){a[e]||(a[e]={}),a[e].flash=t}),a.types=i,a.mimeType=function(e){var n;return t.find(i,function(t,i){if(t===e)return n=i,!0}),n},a.extType=function(e){return a.mimeType(r[e])}}(jwplayer.utils),function(e){var t=e.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3};e.scriptloader=function(n){function i(e){o=t.ERROR,s.sendEvent(a.ERROR,e)}function r(e){o=t.COMPLETE,s.sendEvent(a.COMPLETE,e)}var a=jwplayer.events,s=e.extend(this,new a.eventdispatcher),o=t.NEW;this.load=function(){if(o===t.NEW){var s=e.scriptloader.loaders[n];if(s&&2>(o=s.getStatus()))return s.addEventListener(a.ERROR,i),void s.addEventListener(a.COMPLETE,r);var l=document.getElementsByTagName("head")[0]||document.documentElement,u=document.createElement("script"),c=!1;u.onload=u.onreadystatechange=function(e){c||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(c=!0,r(e),u.onload=u.onreadystatechange=null,l&&u.parentNode&&l.removeChild(u))},u.onerror=i,u.src=n,l.insertBefore(u,l.firstChild),o=t.LOADING,e.scriptloader.loaders[n]=this}},this.getStatus=function(){return o}},e.scriptloader.loaders={}}(jwplayer.utils),function(e){e.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},e.pad=function(e,t,n){for(n||(n="0");e.length<t;)e=n+e;return e},e.xmlAttribute=function(e,t){for(var n=0;n<e.attributes.length;n++)if(e.attributes[n].name&&e.attributes[n].name.toLowerCase()===t.toLowerCase())return e.attributes[n].value.toString();return""},e.extension=function(e){if(!e||"rtmp"===e.substr(0,4))return"";var t;return(t=-1<e.indexOf("(format=m3u8-")&&"m3u8")?t:(e=e.substring(e.lastIndexOf("/")+1,e.length).split("?")[0].split("#")[0],-1<e.lastIndexOf(".")?e.substr(e.lastIndexOf(".")+1,e.length).toLowerCase():void 0)},e.stringToColor=function(e){return e=e.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),3===e.length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)}}(jwplayer.utils),function(e){var t="touchmove",n="touchstart";e.touch=function(i){function r(e){e.type===n?(l=!0,c=s(f.DRAG_START,e)):e.type===t?l&&(d||(a(f.DRAG_START,e,c),d=!0),a(f.DRAG,e)):(l&&(d?a(f.DRAG_END,e):(e.cancelBubble=!0,a(f.TAP,e))),l=d=!1,c=null)}function a(e,t,n){u[e]&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),t=n||s(e,t))&&u[e](t)}function s(e,t){var n=null;if(t.touches&&t.touches.length?n=t.touches[0]:t.changedTouches&&t.changedTouches.length&&(n=t.changedTouches[0]),!n)return null;var i=o.getBoundingClientRect(),n={type:e,target:o,x:n.pageX-window.pageXOffset-i.left,y:n.pageY,deltaX:0,deltaY:0};return e!==f.TAP&&c&&(n.deltaX=n.x-c.x,n.deltaY=n.y-c.y),n}var o=i,l=!1,u={},c=null,d=!1,f=e.touchEvents;return document.addEventListener(t,r),document.addEventListener("touchend",function(e){l&&d&&a(f.DRAG_END,e),l=d=!1,c=null}),document.addEventListener("touchcancel",r),i.addEventListener(n,r),i.addEventListener("touchend",r),this.addEventListener=function(e,t){u[e]=t},this.removeEventListener=function(e){delete u[e]},this}}(jwplayer.utils),function(e){e.touchEvents={DRAG:"jwplayerDrag",DRAG_START:"jwplayerDragStart",DRAG_END:"jwplayerDragEnd",TAP:"jwplayerTap"}}(jwplayer.utils),function(e){e.key=function(t){var n,i,r;this.edition=function(){return r&&r.getTime()<(new Date).getTime()?"invalid":n},this.token=function(){return i},e.exists(t)||(t="");try{t=e.tea.decrypt(t,"36QXq4W@GSBV^teR");var a=t.split("/");(n=a[0])?/^(free|pro|premium|enterprise|ads)$/i.test(n)?(i=a[1],a[2]&&0<parseInt(a[2])&&(r=new Date,r.setTime(String(a[2])))):n="invalid":n="free"}catch(e){n="invalid"}}}(jwplayer.utils),function(e){var t=e.tea={};t.encrypt=function(e,r){if(0==e.length)return"";var a=t.strToLongs(i.encode(e));1>=a.length&&(a[1]=0);for(var s,o=t.strToLongs(i.encode(r).slice(0,16)),l=a.length,u=a[l-1],c=a[0],d=Math.floor(6+52/l),f=0;0<d--;){f+=2654435769,s=f>>>2&3;for(var h=0;h<l;h++)c=a[(h+1)%l],u=(u>>>5^c<<2)+(c>>>3^u<<4)^(f^c)+(o[3&h^s]^u),u=a[h]+=u}return a=t.longsToStr(a),n.encode(a)},t.decrypt=function(e,r){if(0==e.length)return"";for(var a,s=t.strToLongs(n.decode(e)),o=t.strToLongs(i.encode(r).slice(0,16)),l=s.length,u=s[l-1],c=s[0],d=2654435769*Math.floor(6+52/l);0!=d;){a=d>>>2&3;for(var f=l-1;0<=f;f--)u=s[0<f?f-1:l-1],u=(u>>>5^c<<2)+(c>>>3^u<<4)^(d^c)+(o[3&f^a]^u),c=s[f]-=u;d-=2654435769}return s=t.longsToStr(s),s=s.replace(/\0+$/,""),i.decode(s)},t.strToLongs=function(e){for(var t=Array(Math.ceil(e.length/4)),n=0;n<t.length;n++)t[n]=e.charCodeAt(4*n)+(e.charCodeAt(4*n+1)<<8)+(e.charCodeAt(4*n+2)<<16)+(e.charCodeAt(4*n+3)<<24);return t},t.longsToStr=function(e){for(var t=Array(e.length),n=0;n<e.length;n++)t[n]=String.fromCharCode(255&e[n],e[n]>>>8&255,e[n]>>>16&255,e[n]>>>24&255);return t.join("")};var n={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e,t){var r,a,s,o,l,u,c=[],d="",f=n.code;if(u=(void 0===t?0:t)?i.encode(e):e,0<(l=u.length%3))for(;3>l++;)d+="=",u+="\0";for(l=0;l<u.length;l+=3)r=u.charCodeAt(l),a=u.charCodeAt(l+1),s=u.charCodeAt(l+2),o=r<<16|a<<8|s,r=o>>18&63,a=o>>12&63,s=o>>6&63,o&=63,c[l/3]=f.charAt(r)+f.charAt(a)+f.charAt(s)+f.charAt(o);return c=c.join(""),c=c.slice(0,c.length-d.length)+d},decode:function(e,t){t=void 0!==t&&t;var r,a,s,o,l,u,c=[],d=n.code;u=t?i.decode(e):e;for(var f=0;f<u.length;f+=4)r=d.indexOf(u.charAt(f)),a=d.indexOf(u.charAt(f+1)),o=d.indexOf(u.charAt(f+2)),l=d.indexOf(u.charAt(f+3)),s=r<<18|a<<12|o<<6|l,r=s>>>16&255,a=s>>>8&255,s&=255,c[f/4]=String.fromCharCode(r,a,s),64==l&&(c[f/4]=String.fromCharCode(r,a)),64==o&&(c[f/4]=String.fromCharCode(r));return o=c.join(""),t?i.decode(o):o}},i={encode:function(e){return e=e.replace(/[\u0080-\u07ff]/g,function(e){return e=e.charCodeAt(0),String.fromCharCode(192|e>>6,128|63&e)}),e=e.replace(/[\u0800-\uffff]/g,function(e){return e=e.charCodeAt(0),String.fromCharCode(224|e>>12,128|e>>6&63,128|63&e)})},decode:function(e){return e=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){return e=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2),String.fromCharCode(e)}),e=e.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){return e=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1),String.fromCharCode(e)})}}}(jwplayer.utils),function(e){e.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_SETUP_ERROR:"jwplayerSetupError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_AUDIO_TRACKS:"jwplayerAudioTracks",JWPLAYER_AUDIO_TRACK_CHANGED:"jwplayerAudioTrackChanged",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_CAPTIONS_LOADED:"jwplayerCaptionsLoaded",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_PLAYLIST_COMPLETE:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_PROVIDER_CLICK:"jwplayerProviderClick",JWPLAYER_VIEW_TAB_FOCUS:"jwplayerViewTabFocus",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_USER_ACTION:"jwplayerUserAction",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed",JWPLAYER_AD_TIME:"jwplayerAdTime",JWPLAYER_AD_ERROR:"jwplayerAdError",JWPLAYER_AD_CLICK:"jwplayerAdClicked",JWPLAYER_AD_COMPLETE:"jwplayerAdComplete",JWPLAYER_AD_IMPRESSION:"jwplayerAdImpression",JWPLAYER_AD_COMPANIONS:"jwplayerAdCompanions",JWPLAYER_AD_SKIPPED:"jwplayerAdSkipped",JWPLAYER_AD_PLAY:"jwplayerAdPlay",JWPLAYER_AD_PAUSE:"jwplayerAdPause",JWPLAYER_AD_META:"jwplayerAdMeta",JWPLAYER_CAST_AVAILABLE:"jwplayerCastAvailable",JWPLAYER_CAST_SESSION:"jwplayerCastSession",JWPLAYER_CAST_AD_CHANGED:"jwplayerCastAdChanged"}}(jwplayer),function(e){var t=e.utils;e.events.eventdispatcher=function(n,i){function r(e,n,i){if(e)for(var r=0;r<e.length;r++){var a=e[r];if(a){null!==a.count&&0==--a.count&&delete e[r];try{a.listener(n)}catch(e){t.log('Error handling "'+i+'" event listener ['+r+"]: "+e.toString(),a.listener,n)}}}}var a,s;this.resetEventListeners=function(){a={},s=[]},this.resetEventListeners(),this.addEventListener=function(e,n,i){try{t.exists(a[e])||(a[e]=[]),"string"===t.typeOf(n)&&(n=new Function("return "+n)()),a[e].push({listener:n,count:i||null})}catch(e){t.log("error",e)}return!1},this.removeEventListener=function(e,n){var i;if(a[e]){try{if(void 0===n)return void(a[e]=[]);for(i=0;i<a[e].length;i++)if(a[e][i].listener.toString()===n.toString()){a[e].splice(i,1);break}}catch(e){t.log("error",e)}return!1}},this.addGlobalListener=function(e,n){try{"string"===t.typeOf(e)&&(e=new Function("return "+e)()),s.push({listener:e,count:n||null})}catch(e){t.log("error",e)}return!1},this.removeGlobalListener=function(e){if(e){try{for(var n=s.length;n--;)s[n].listener.toString()===e.toString()&&s.splice(n,1)}catch(e){t.log("error",e)}return!1}},this.sendEvent=function(o,l){t.exists(l)||(l={}),t.extend(l,{id:n,version:e.version,type:o}),i&&t.log(o,l),r(a[o],l,o),r(s,l,o)}}}(window.jwplayer),function(e){var t={},n={};e.plugins=function(){},e.plugins.loadPlugins=function(i,r){return n[i]=new e.plugins.pluginloader(new e.plugins.model(t),r),n[i]},e.plugins.registerPlugin=function(n,i,r,a){var s=e.utils.getPluginName(n);t[s]||(t[s]=new e.plugins.plugin(n)),t[s].registerPlugin(n,i,r,a)}}(jwplayer),function(e){e.plugins.model=function(t){this.addPlugin=function(n){var i=e.utils.getPluginName(n);return t[i]||(t[i]=new e.plugins.plugin(n)),t[i]},this.getPlugins=function(){return t}}}(jwplayer),function(e){var t=jwplayer.utils,n=jwplayer.events;e.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2},e.plugin=function(i){function r(){switch(t.getPluginPathType(i)){case t.pluginPathType.ABSOLUTE:return i;case t.pluginPathType.RELATIVE:return t.getAbsolutePath(i,window.location.href)}}function a(){c=setTimeout(function(){d=t.loaderstatus.COMPLETE,f.sendEvent(n.COMPLETE)},1e3)}function s(){d=t.loaderstatus.ERROR,f.sendEvent(n.ERROR,{url:i})}var o,l,u,c,d=t.loaderstatus.NEW,f=new n.eventdispatcher;t.extend(this,f),this.load=function(){if(d===t.loaderstatus.NEW)if(0<i.lastIndexOf(".swf"))o=i,d=t.loaderstatus.COMPLETE,f.sendEvent(n.COMPLETE);else if(t.getPluginPathType(i)===t.pluginPathType.CDN)d=t.loaderstatus.COMPLETE,f.sendEvent(n.COMPLETE);else{d=t.loaderstatus.LOADING;var e=new t.scriptloader(r());e.addEventListener(n.COMPLETE,a),e.addEventListener(n.ERROR,s),e.load()}},this.registerPlugin=function(e,i,r,a){c&&(clearTimeout(c),c=void 0),u=i,r&&a?(o=a,l=r):"string"==typeof r?o=r:"function"==typeof r?l=r:!r&&!a&&(o=e),d=t.loaderstatus.COMPLETE,f.sendEvent(n.COMPLETE)},this.getStatus=function(){return d},this.getPluginName=function(){return t.getPluginName(i)},this.getFlashPath=function(){if(o)switch(t.getPluginPathType(o)){case t.pluginPathType.ABSOLUTE:return o;case t.pluginPathType.RELATIVE:return 0<i.lastIndexOf(".swf")?t.getAbsolutePath(o,window.location.href):t.getAbsolutePath(o,r())}return null},this.getJS=function(){return l},this.getTarget=function(){return u},this.getPluginmode=function(){return void 0!==o&&void 0!==l?e.pluginmodes.HYBRID:void 0!==o?e.pluginmodes.FLASH:void 0!==l?e.pluginmodes.JAVASCRIPT:void 0},this.getNewInstance=function(e,t,n){return new l(e,t,n)},this.getURL=function(){return i}}}(jwplayer.plugins),function(e){var t=e.utils,n=e.events,i=e._,r=t.foreach;e.plugins.pluginloader=function(e,a){function s(){d||(d=!0,c=t.loaderstatus.COMPLETE,g.sendEvent(n.COMPLETE))}function o(){if(!p&&((!f||0===i.keys(f).length)&&s(),!d)){var r=e.getPlugins();u=i.after(h,s),t.foreach(f,function(e){e=t.getPluginName(e);var i=r[e];e=i.getJS();var a=i.getTarget(),i=i.getStatus();i===t.loaderstatus.LOADING||i===t.loaderstatus.NEW||(e&&!t.versionCheck(a)&&g.sendEvent(n.ERROR,{message:"Incompatible player version"}),u())})}}function l(e){p||(g.sendEvent(n.ERROR,{message:"File not found"}),e.url&&t.log("File not found",e.url),o())}var u,c=t.loaderstatus.NEW,d=!1,f=a,h=i.size(f),p=!1,g=new n.eventdispatcher;t.extend(this,g),this.setupPlugins=function(n,i,a){var s={length:0,plugins:{}},o=0,l={},u=e.getPlugins();return r(i.plugins,function(e,r){var c=t.getPluginName(e),d=u[c],f=d.getFlashPath(),h=d.getJS(),p=d.getURL();f&&(s.plugins[f]=t.extend({},r),s.plugins[f].pluginmode=d.getPluginmode(),s.length++);try{if(h&&i.plugins&&i.plugins[p]){var g=document.createElement("div");g.id=n.id+"_"+c,g.style.position="absolute",g.style.top=0,g.style.zIndex=o+10,l[c]=d.getNewInstance(n,t.extend({},i.plugins[p]),g),o++,n.onReady(a(l[c],g,!0)),n.onResize(a(l[c],g))}}catch(e){t.log("ERROR: Failed to load "+c+".")}}),n.plugins=l,s},this.load=function(){if(!t.exists(a)||"object"===t.typeOf(a)){c=t.loaderstatus.LOADING,r(a,function(i){t.exists(i)&&(i=e.addPlugin(i),i.addEventListener(n.COMPLETE,o),i.addEventListener(n.ERROR,l))});var i=e.getPlugins();r(i,function(e,t){t.load()})}o()},this.destroy=function(){p=!0,g&&(g.resetEventListeners(),g=null)},this.pluginFailed=l,this.getStatus=function(){return c}}}(jwplayer),function(e){e.parsers={localName:function(e){return e?e.localName?e.localName:e.baseName?e.baseName:"":""},textContent:function(t){return t?t.textContent?e.utils.trim(t.textContent):t.text?e.utils.trim(t.text):"":""},getChildNode:function(e,t){return e.childNodes[t]},numChildren:function(e){return e.childNodes?e.childNodes.length:0}}}(jwplayer),function(e){var t=e.parsers;(t.jwparser=function(){}).parseEntry=function(n,i){for(var r=[],a=[],s=e.utils.xmlAttribute,o=0;o<n.childNodes.length;o++){var l=n.childNodes[o];if("jwplayer"===l.prefix){var u=t.localName(l);"source"===u?(delete i.sources,r.push({file:s(l,"file"),default:s(l,"default"),label:s(l,"label"),type:s(l,"type")})):"track"===u?(delete i.tracks,a.push({file:s(l,"file"),default:s(l,"default"),kind:s(l,"kind"),label:s(l,"label")})):(i[u]=e.utils.serialize(t.textContent(l)),"file"===u&&i.sources&&delete i.sources)}i.file||(i.file=i.link)}if(r.length)for(i.sources=[],o=0;o<r.length;o++)0<r[o].file.length&&(r[o].default="true"===r[o].default,r[o].label.length||delete r[o].label,i.sources.push(r[o]));if(a.length)for(i.tracks=[],o=0;o<a.length;o++)0<a[o].file.length&&(a[o].default="true"===a[o].default,a[o].kind=a[o].kind.length?a[o].kind:"captions",a[o].label.length||delete a[o].label,i.tracks.push(a[o]));return i}}(jwplayer),function(e){var t=jwplayer.utils,n=t.xmlAttribute,i=e.localName,r=e.textContent,a=e.numChildren,s=e.mediaparser=function(){};s.parseGroup=function(e,o){var l,u,c=[];for(u=0;u<a(e);u++)if(l=e.childNodes[u],"media"===l.prefix&&i(l))switch(i(l).toLowerCase()){case"content":n(l,"duration")&&(o.duration=t.seconds(n(l,"duration"))),0<a(l)&&(o=s.parseGroup(l,o)),n(l,"url")&&(o.sources||(o.sources=[]),o.sources.push({file:n(l,"url"),type:n(l,"type"),width:n(l,"width"),label:n(l,"label")}));break;case"title":o.title=r(l);break;case"description":o.description=r(l);break;case"guid":o.mediaid=r(l);break;case"thumbnail":o.image||(o.image=n(l,"url"));break;case"group":s.parseGroup(l,o);break;case"subtitle":var d={};if(d.file=n(l,"url"),d.kind="captions",0<n(l,"lang").length){var f=d;l=n(l,"lang");var h={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};l=h[l]?h[l]:l,f.label=l}c.push(d)}for(o.hasOwnProperty("tracks")||(o.tracks=[]),u=0;u<c.length;u++)o.tracks.push(c[u]);return o}}(jwplayer.parsers),function(e){function t(t){for(var r={},a=0;a<t.childNodes.length;a++){var o=t.childNodes[a],l=s(o);if(l)switch(l.toLowerCase()){case"enclosure":r.file=n.xmlAttribute(o,"url");break;case"title":r.title=i(o);break;case"guid":r.mediaid=i(o);break;case"pubdate":r.date=i(o);break;case"description":r.description=i(o);break;case"link":r.link=i(o);break;case"category":r.tags=r.tags?r.tags+i(o):i(o)}}return r=e.mediaparser.parseGroup(t,r),r=e.jwparser.parseEntry(t,r),new jwplayer.playlist.item(r)}var n=jwplayer.utils,i=e.textContent,r=e.getChildNode,a=e.numChildren,s=e.localName;e.rssparser={},e.rssparser.parse=function(e){for(var n=[],i=0;i<a(e);i++){var o=r(e,i);if("channel"===s(o).toLowerCase())for(var l=0;l<a(o);l++){var u=r(o,l);"item"===s(u).toLowerCase()&&n.push(t(u))}}return n}}(jwplayer.parsers),function(e){var t=e.utils,n=e._;e.playlist=function(t){var i=[];return t=n.isArray(t)?t:[t],n.each(t,function(t){i.push(new e.playlist.item(t))}),i},e.playlist.filterPlaylist=function(e,r){var a=[];return n.each(e,function(e){if(e=t.extend({},e),e.sources=i(e.sources,!1,r),e.sources.length){for(var n=0;n<e.sources.length;n++)e.sources[n].label=e.sources[n].label||n.toString();a.push(e)}}),a};var i=e.playlist.filterSources=function(i,r,a){var s,o=[],l=r?e.embed.flashCanPlay:e.embed.html5CanPlay;if(i)return n.each(i,function(e){if(e&&e.file){var n=t.trim(""+e.file),i=e.type;i||(i=t.extension(n),i=t.extensionmap.extType(i)),e=t.extend({},e,{file:n,type:i})}else e=void 0;e&&l(e.file,e.type,a)&&(s=s||e.type,e.type===s&&o.push(e))}),o}}(jwplayer),function(e){var t=e.item=function(n){var i,r,a=jwplayer.utils,s=a.extend({},t.defaults,n);for(s.tracks=n&&a.exists(n.tracks)?n.tracks:[],0===s.sources.length&&(s.sources=[new e.source(s)]),i=0;i<s.sources.length;i++)r=s.sources[i].default,s.sources[i].default=!!r&&"true"===r.toString(),s.sources[i]=new e.source(s.sources[i]);if(s.captions&&!a.exists(n.tracks)){for(n=0;n<s.captions.length;n++)s.tracks.push(s.captions[n]);delete s.captions}for(i=0;i<s.tracks.length;i++)s.tracks[i]=new e.track(s.tracks[i]);return s};t.defaults={description:void 0,image:void 0,mediaid:void 0,title:void 0,sources:[],tracks:[]}}(jwplayer.playlist),function(e){var t=e.utils,n=e.events,i=e.parsers;e.playlist.loader=function(){function r(t){try{var r=t.responseXML.childNodes;t="";for(var a=0;a<r.length&&(t=r[a],!(8!==t.nodeType));a++);if("xml"===i.localName(t)&&(t=t.nextSibling),"rss"!==i.localName(t))s("Not a valid RSS feed");else{var l=new e.playlist(i.rssparser.parse(t));o.sendEvent(n.JWPLAYER_PLAYLIST_LOADED,{playlist:l})}}catch(e){s()}}function a(e){s(e.match(/invalid/i)?"Not a valid RSS feed":"")}function s(e){o.sendEvent(n.JWPLAYER_ERROR,{message:e||"Error loading file"})}var o=new n.eventdispatcher;t.extend(this,o),this.load=function(e){t.ajax(e,r,a)}}}(jwplayer),function(e){var t=jwplayer.utils,n={file:void 0,label:void 0,type:void 0,default:void 0};e.source=function(e){var i=t.extend({},n);return t.foreach(n,function(n){t.exists(e[n])&&(i[n]=e[n],delete e[n])}),i.type&&0<i.type.indexOf("/")&&(i.type=t.extensionmap.mimeType(i.type)),"m3u8"===i.type&&(i.type="hls"),"smil"===i.type&&(i.type="rtmp"),i}}(jwplayer.playlist),function(e){var t=jwplayer.utils,n={file:void 0,label:void 0,kind:"captions",default:!1};e.track=function(e){var i=t.extend({},n);return e||(e={}),t.foreach(n,function(n){t.exists(e[n])&&(i[n]=e[n],delete e[n])}),i}}(jwplayer.playlist),function(e){function t(e,t,i){var r=e.style;r.backgroundColor="#000",r.color="#FFF",r.width=n.styleDimension(i.width),r.height=n.styleDimension(i.height),r.display="table",r.opacity=1,i=document.createElement("p"),r=i.style,r.verticalAlign="middle",r.textAlign="center",r.display="table-cell",r.font="15px/20px Arial, Helvetica, sans-serif",i.innerHTML=t.replace(":",":<br>"),e.innerHTML="",e.appendChild(i)}var n=e.utils,i=e.events,r=e._,a=e.embed=function(s){function o(){if(!w){var t=p.playlist;if(r.isArray(t)){if(0===t.length)return void c();if(!(1!==t.length||t[0].sources&&0!==t[0].sources.length&&t[0].sources[0].file))return void c()}if(!b)if(r.isString(t))h=new e.playlist.loader,h.addEventListener(i.JWPLAYER_PLAYLIST_LOADED,function(e){p.playlist=e.playlist,b=!1,o()}),h.addEventListener(i.JWPLAYER_ERROR,function(e){b=!1,c(e)}),b=!0,h.load(p.playlist);else if(y.getStatus()===n.loaderstatus.COMPLETE){for(t=0;t<p.modes.length;t++){var u=p.modes[t],f=u.type;if(f&&a[f]){var g=n.extend({},p);if(A=new a[f](C,u,g,y,s),A.supportsConfig())return A.addEventListener(i.ERROR,l),A.embed(),n.css("object.jwswf, .jwplayer:focus",{outline:"none"}),n.css(".jw-tab-focus:focus",{outline:"solid 2px #0B7EF4"}),s}}p.fallback?(t="No suitable players found and fallback enabled",d(t,!0),n.log(t),new a.download(C,p,c)):(t="No suitable players found and fallback disabled",d(t,!1),n.log(t))}}}function l(e){f(v+e.message)}function u(e){s.dispatchEvent(i.JWPLAYER_ERROR,{message:"Could not load plugin: "+e.message})}function c(e){f(e&&e.message?"Error loading playlist: "+e.message:v+"No playable sources found")}function d(e,t){clearTimeout(x),x=setTimeout(function(){s.dispatchEvent(i.JWPLAYER_SETUP_ERROR,{message:e,fallback:t})},0)}function f(e){w||(_.parentNode.replaceChild(C,_),p.fallback?(w=!0,t(C,e,p),d(e,!0)):d(e,!1))}var h,p=new a.config(s.config),g=p.width,m=p.height,v="Error loading player: ",_=document.getElementById(s.id),y=e.plugins.loadPlugins(s.id,p.plugins),b=!1,w=!1,A=null,x=-1;p.id=s.id,p.aspectratio?s.config.aspectratio=p.aspectratio:delete s.config.aspectratio;var E=s;n.foreach(p.events,function(e,t){var n=E[e];"function"==typeof n&&n.call(E,t)});var C=document.createElement("div");return C.id=_.id,C.style.width=0<g.toString().indexOf("%")?g:g+"px",C.style.height=0<m.toString().indexOf("%")?m:m+"px",this.embed=function(){w||(y.addEventListener(i.COMPLETE,o),y.addEventListener(i.ERROR,u),y.load())},this.destroy=function(){A&&(A.destroy(),A=null),y&&(y.destroy(),y=null),h&&(h.resetEventListeners(),h=null)},this.errorScreen=f,this};e.embed.errorScreen=t}(jwplayer),function(e){function t(e){if(e.playlist)for(var t=0;t<e.playlist.length;t++)e.playlist[t]=new r(e.playlist[t]);else{var a={};i.foreach(r.defaults,function(t){n(e,a,t)}),a.sources||(e.levels?(a.sources=e.levels,delete e.levels):(t={},n(e,t,"file"),n(e,t,"type"),a.sources=t.file?[t]:[])),e.playlist=[new r(a)]}}function n(e,t,n){i.exists(e[n])&&(t[n]=e[n],delete e[n])}var i=e.utils,r=e.playlist.item;(e.embed.config=function(n){var r={fallback:!0,height:270,primary:"html5",width:480,base:n.base?n.base:i.getScriptPath("jwplayer.js"),aspectratio:""};n=i.extend({},r,e.defaults,n);var r={type:"html5",src:n.base+"jwplayer.html5.js"},a={type:"flash",src:n.base+"jwplayer.flash.swf"};if(n.modes="flash"===n.primary?[a,r]:[r,a],n.listbar&&(n.playlistsize=n.listbar.size,n.playlistposition=n.listbar.position,n.playlistlayout=n.listbar.layout),n.flashplayer&&(a.src=n.flashplayer),n.html5player&&(r.src=n.html5player),t(n),"string"==typeof(a=n.aspectratio)&&i.exists(a)){var s=a.indexOf(":");-1===s?r=0:(r=parseFloat(a.substr(0,s)),a=parseFloat(a.substr(s+1)),r=0>=r||0>=a?0:a/r*100+"%")}else r=0;return-1===n.width.toString().indexOf("%")?delete n.aspectratio:r?n.aspectratio=r:delete n.aspectratio,n}).addConfig=function(e,n){return t(n),i.extend(e,n)}}(jwplayer),function(e){function t(e,t){function i(e,t){r[a].style[e]=t}for(var r=document.querySelectorAll(e),a=0;a<r.length;a++)n.foreach(t,i)}var n=e.utils;e.embed.download=function(e,i,r){function a(e,t,n){return e=document.createElement(e),t&&(e.className="jwdownload"+t),n&&n.appendChild(e),e}var s,o,l=n.extend({},i),u=l.width?l.width:480,c=l.height?l.height:320;i=i.logo?i.logo:{prefix:n.repo(),file:"logo.png",margin:10};var d,f,h,p,g,m;if(f=l.playlist,l=["mp4","aac","mp3"],f&&f.length){for(h=f[0],p=h.sources,f=0;f<p.length;f++)g=p[f],g.file&&(m=g.type||n.extensionmap.extType(n.extension(g.file)),0<=n.indexOf(l,m)?(s=g.file,o=h.image):n.isYouTube(g.file,m)&&(d=g.file));s?(r=s,e&&(s=a("a","display",e),a("div","icon",s),a("div","logo",s),r&&s.setAttribute("href",n.getAbsolutePath(r))),r="#"+e.id+" .jwdownload",e.style.width="",e.style.height="",t(r+"display",{width:n.styleDimension(Math.max(320,u)),height:n.styleDimension(Math.max(180,c)),background:"black center no-repeat "+(o?"url("+o+")":""),backgroundSize:"contain",position:"relative",border:"none",display:"block"}),t(r+"display div",{position:"absolute",width:"100%",height:"100%"}),t(r+"logo",{top:i.margin+"px",right:i.margin+"px",background:"top right no-repeat url("+i.prefix+i.file+")"}),t(r+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"})):d?(i=d,e=a("iframe","",e),e.src="http://www.youtube.com/embed/"+n.youTubeID(i),e.width=u,e.height=c,e.style.border="none"):r()}}}(jwplayer),function(e){var t=e.utils,n=e.events,i={};(e.embed.flash=function(a,s,o,l,u){function c(e,t,n){var i=document.createElement("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function d(e,t,n){return function(){try{n&&document.getElementById(u.id+"_wrapper").appendChild(t);var i=document.getElementById(u.id).getPluginConfig("display");"function"==typeof e.resize&&e.resize(i.width,i.height),t.style.left=i.x,t.style.top=i.h}catch(e){}}}function f(e){if(!e)return{};var n={},i=[];return t.foreach(e,function(e,r){var a=t.getPluginName(e);i.push(e),t.foreach(r,function(e,t){n[a+"."+e]=t})}),n.plugins=i.join(","),n}var h=new e.events.eventdispatcher,p=t.flashVersion();t.extend(this,h),this.embed=function(){if(o.id=u.id,10>p)return h.sendEvent(n.ERROR,{message:"Flash version must be 10.0 or greater"}),!1;var e,r,g=a.id,m=u.config.listbar,v=t.extend({},o);if(e=document.getElementById(u.id),e.parentNode.replaceChild(a,e),g+"_wrapper"===a.parentNode.id)e=document.getElementById(g+"_wrapper");else{if(e=document.createElement("div"),r=document.createElement("div"),r.style.display="none",r.id=g+"_aspect",e.id=g+"_wrapper",e.style.position="relative",e.style.display="block",e.style.width=t.styleDimension(v.width),e.style.height=t.styleDimension(v.height),u.config.aspectratio){var _=parseFloat(u.config.aspectratio);r.style.display="block",r.style.marginTop=u.config.aspectratio,e.style.height="auto",e.style.display="inline-block",m&&("bottom"===m.position?r.style.paddingBottom=m.size+"px":"right"===m.position&&(r.style.marginBottom=-1*m.size*(_/100)+"px"))}a.parentNode.replaceChild(e,a),e.appendChild(a),e.appendChild(r)}for(m=l.setupPlugins(u,v,d),0<m.length?t.extend(v,f(m.plugins)):delete v.plugins,void 0!==v["dock.position"]&&"false"===v["dock.position"].toString().toLowerCase()&&(v.dock=v["dock.position"],delete v["dock.position"]),m=v.wmode||(v.height&&40>=v.height?"transparent":"opaque"),r="height width modes events primary base fallback volume".split(" "),_=0;_<r.length;_++)delete v[r[_]];r=t.getCookies(),t.foreach(r,function(e,t){void 0===v[e]&&(v[e]=t)}),r=window.location.href.split("/"),r.splice(r.length-1,1),r=r.join("/"),v.base=r+"/",i[g]=v,t.isMSIE()?(a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%" id="'+g+'" name="'+g+'" tabindex="0"><param name="movie" value="'+s.src+'"><param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always"><param name="seamlesstabbing" value="true"><param name="wmode" value="'+m+'"><param name="bgcolor" value="#000000"></object>',e=e.getElementsByTagName("object")[0],e.style.outline="none"):(e=document.createElement("object"),e.setAttribute("type","application/x-shockwave-flash"),e.setAttribute("data",s.src),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttribute("bgcolor","#000000"),e.setAttribute("id",g),e.setAttribute("name",g),e.className="jwswf",c(e,"allowfullscreen","true"),c(e,"allowscriptaccess","always"),c(e,"seamlesstabbing","true"),c(e,"wmode",m),a.parentNode.replaceChild(e,a)),u.config.aspectratio&&(e.style.position="absolute",e.style.left="0"),u.container=e,u.setPlayer(e,"flash")},this.supportsConfig=function(){if(p){if(!o)return!0;if("string"===t.typeOf(o.playlist))return!0;try{var e=o.playlist[0].sources;if(void 0===e)return!0;for(var n=0;n<e.length;n++)if(e[n].file&&r(e[n].file,e[n].type))return!0}catch(e){}}return!1},this.destroy=function(){}}).getVars=function(e){return i[e]};var r=e.embed.flashCanPlay=function(e,n){if(t.isYouTube(e,n)||t.isRtmp(e,n)||"hls"===n)return!0;var i=t.extensionmap[n||t.extension(e)];return!!i&&!!i.flash}}(jwplayer),function(e){var t,n=e.utils,i=n.extensionmap,r=e.events;e.embed.html5=function(i,a,s,o,l){function u(e,t,n){return function(){try{var r=document.querySelector("#"+i.id+" .jwmain");n&&r.appendChild(t),"function"==typeof e.resize&&(e.resize(r.clientWidth,r.clientHeight),setTimeout(function(){e.resize(r.clientWidth,r.clientHeight)},400)),t.left=r.style.left,t.top=r.style.top}catch(e){}}}var c=new r.eventdispatcher;n.extend(this,c),this.embed=function(){if(e.html5){o.setupPlugins(l,s,u),n.emptyElement(i);var t=e.utils.extend({},s);delete t.volume,t=new e.html5.player(t),l.setPlayer(t,"html5")}else this.loadEmbedder()},this.loadEmbedder=function(){t=t||new n.scriptloader(a.src),t.addEventListener(r.ERROR,this.loadError),t.addEventListener(r.COMPLETE,this.embed),t.load()},this.loadError=function(e){this.sendEvent(e.type,{message:"HTML5 player not found"})},this.supportsConfig=function(){if(e.vid.canPlayType)try{if("string"===n.typeOf(s.playlist))return!0;for(var t=s.playlist[0].sources,i=0;i<t.length;i++)if(e.embed.html5CanPlay(t[i].file,t[i].type,s.androidhls))return!0}catch(e){}return!1},this.destroy=function(){t&&(t.resetEventListeners(),t=null)}},e.embed.html5CanPlay=function(t,r,a){if(null!==navigator.userAgent.match(/BlackBerry/i)||n.isIE(9))return!1;if(n.isYouTube(t,r))return!0;var s=n.extension(t);if("hls"===(r=r||i.extType(s)))if(a){if((a=n.isAndroidNative)(2)||a(3)||a("4.0"))return!1;if(n.isAndroid())return!0}else if(n.isAndroid())return!1;if(n.isRtmp(t,r))return!1;if(!(t=i[r]||i[s])||t.flash&&!t.html5)return!1;var o;e:if(t=t.html5){try{o=!!e.vid.canPlayType(t);break e}catch(e){}o=!1}else o=!0;return o}}(jwplayer),function(e){var t=e.embed,n=e.embed.html5CanPlay,i=e.utils,r=e._,a=/\.(js|swf)$/;e.cast=e.cast||{},e.embed=i.extend(function(n){function r(){s="Adobe SiteCatalyst Error: Could not find Media Module"}var s,o=i.repo(),l=i.extend({},e.defaults),u=i.extend({},l,n.config),c=n.config,d=u.plugins,f=u.analytics,h=o+"jwpsrv.js",p=o+"sharing.js",g=o+"related.js",m=o+"gapro.js",l=e.key?e.key:l.key,v=new e.utils.key(l).edition(),d=d||{};switch("ads"==v&&u.advertising&&(a.test(u.advertising.client)?d[u.advertising.client]=u.advertising:d[o+u.advertising.client+".js"]=u.advertising),delete c.advertising,c.key=l,u.analytics&&a.test(u.analytics.client)&&(h=u.analytics.client),delete c.analytics,f&&!("ads"===v||"enterprise"===v)&&delete f.enabled,"free"!=v&&f&&!1===f.enabled||(d[h]=f||{}),delete d.sharing,delete d.related,v){case"ads":case"enterprise":if(c.sitecatalyst)try{window.s&&window.s.hasOwnProperty("Media")?new e.embed.sitecatalyst(n):r()}catch(e){r()}case"premium":u.related&&(a.test(u.related.client)&&(g=u.related.client),d[g]=u.related),u.ga&&(a.test(u.ga.client)&&(m=u.ga.client),d[m]=u.ga);case"pro":u.sharing&&(a.test(u.sharing.client)&&(p=u.sharing.client),d[p]=u.sharing),u.skin&&(c.skin=u.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i,i.repo()+"skins/$1.xml"))}return c.plugins=d,n.config=c,n=new t(n),s&&n.errorScreen(s),n},e.embed),e.embed.html5CanPlay=function(t,i){var a={file:t,type:i};return!!(e.html5&&e.html5.chooseProvider?e.html5.chooseProvider(a)!==e.html5.VideoProvider:r.any(e.unregisteredProviders,function(e){return e.supports(a)}))||n.apply(this,arguments)}}(jwplayer),function(e){var t=jwplayer.utils;e.sitecatalyst=function(e){function n(e){f.debug&&t.log(e)}function i(e){return e=e.split("/"),e=e[e.length-1],e=e.split("?"),e[0]}function r(){if(!p){p=!0;var e=d.getPosition();n("stop: "+o+" : "+e),s.Media.stop(o,e)}}function a(){g||(r(),g=!0,n("close: "+o),s.Media.close(o),c=!0,u=0)}var o,l,u,c,d=e,f=t.extend({},d.config.sitecatalyst),h={onPlay:function(){if(!c){var e=d.getPosition();p=!1,n("play: "+o+" : "+e),s.Media.play(o,e)}},onPause:r,onBuffer:r,onIdle:a,onPlaylistItem:function(e){try{c=!0,a(),u=0;var n;if(f.mediaName)n=f.mediaName;else{var r=d.getPlaylistItem(e.index);n=r.title?r.title:r.file?i(r.file):r.sources&&r.sources.length?i(r.sources[0].file):""}o=n,l=f.playerName?f.playerName:d.id}catch(e){t.log(e)}},onTime:function(){if(c){var e=d.getDuration();if(-1==e)return;g=p=c=!1,n("open: "+o+" : "+e+" : "+l),s.Media.open(o,e,l),n("play: "+o+" : 0"),s.Media.play(o,0)}if(e=d.getPosition(),3<=Math.abs(e-u)){var t=u;n("seek: "+t+" to "+e),n("stop: "+o+" : "+t),s.Media.stop(o,t),n("play: "+o+" : "+e),s.Media.play(o,e)}u=e},onComplete:a},p=!0,g=!0;t.foreach(h,function(e){d[e](h[e])})}}(jwplayer.embed),function(e){function t(e,t){e[t]&&(e[t]=n.getAbsolutePath(e[t]))}var n=e.utils,i=e._,r=window.location.href;e.cast.setupCastConfig=function(i,a){var s=n.extend({},i.config);s.cast=n.extend({pageUrl:r},a);for(var o="base autostart controls fallback fullscreen width height mobilecontrols modes playlistlayout playlistposition playlistsize primary stretching sharing related ga skin logo listbar events".split(" "),l=o.length;l--;)delete s[o[l]];o=s.plugins,delete s.plugins;for(var u in o)if(o.hasOwnProperty(u)){var c=o[u];if(c.client&&(/[\.\/]/.test(c.client)&&t(c,"client"),-1<c.client.indexOf("vast"))){if(l=s,c=n.extend({},c),c.client="vast",delete c.companiondiv,c.schedule){var d=void 0;for(d in c.schedule)c.schedule.hasOwnProperty(d)&&t(c.schedule[d].ad||c.schedule[d],"tag")}t(c,"tag"),l.advertising=c}}return i.position&&(s.position=i.position),0<i.item&&(s.item=i.item),s.captionLabel=n.getCookies().captionLabel,s.playerVersion=e.version,s},e.cast.setupFlashCastConfig=function(t){var r=t.config;r.playlist=t.getPlaylist();var a;return(a=i.find(r.plugins,function(e,t){return 0<t.indexOf("vast.js")}))?(a.client="vast",a={advertising:a}):a={},r=i.pick(r,"id captionLabel cast key playlist repeat".split(" ")),r.cast.pageUrl=window.location.href,n.extend(r,{playerVersion:e.version,captionLabel:n.getCookies().captionLabel,volume:t.getVolume(),mute:t.getMute(),id:t.id,position:t.getPosition(),item:t.getPlaylistIndex()},a),r}}(window.jwplayer),function(e,t){function n(e,t){e[t]&&(e[t]=r.getAbsolutePath(e[t]))}var i=t.cast,r=t.utils,a=t.events,s=a.state,o={};i.NS="urn:x-cast:com.longtailvideo.jwplayer",i.debug=!1,i.availability=null,i.available=function(t){t=t||i.availability;var n=e.chrome,r="available";return n.cast&&n.cast.ReceiverAvailability&&(r=n.cast.ReceiverAvailability.AVAILABLE),t===r},i.controller=function(l,u){function c(e,t){i.log("send command",e,t);var n={command:e};void 0!==t&&(n.args=t),M.sendMessage(i.NS,n,T,function(e){i.log("error message",e),"Invalid namespace"===e.description&&_()})}function d(e){e=!!i.available(e.availability),O.available!==e&&(O.available=e,g(a.JWPLAYER_CAST_AVAILABLE))}function f(e){i.log("existing session",e),!M&&!z&&(z=e.session,z.addMessageListener(i.NS,h))}function h(e,n){var r=JSON.parse(n);if(!r)throw"Message not proper JSON";if(r.reconcile){z.removeMessageListener(i.NS,h);var s=r.diff,o=z;s.id&&r.appid&&r.pageUrl||(s.id=t().id,r.appid=R.appid,r.pageUrl=L,z=M=null),s.id===l.id&&r.appid===R.appid&&r.pageUrl===L&&(M||(l.jwInstreamState()&&l.jwInstreamDestroy(!0),b(o),u.sendEvent(a.JWPLAYER_PLAYER_STATE,{oldstate:s.oldstate,newstate:s.newstate})),C(r)),z=null}}function p(e){O.active=!!e,e=O;var t;t=M&&M.receiver?M.receiver.friendlyName:"",e.deviceName=t,g(a.JWPLAYER_CAST_SESSION)}function g(e){var t=r.extend({},O);u.sendEvent(e,t)}function m(t){var n=e.chrome;t.code!==n.cast.ErrorCode.CANCEL&&(i.log("Cast Session Error:",t,M),t.code===n.cast.ErrorCode.SESSION_ERROR&&_())}function v(t){var n=e.chrome;t.code!==n.cast.ErrorCode.CANCEL&&(i.log("Cast Session Error:",t,M),t.code===n.cast.ErrorCode.SESSION_ERROR&&_())}function _(){M?(x(),M.stop(A,y),P({item:0}),C({type:"state",diff:{buffer:0,position:0,duration:0}})):A()}function y(e){i.error("Cast Session Stop error:",e,M),A()}function b(n){if(i.log("Session started:",n),M)_(),H=n;else{M=n,M.addMessageListener(i.NS,E),M.addUpdateListener(w),l.jwPause(!0),l.jwSetFullscreen(!1),B=u.getVideo(),k=u.volume,I=u.mute,F=new i.provider(c),F.init(),u.setVideoProvider(F),l.jwPlay=function(e){!1===e?F.pause():F.play()},l.jwPause=function(e){l.jwPlay(!!e)},l.jwLoad=function(e){"number"===r.typeOf(e)&&u.setItem(e),F.load(e)},l.jwPlaylistItem=function(e){"number"===r.typeOf(e)&&u.setItem(e),F.playlistItem(e)},l.jwPlaylistNext=function(){l.jwPlaylistItem(u.item+1)},l.jwPlaylistPrev=function(){l.jwPlaylistItem(u.item-1)},l.jwSetVolume=function(e){r.exists(e)&&(e=0|Math.min(Math.max(0,e),100),D(e)&&(e=Math.max(0,Math.min(e/100,1)),M.setReceiverVolumeLevel(e,S,function(e){i.error("set volume error",e),S()})))},l.jwSetMute=function(e){r.exists(e)||(e=!N.mute),j(e)&&M.setReceiverMuted(!!e,S,function(e){i.error("set muted error",e),S()})},l.jwGetVolume=function(){return 0|N.volume},l.jwGetMute=function(){return!!N.mute},l.jwIsBeforePlay=function(){return!1};var o=l.jwSetCurrentCaptions;l.jwSetCurrentCaptions=function(e){o(e),F.sendCommand("caption",e)},l.jwSkipAd=function(e){$&&($.skipAd(e),e=$.getAdModel(),e.complete=!0,u.sendEvent(a.JWPLAYER_CAST_AD_CHANGED,e))},l.jwClickAd=function(n){if($&&300<$.timeSinceClick()&&($.clickAd(n),u.state!==s.PAUSED)){var i={tag:n.tag};n.sequence&&(i.sequence=n.sequence),n.podcount&&(i.podcount=n.podcount),t(l.id).dispatchEvent(a.JWPLAYER_AD_CLICK,i),e.open(n.clickthrough)}},l.jwPlayAd=l.jwPauseAd=l.jwSetControls=l.jwForceState=l.jwReleaseState=l.jwSetFullscreen=l.jwDetachMedia=l.jwAttachMedia=T;var d=t(l.id).plugins;d.vast&&d.vast.jwPauseAd!==T&&(W={jwPlayAd:d.vast.jwPlayAd,jwPauseAd:d.vast.jwPauseAd},d.vast.jwPlayAd=d.vast.jwPauseAd=T),S(),p(!0),n!==z&&(F.setup(t.cast.setupCastConfig(u,R),u),t.cast.loader.sendDummyMedia(n))}}function w(e){i.log("Cast Session status",e),e?S():(F.sendEvent(a.JWPLAYER_PLAYER_STATE,{oldstate:u.state,newstate:s.BUFFERING}),A())}function A(){if(i.log("_sessionStopped"),M&&(x(),M=null),B){delete l.jwSkipAd,delete l.jwClickAd,l.initializeAPI();var e=t(l.id).plugins;e.vast&&r.extend(e.vast,W),u.volume=k,u.mute=I,u.setVideoProvider(B),u.duration=0,F&&(F.destroy(),F=null),$&&($.destroy(),$=null),u.state!==s.IDLE?r.isIPad()||r.isIPod()?(l.jwStop(!0),B.sendEvent(a.JWPLAYER_PLAYER_STATE,{oldstate:s.BUFFERING,newstate:s.IDLE})):(u.state=s.IDLE,l.jwPlay(!0),l.jwSeek(u.position)):B.sendEvent(a.JWPLAYER_PLAYER_STATE,{oldstate:s.BUFFERING,newstate:s.IDLE}),B=null}p(!1),null!==H&&(b(H),H=null)}function x(){M.removeUpdateListener(w),M.removeMessageListener(i.NS,E)}function E(e,t){var n=JSON.parse(t);if(!n)throw"Message not proper JSON";C(n)}function C(e){if("state"===e.type)$&&(e.diff.newstate||e.diff.position)&&($.destroy(),$=null,u.setVideoProvider(F),u.sendEvent(a.JWPLAYER_CAST_AD_CHANGED,{done:!0})),F.updateModel(e.diff,e.type),P(e.diff);else if("ad"===e.type){null===$&&($=new i.adprovider(i.NS,M),$.init(),u.setVideoProvider($)),$.updateModel(e.diff,e.type);var t=$.getAdModel();e.diff.clickthrough&&(t.onClick=l.jwClickAd),e.diff.skipoffset&&(t.onSkipAd=l.jwSkipAd),u.sendEvent(a.JWPLAYER_CAST_AD_CHANGED,t),e.diff.complete&&$.resetAdModel()}else"connection"===e.type?!0===e.closed&&_():i.error("received unhandled message",e.type,e)}function P(e){void 0!==e.item&&u.item!==e.item&&(u.item=e.item,u.sendEvent(a.JWPLAYER_PLAYLIST_ITEM,{index:u.item}))}function S(){if(M&&M.receiver){var e=M.receiver.volume;if(e){var t=100*e.level|0;j(!!e.muted),D(t)}}}function D(e){var t=N.volume!==e;return t&&(N.volume=e,F.sendEvent(a.JWPLAYER_MEDIA_VOLUME,{volume:e})),t}function j(e){var t=N.mute!==e;return t&&(N.mute=e,F.sendEvent(a.JWPLAYER_MEDIA_MUTE,{mute:e})),t}function T(){}var k,I,R,M=null,O={available:!1,active:!1,deviceName:""},N={volume:null,mute:null},L=r.getAbsolutePath(e.location.href),F=null,$=null,B=null;k=u.volume,I=u.mute;var z=null,H=null,W=null;R=r.extend({},o,u.cast),n(R,"loadscreen"),n(R,"endscreen"),n(R,"logo"),!R.appid||e.cast&&e.cast.receiver||(i.loader.addEventListener("availability",d),i.loader.addEventListener("session",f),i.loader.initialize(R.appid)),this.startCasting=function(){M||l.jwInstreamState()||e.chrome.cast.requestSession(b,m)},this.stopCasting=_,this.openExtension=function(){l.jwInstreamState()||e.chrome.cast.requestSession(b,v)}},i.log=function(){if(i.debug){var e=Array.prototype.slice.call(arguments,0);console.log.apply(console,e)}},i.error=function(){var e=Array.prototype.slice.call(arguments,0);console.error.apply(console,e)}}(window,jwplayer),function(e){function t(e){v.log("existing session",e),!m&&!p&&(p=e.session,p.addMessageListener(v.NS,n))}function n(t,i){var r=JSON.parse(i),a=p;if(!r)throw"Message not proper JSON";r.reconcile&&(p.removeMessageListener(v.NS,n),r.receiverFriendlyName=p.receiver.friendlyName,r.pageUrl&&r.diff.id&&r.appid||(r.pageUrl=x,r.diff.id=e().id,r.appid=h,p=m=null),w[r.diff.id]&&h===r.appid&&r.pageUrl===x&&(f=r.diff.id,h=r.appid,c(f,"jwInstreamDestroy"),s(a),c(f,A.message,r),p=null))}function i(){m&&(m.removeUpdateListener(u),m.removeMessageListener(v.NS,o),m.stop(r.bind(this),l.bind(this)),m=null),c(f,A.cleanup)}function r(){void 0!==g&&null!==g&&(s(g),g=null)}function a(e,t){m.sendMessage(v.NS,{command:e,args:t},_.noop,function(e){v.error("message send error",e)})}function s(t){var n=e(f);m?(i(),g=t):(m=t,m.addMessageListener(v.NS,o),m.addUpdateListener(u),n=e.cast.setupFlashCastConfig(n),p!==m&&(a("setup",n),e.cast.loader.sendDummyMedia(m)),c(f,A.connected,{receiverFriendlyName:t.receiver.friendlyName}))}function o(e,t){if(t){var n=JSON.parse(t);if(!n)throw"Message not proper JSON";c(f,A.message,n)}}function l(e){c(f,A.error,e||{})}function u(e){e?d():i()}function c(t,n,i){i?e(t).callInternal(n,i):e(t).callInternal(n)}function d(){if(m&&m.receiver){var t=m.receiver.volume;if(t){var n=100*t.level|0,t=!!t.muted;e(f).setVolume(n).setMute(t)}}}var f,h,p,g,m,v=e.cast,_=e.utils,y=e._,b=window.chrome||{},w={},A={},x=_.getAbsolutePath(window.location.href);v.NS="urn:x-cast:com.longtailvideo.jwplayer",v.flash={checkAvailability:function(e,n,i){A=i,h=n,w[e]=!0,v.loader.addEventListener("availability",function(t){"available"===t.availability&&c(e,A.available,t)}),v.loader.addEventListener("session",t),v.loader.initialize(n)},startCasting:function(e){f=e,b.cast.requestSession(s.bind(this),l.bind(this))},stopCasting:i,openExtension:function(e){f=e,b.cast.requestSession(s.bind(this),l.bind(this))},mute:function(e){m.setReceiverMuted(e,d,function(e){v.error("set muted error",e)})},volume:function(e){e=Math.max(0,Math.min(e/100,1)),m.setReceiverVolumeLevel(e,d,function(e){v.error("set volume error",e)})},messageReceiver:a,canCastItem:function(t){return y.any(t.levels,function(t){return e.embed.html5CanPlay(t.file,t.type)||"hls"===t.type})}}}(window.jwplayer),function(e,t){function n(e){var n=new t.cast.media.MediaInfo("");n.contentType="video/mp4",n=new t.cast.media.LoadRequest(n),n.autoplay=!1,e.loadMedia(n)}function i(){t&&t.cast&&t.cast.isAvailable&&!c.apiConfig?(c.apiConfig=new t.cast.ApiConfig(new t.cast.SessionRequest(p),o,l,t.cast.AutoJoinPolicy.ORIGIN_SCOPED),t.cast.initialize(c.apiConfig,s,a)):15>h++&&setTimeout(i,1e3)}function r(){u&&(u.resetEventListeners(),u=null)}function a(){c.apiConfig=null}function s(){}function o(e){g.sendEvent("session",{session:e}),e.sendMessage(c.NS,{whoami:1}),0===e.media.length&&n(e)}function l(e){c.availability=e,g.sendEvent("availability",{availability:e})}window.chrome=t;var u,c=e.cast,d=e.utils,f=e.events,h=0,p=null,g=d.extend({initialize:function(e){p=e,null!==c.availability?g.sendEvent("availability",{availability:c.availability}):t&&t.cast?i():u||(u=new d.scriptloader("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),u.addEventListener(f.ERROR,r),u.addEventListener(f.COMPLETE,i),u.load())}},new f.eventdispatcher("cast.loader"));e.cast.loader=g,e.cast.loader.sendDummyMedia=n}(window.jwplayer,window.chrome||{}),function(e,t){var n=[],i=e.utils,r=e.events,a=e._,s=0,o=r.state,l="getBuffer getCaptionsList getControls getCurrentCaptions getCurrentQuality getCurrentAudioTrack getDuration getFullscreen getHeight getLockState getMute getPlaylistIndex getSafeRegion getPosition getQualityLevels getState getVolume getWidth isBeforeComplete isBeforePlay releaseState".split(" "),u="playlistNext stop forceState playlistPrev seek setCurrentCaptions setControls setCurrentQuality setVolume setCurrentAudioTrack".split(" "),c={onBufferChange:r.JWPLAYER_MEDIA_BUFFER,onBufferFull:r.JWPLAYER_MEDIA_BUFFER_FULL,onError:r.JWPLAYER_ERROR,onSetupError:r.JWPLAYER_SETUP_ERROR,onFullscreen:r.JWPLAYER_FULLSCREEN,onMeta:r.JWPLAYER_MEDIA_META,onMute:r.JWPLAYER_MEDIA_MUTE,onPlaylist:r.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:r.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:r.JWPLAYER_PLAYLIST_COMPLETE,onReady:r.API_READY,onResize:r.JWPLAYER_RESIZE,onComplete:r.JWPLAYER_MEDIA_COMPLETE,onSeek:r.JWPLAYER_MEDIA_SEEK,onTime:r.JWPLAYER_MEDIA_TIME,onVolume:r.JWPLAYER_MEDIA_VOLUME,onBeforePlay:r.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:r.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:r.JWPLAYER_DISPLAY_CLICK,onControls:r.JWPLAYER_CONTROLS,onQualityLevels:r.JWPLAYER_MEDIA_LEVELS,onQualityChange:r.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:r.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:r.JWPLAYER_CAPTIONS_CHANGED,onAdError:r.JWPLAYER_AD_ERROR,onAdClick:r.JWPLAYER_AD_CLICK,onAdImpression:r.JWPLAYER_AD_IMPRESSION,onAdTime:r.JWPLAYER_AD_TIME,onAdComplete:r.JWPLAYER_AD_COMPLETE,onAdCompanions:r.JWPLAYER_AD_COMPANIONS,onAdSkipped:r.JWPLAYER_AD_SKIPPED,onAdPlay:r.JWPLAYER_AD_PLAY,onAdPause:r.JWPLAYER_AD_PAUSE,onAdMeta:r.JWPLAYER_AD_META,onCast:r.JWPLAYER_CAST_SESSION,onAudioTrackChange:r.JWPLAYER_AUDIO_TRACK_CHANGED,onAudioTracks:r.JWPLAYER_AUDIO_TRACKS},d={onBuffer:o.BUFFERING,onPause:o.PAUSED,onPlay:o.PLAYING,onIdle:o.IDLE};e.api=function(s){function f(e,t){i.foreach(e,function(e,n){y[e]=function(e){return t(n,e)}})}function h(e,t){var n="jw"+t.charAt(0).toUpperCase()+t.slice(1);y[t]=function(){var t=m.apply(this,[n].concat(Array.prototype.slice.call(arguments,0)));return e?y:t}}function p(e,t){try{e.jwAddEventListener(t,'function(dat) { jwplayer("'+y.id+'").dispatchEvent("'+t+'", dat); }')}catch(e){if("flash"===y.renderingMode){var n=document.createElement("a");n.href=v.data,n.protocol!==location.protocol&&i.log("Warning: Your site ["+location.protocol+"] and JWPlayer ["+n.protocol+"] are hosted using different protocols")}i.log("Could not add internal listener")}}function g(e,t){return b[e]||(b[e]=[],v&&A&&p(v,e)),b[e].push(t),y}function m(){if(A){if(v){var e=Array.prototype.slice.call(arguments,0),t=e.shift();if("function"==typeof v[t]){switch(e.length){case 6:return v[t](e[0],e[1],e[2],e[3],e[4],e[5]);case 5:return v[t](e[0],e[1],e[2],e[3],e[4]);case 4:return v[t](e[0],e[1],e[2],e[3]);case 3:return v[t](e[0],e[1],e[2]);case 2:return v[t](e[0],e[1]);case 1:return v[t](e[0])}return v[t]()}}return null}x.push(arguments)}var v,_,y=this,b={},w={},A=!1,x=[],E={},C={};return y.container=s,y.id=s.id,y.setup=function(t){if(e.embed){e.api.destroyPlayer(y.id);var n=new e.api(y.container);return e.api.addPlayer(n),n.config=t,n._embedder=new e.embed(n),n._embedder.embed(),n}return y},y.getContainer=function(){return y.container},y.addButton=function(e,t,n,r){try{C[r]=n,m("jwDockAddButton",e,t,'jwplayer("'+y.id+'").callback("'+r+'")',r)}catch(e){i.log("Could not add dock button"+e.message)}},y.removeButton=function(e){m("jwDockRemoveButton",e)},y.callback=function(e){C[e]&&C[e]()},y.getMeta=function(){return y.getItemMeta()},y.getPlaylist=function(){var e=m("jwGetPlaylist");return"flash"===y.renderingMode&&i.deepReplaceKeyName(e,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),e},y.getPlaylistItem=function(e){return i.exists(e)||(e=y.getPlaylistIndex()),y.getPlaylist()[e]},y.getRenderingMode=function(){return y.renderingMode},y.setFullscreen=function(e){return i.exists(e)?m("jwSetFullscreen",e):m("jwSetFullscreen",!m("jwGetFullscreen")),y},y.setMute=function(e){return i.exists(e)?m("jwSetMute",e):m("jwSetMute",!m("jwGetMute")),y},y.lock=function(){return y},y.unlock=function(){return y},y.load=function(t){return m("jwInstreamDestroy"),e(y.id).plugins.googima&&m("jwDestroyGoogima"),m("jwLoad",t),y},y.playlistItem=function(e){return m("jwPlaylistItem",parseInt(e,10)),y},y.resize=function(e,t){if("flash"!==y.renderingMode)m("jwResize",e,t);else{var n=document.getElementById(y.id+"_wrapper"),r=document.getElementById(y.id+"_aspect");r&&(r.style.display="none"),n&&(n.style.display="block",n.style.width=i.styleDimension(e),n.style.height=i.styleDimension(t))}return y},y.play=function(e){if(e!==t)return m("jwPlay",e),y;e=y.getState();var n=_&&_.getState();return n&&m(n===o.IDLE||n===o.PLAYING||n===o.BUFFERING?"jwInstreamPause":"jwInstreamPlay"),m(e===o.PLAYING||e===o.BUFFERING?"jwPause":"jwPlay"),y},y.pause=function(e){return e===t?(e=y.getState(),m(e===o.PLAYING||e===o.BUFFERING?"jwPause":"jwPlay")):m("jwPause",e),y},y.createInstream=function(){return new e.api.instream(this,v)},y.setInstream=function(e){return _=e},y.loadInstream=function(e,t){return _=y.setInstream(y.createInstream()).init(t),_.loadItem(e),_},y.destroyPlayer=function(){A=!0,m("jwPlayerDestroy")},y.playAd=function(t){var n=e(y.id).plugins;n.vast?n.vast.jwPlayAd(t):m("jwPlayAd",t)},y.pauseAd=function(){var t=e(y.id).plugins;t.vast?t.vast.jwPauseAd():m("jwPauseAd")},f(d,function(e,t){return w[e]||(w[e]=[],g(r.JWPLAYER_PLAYER_STATE,function(t){var n=t.newstate;if(t=t.oldstate,n===e){var i=w[n];if(i)for(var r=0;r<i.length;r++){var a=i[r];"function"==typeof a&&a.call(this,{oldstate:t,newstate:n})}}})),w[e].push(t),y}),f(c,g),i.foreach(l,function(e,t){h(!1,t)}),i.foreach(u,function(e,t){h(!0,t)}),y.remove=function(){this._embedder&&this._embedder.destroy&&this._embedder.destroy(),x=[];var e=1<a.size(a.where(n,{id:y.id}));e||i.clearCss("#"+y.id);var t=document.getElementById(y.id+("flash"===y.renderingMode?"_wrapper":""));if(t){if("html5"===y.renderingMode)y.destroyPlayer();else if(i.isMSIE(8)){var r=document.getElementById(y.id);if(r&&r.parentNode){r.style.display="none";for(var s in r)"function"==typeof r[s]&&(r[s]=null);r.parentNode.removeChild(r)}}e||(e=document.createElement("div"),e.id=y.id,t.parentNode.replaceChild(e,t))}n=a.filter(n,function(e){return e.uniqueId!==y.uniqueId})},y.registerPlugin=function(t,n,i,r){e.plugins.registerPlugin(t,n,i,r)},y.setPlayer=function(e,t){v=e,y.renderingMode=t},y.detachMedia=function(){if("html5"===y.renderingMode)return m("jwDetachMedia")},y.attachMedia=function(e){if("html5"===y.renderingMode)return m("jwAttachMedia",e)},y.getAudioTracks=function(){return m("jwGetAudioTracks")},y.removeEventListener=function(e,t){var n=b[e];if(n)for(var i=n.length;i--;)n[i]===t&&n.splice(i,1)},y.dispatchEvent=function(e,t){var n=b[e];if(n)for(var n=n.slice(0),a=i.translateEventResponse(e,t),s=0;s<n.length;s++){var o=n[s];if("function"==typeof o)try{e===r.JWPLAYER_PLAYLIST_LOADED&&i.deepReplaceKeyName(a.playlist,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),o.call(this,a)}catch(e){i.log("There was an error calling back an event handler",e)}}},y.dispatchInstreamEvent=function(e){_&&_.dispatchEvent(e,arguments)},y.callInternal=m,y.playerReady=function(e){for(A=!0,v||y.setPlayer(document.getElementById(e.id)),y.container=document.getElementById(y.id),i.foreach(b,function(e){p(v,e)}),g(r.JWPLAYER_PLAYLIST_ITEM,function(){E={}}),g(r.JWPLAYER_MEDIA_META,function(e){i.extend(E,e.metadata)}),g(r.JWPLAYER_VIEW_TAB_FOCUS,function(e){var t=y.getContainer();!0===e.hasFocus?i.addClass(t,"jw-tab-focus"):i.removeClass(t,"jw-tab-focus")}),y.dispatchEvent(r.API_READY);0<x.length;)m.apply(y,x.shift())},y.getItemMeta=function(){return E},y},e.playerReady=function(t){var n=e.api.playerById(t.id);n||(n=e.api.selectPlayer(t.id)),n.playerReady(t)},e.api.selectPlayer=function(t){var r;return i.exists(t)||(t=0),t.nodeType?r=t:"string"==typeof t&&(r=document.getElementById(t)),r?(t=e.api.playerById(r.id))?t:new e.api(r):"number"==typeof t?n[t]:null},e.api.playerById=function(e){for(var t=0;t<n.length;t++)if(n[t].id===e)return n[t];return null},e.api.addPlayer=function(e){for(var t=0;t<n.length;t++)if(n[t]===e)return e;return s++,e.uniqueId=s,n.push(e),e},e.api.destroyPlayer=function(e){e=a.where(n,{id:e}),a.each(e,a.partial(a.result,a,"remove"))}}(window.jwplayer),function(e){var t=e.events,n=e.utils,i=t.state;e.api.instream=function(e,r){function a(t,n){return u[t]||(u[t]=[],r.jwInstreamAddEventListener(t,'function(dat) { jwplayer("'+e.id+'").dispatchInstreamEvent("'+t+'", dat); }')),u[t].push(n),this}function s(e,n){return c[e]||(c[e]=[],a(t.JWPLAYER_PLAYER_STATE,function(t){var n=t.newstate,i=t.oldstate;if(n===e){var r=c[n];if(r)for(var a=0;a<r.length;a++){var s=r[a];"function"==typeof s&&s.call(this,{oldstate:i,newstate:n,type:t.type})}}})),c[e].push(n),this}var o,l,u={},c={},d=this;d.type="instream",d.init=function(){return e.callInternal("jwInitInstream"),d},d.loadItem=function(t,i){o=t,l=i||{},"array"===n.typeOf(t)?e.callInternal("jwLoadArrayInstream",o,l):e.callInternal("jwLoadItemInstream",o,l)},d.removeEvents=function(){u=c={}},d.removeEventListener=function(e,t){var n=u[e];if(n)for(var i=n.length;i--;)n[i]===t&&n.splice(i,1)},d.dispatchEvent=function(e,t){var i=u[e];if(i)for(var i=i.slice(0),r=n.translateEventResponse(e,t[1]),a=0;a<i.length;a++){var s=i[a];"function"==typeof s&&s.call(this,r)}},d.onError=function(e){return a(t.JWPLAYER_ERROR,e)},d.onMediaError=function(e){return a(t.JWPLAYER_MEDIA_ERROR,e)},d.onFullscreen=function(e){return a(t.JWPLAYER_FULLSCREEN,e)},d.onMeta=function(e){return a(t.JWPLAYER_MEDIA_META,e)},d.onMute=function(e){return a(t.JWPLAYER_MEDIA_MUTE,e)},d.onComplete=function(e){return a(t.JWPLAYER_MEDIA_COMPLETE,e)},d.onPlaylistComplete=function(e){return a(t.JWPLAYER_PLAYLIST_COMPLETE,e)},d.onPlaylistItem=function(e){return a(t.JWPLAYER_PLAYLIST_ITEM,e)},d.onTime=function(e){return a(t.JWPLAYER_MEDIA_TIME,e)},d.onBuffer=function(e){return s(i.BUFFERING,e)},d.onPause=function(e){return s(i.PAUSED,e)},d.onPlay=function(e){return s(i.PLAYING,e)},d.onIdle=function(e){return s(i.IDLE,e)},d.onClick=function(e){return a(t.JWPLAYER_INSTREAM_CLICK,e)},d.onInstreamDestroyed=function(e){return a(t.JWPLAYER_INSTREAM_DESTROYED,e)},d.onAdSkipped=function(e){return a(t.JWPLAYER_AD_SKIPPED,e)},d.play=function(e){r.jwInstreamPlay(e)},d.pause=function(e){r.jwInstreamPause(e)},d.hide=function(){e.callInternal("jwInstreamHide")},d.destroy=function(){d.removeEvents(),e.callInternal("jwInstreamDestroy")},d.setText=function(e){r.jwInstreamSetText(e||"")},d.getState=function(){return r.jwInstreamState()},d.setClick=function(e){r.jwInstreamClick&&r.jwInstreamClick(e)}}}(jwplayer),function(e){var t=e.api,n=t.selectPlayer,i=e._;t.selectPlayer=function(t){var i=n.apply(this,arguments);return i||{registerPlugin:function(t,n,i){"jwpsrv"!==t&&e.plugins.registerPlugin(t,n,i)}}},e.unregisteredProviders=[],t.registerProvider=function(t){e&&e.html5&&i.isFunction(e.html5.registerProvider)?e.html5.registerProvider(t):e.unregisteredProviders.push(t)}}(jwplayer))},168:function(e,t,n){"use strict";var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i);n(151),n(2),n(4),n(232),n(246),n(152),n(228),n(128),n(153),n(169),n(171),n(8),n(66),n(174),n(7),n(215),n(175),n(129),n(139),n(176),n(154),n(155),n(156),n(157),window.$=r.default},169:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=i(r),s=n(5),o=i(s),l=n(15),u=n(2),c=i(u),d=n(216),f=i(d),h=n(170);n(11),n(35),n(27),n(36),n(58),n(61),n(32),(0,a.default)(".field.search.location-search").livequery(function(){var e=(0,a.default)(this);e.on("livesearch_selector:select",function(){(0,a.default)(this).siblings("span.input-tip").hide(),(0,a.default)(this).parent().siblings("span.input-tip").hide(),(0,a.default)(this).trigger("shifted")}),e.on("livesearch_selector:unselect",function(){(0,a.default)(this).siblings("span.input-tip").show(),(0,a.default)(this).parent().siblings("span.input-tip").show(),(0,a.default)(this).trigger("shifted")}),e.livesearch_selector({url:e.data("searchUrl"),cancel_copy:"",process_data:function(){return{term:this.$elem.val()}},process_results:function(e){return o.default.map(e.locations,function(e){return[e.short_name,e.id]})}})}),(0,a.default)("input.date").livequery(function(){var e=(0,a.default)(this),t=e.val(),n=e.closest(".js-date-field").find(".js-hidden-calendar-input");n.val(t?(0,l.format)("YYYY-MM-DD",t):""),e.datetime_picker_field({calendar:{allow_deselect:!1,previous_month_text:"<",next_month_text:">"},class_name:"absolute z_top",parse_callback:function(e){var t=(0,h.parseWithFormat)(e,"l");return(0,f.default)(t)?t:void 0},format_callback:function(e){return n.val(e?(0,l.format)("YYYY-MM-DD",e):""),e?(0,l.format)("l",e):""}})}),(0,a.default)("input.datetime").livequery(function(){var e=(0,a.default)(this),t=e.data("options")||{};e.datetime_picker_field(a.default.extend(!0,{calendar:{allow_deselect:!1,previous_month_text:"<",next_month_text:">",time_text:c.default.t("onloads.initializers.forms.Time")},class_name:"absolute z_top",position:e.is(".position_calendar_below")?"bottom":"right",parse_callback:function(e){var t=(0,h.parseWithFormat)(e,"l LT");return(0,f.default)(t)?t:void 0},format_callback:function(t){return e.closest(".js-datetime-field").find(".js-hidden-calendar-input").val(t?(0,l.formatWithLocale)("en","YYYY-MM-DD HH:mm:ss Z",t):""),t?(0,l.format)("l LT",t):""}},t))}),(0,a.default)(".js-calendar-picker").livequery(function(){var e,t=(0,a.default)(this),n=t.find('input[type="hidden"]'),i=t.find(".calendar"),r=i.data("options")||{};i.on("calendar_date_picker:date_selected",function(e,t){t?n.val((0,l.format)("YYYY-MM-DD HH:mm:ss Z",t)):n.val(""),n.trigger("change")}),""!==n.val()&&(e=new Date(n.val())),i.calendar_date_picker(o.default.extend({allow_deselect:!1,previous_month_text:"<",next_month_text:">",time_text:c.default.t("onloads.initializers.forms.Time"),selected_date:e},r)).data("calendar_date_picker")}),(0,a.default)("form ul.js-sortable, form ol.js-sortable, form tbody.js-sortable").livequery(function(){var e=(0,a.default)(this),t=!1;e.find(".move").length&&(t=".move"),e.find(".move").click(function(e){e.preventDefault()}),e.sortable({containment:"document",axis:"y",handle:t,update:function(){e.find("input.position").each(function(e){(0,a.default)(this).val(e+1)})}}),e.closest("form").submit(function(){e.find("input.position").each(function(e){(0,a.default)(this).val(e+1)})})})},170:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseWithFormat=t.parseWithFormatAndLocale=void 0;var i=function(){function e(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(r),s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["day","month","year"],i=t.split(e),r=n.reduce(function(e,t,n){return e[t]=i[n],e},{}),a=r.day;return r.month+"/"+a+"/"+r.year},o={l:{de:function(e){return s(".",e)},en:function(e){return e},es:function(e){return s("/",e)},fr:function(e){return s("/",e)},ja:function(e){return s("/",e,["year","month","day"])}},"l LT":{de:function(e){var t=e.split(" "),n=i(t,2),r=n[0],a=n[1];return s(".",r)+" "+a},en:function(e){return e},es:function(e){var t=e.split(" "),n=i(t,2),r=n[0],a=n[1];return s("/",r)+" "+a},fr:function(e){var t=e.split(" "),n=i(t,2),r=n[0],a=n[1];return s("/",r)+" "+a},ja:function(e){var t=e.split(" "),n=i(t,2),r=n[0],a=n[1];return s("/",r,["year","month","day"])+" "+a}}},l=t.parseWithFormatAndLocale=function(e,t,n){return(0,a.default)(o[t][e](n))};t.parseWithFormat=function(e,t){return l(window.I18n.locale,t,e)}},171:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=["AdobeReader","Flash","Quicktime","RealPlayer","Shockwave","Silverlight","VLC","WindowsMediaPlayer"],t=function(e){try{return window.PluginDetect.getVersion(e)}catch(e){return e.description}};return y.default.chain(e).zip(y.default.map(e,t)).filter(y.default.last).value()}function a(){return y.default.map(navigator.plugins,function(e){return[e.name,e.description,e.filename,e.length].join("|")})}function s(){return y.default.map(navigator.mimeTypes,function(e){return[e.type,e.description].join("|")})}function o(){var e=[screen.availWidth,screen.availHeight],t=screen.orientation||screen.mozOrientation||screen.msOrientation;return"object"===(void 0===t?"undefined":g(t))&&(t=t.type),t?t.match("portrait")&&e.reverse():e.sort().reverse(),e.push(screen.colorDepth),e.join("x")}function l(){var e=document.createElement("canvas");if(e.getContext&&e.getContext("2d")){var t=e.getContext("2d"),n="a1b2,#3<!xy> 456.Z";return t.textBaseline="top",t.font='14px "Arial"',t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,4,17),e.toDataURL()}}function u(){var e=navigator.getGamepads?navigator.getGamepads():[];return y.default.chain(e).filter(y.default.identity).map(function(e){return[e.index,e.id].join("|")}).value()}function c(){var e,t,n,i=new Date,r=i.getTimezoneOffset();return i.setDate(1),i.setMonth(1),e=i.getTimezoneOffset(),i.setMonth(6),t=i.getTimezoneOffset(),n=e-t,n?r+"DST"+n:r.toString()}function d(){var e=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"],t=["monospace","sans-serif","serif"],n=function(e){var t=document.createElement("span");t.style.fontFamily=e,t.style.fontSize="72px";var n=document.createTextNode("mmmmmmmmmmlli");return t.appendChild(n),t},i=y.default.map(t,n),r=y.default.map(e,function(e){return y.default.map(t,function(t){return n(e+","+t)})}),a=document.createElement("div");a.style.position="absolute",a.style.visibility="hidden",y.default.forEach(y.default.flatten(r).concat(i),function(e){a.appendChild(e)});var s=document.getElementsByTagName("body")[0];s.appendChild(a);var o=function(e){var t=e.offsetHeight;return[e.offsetWidth,t]},l=y.default.map(i,o),u=y.default.map(r,function(e){return y.default.map(e,o)});s.removeChild(a);var c=function(e,n){var i,r,a;for(a=0;a<t.length;a+=1)if(i=u[n][a],r=l[a],i[0]!==r[0]||i[1]!==r[1])return!0;return!1};return y.default.filter(e,c)}function f(){var e=[screen.height===screen.availHeight,screen.height===window.innerHeight,0===s().length,0===(new Date).getTimezoneOffset()];return y.default.filter(e,y.default.identity).length/e.length}function h(e){return(new w.default.SHA256).hex(e)}function p(){var e=S.default;return void 0===e||null===e||""===e||"object"!==(void 0===e?"undefined":g(e))?null:"function"==typeof e.get?e.get("id")||null:e.id?e.id||null:null}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=n(0),v=i(m),_=n(5),y=i(_),b=n(172),w=i(b),A=n(229),x=i(A);n(173);var E,C,P=n(16),S=i(P);E=y.default.memoize(function(){var e,t=r(),n=a(),i=s(),p=u(),g=d(),m={pdc:t.length,pds:t.toString(),npc:n.length,nps:n.toString(),mtc:i.length,mts:i.toString(),fnc:g.length,fns:g.toString(),gpc:p.length,gps:p.toString(),tzo:c(),uas:navigator.userAgent,lan:[navigator.language,navigator.userLanguage,navigator.systemLanguage,navigator.languages].join("|"),cpu:[navigator.platform,navigator.hardwareConcurrency].join("|"),mpi:Math.PI.toString()};return f()<.75&&(e=l(),m.cnv=[e.substr(0,32),e.length,h(e)].join("|"),m.res=o()),m}),C=y.default.memoize(function(){var e=E(),t=["pds","nps","mts","fns","gps","tzo","uas","lan","cpu","cnv","mpi","res"];return h(y.default.chain(t).map(function(t){return e[t]}).map(function(e){return void 0===e?"":e}).map(function(e){return e.toString()}).value().join("\n"))});var D=function(){var e=function(){var e,t;if(window.koala_device_endpoint){try{t=C()}catch(e){t=null}e={partition_key:(0,x.default)(),device_id2:t,visitor_id:(0,x.default)(),ip_address:window.current_ip,user_uid:p()},window.enabled_features&&window.enabled_features.device_components&&(e.components=E()),v.default.ajax({type:"POST",url:window.koala_device_endpoint,data:JSON.stringify(e),contentType:"text/plain; charset=UTF-8"})}};y.default.defer(function(){e()})};window.log_device=D},172:function(e,t,n){(function(i){var r;!function(){function a(e){var t,n,i,r="",a=-1;if(e&&e.length)for(i=e.length;(a+=1)<i;)t=e.charCodeAt(a),n=a+1<i?e.charCodeAt(a+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),a+=1),t<=127?r+=String.fromCharCode(t):t<=2047?r+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r}function s(e){var t,n,i,r,a,s,o=[];if(t=n=i=r=a=0,e&&e.length)for(s=e.length,e+="";t<s;)i=e.charCodeAt(t),n+=1,i<128?(o[n]=String.fromCharCode(i),t+=1):i>191&&i<224?(r=e.charCodeAt(t+1),o[n]=String.fromCharCode((31&i)<<6|63&r),t+=2):(r=e.charCodeAt(t+1),a=e.charCodeAt(t+2),o[n]=String.fromCharCode((15&i)<<12|(63&r)<<6|63&a),t+=3);return o.join("")}function o(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function l(e,t){return e<<t|e>>>32-t}function u(e,t){for(var n,i=t?"0123456789ABCDEF":"0123456789abcdef",r="",a=0,s=e.length;a<s;a+=1)n=e.charCodeAt(a),r+=i.charAt(n>>>4&15)+i.charAt(15&n);return r}function c(e){var t,n=32*e.length,i="";for(t=0;t<n;t+=8)i+=String.fromCharCode(e[t>>5]>>>24-t%32&255);return i}function d(e){var t,n=32*e.length,i="";for(t=0;t<n;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i}function f(e){var t,n=8*e.length,i=Array(e.length>>2),r=i.length;for(t=0;t<r;t+=1)i[t]=0;for(t=0;t<n;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function h(e){var t,n=8*e.length,i=Array(e.length>>2),r=i.length;for(t=0;t<r;t+=1)i[t]=0;for(t=0;t<n;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<24-t%32;return i}function p(e,t){var n,i,r,a,s,o,l,u,c=t.length,d=Array();for(o=Array(Math.ceil(e.length/2)),a=o.length,n=0;n<a;n+=1)o[n]=e.charCodeAt(2*n)<<8|e.charCodeAt(2*n+1);for(;o.length>0;){for(s=Array(),r=0,n=0;n<o.length;n+=1)r=(r<<16)+o[n],i=Math.floor(r/c),r-=i*c,(s.length>0||i>0)&&(s[s.length]=i);d[d.length]=r,o=s}for(l="",n=d.length-1;n>=0;n--)l+=t.charAt(d[n]);for(u=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),n=l.length;n<u;n+=1)l=t[0]+l;return l}function g(e,t){var n,i,r,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="",o=e.length;for(t=t||"=",n=0;n<o;n+=3)for(r=e.charCodeAt(n)<<16|(n+1<o?e.charCodeAt(n+1)<<8:0)|(n+2<o?e.charCodeAt(n+2):0),i=0;i<4;i+=1)8*n+6*i>8*e.length?s+=t:s+=a.charAt(r>>>6*(3-i)&63);return s}var m;m={VERSION:"1.0.6",Base64:function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="=",n=!0;this.encode=function(i){var r,s,o,l="",u=i.length;for(t=t||"=",i=n?a(i):i,r=0;r<u;r+=3)for(o=i.charCodeAt(r)<<16|(r+1<u?i.charCodeAt(r+1)<<8:0)|(r+2<u?i.charCodeAt(r+2):0),s=0;s<4;s+=1)l+=8*r+6*s>8*u?t:e.charAt(o>>>6*(3-s)&63);return l},this.decode=function(i){var r,a,o,l,u,c,d,f,h,p,g="",m=[];if(!i)return i;r=p=0,i=i.replace(new RegExp("\\"+t,"gi"),"");do{u=e.indexOf(i.charAt(r+=1)),c=e.indexOf(i.charAt(r+=1)),d=e.indexOf(i.charAt(r+=1)),f=e.indexOf(i.charAt(r+=1)),h=u<<18|c<<12|d<<6|f,a=h>>16&255,o=h>>8&255,l=255&h,p+=1,m[p]=64===d?String.fromCharCode(a):64===f?String.fromCharCode(a,o):String.fromCharCode(a,o,l)}while(r<i.length);return g=m.join(""),g=n?s(g):g},this.setPad=function(e){return t=e||t,this},this.setTab=function(t){return e=t||e,this},this.setUTF8=function(e){return"boolean"==typeof e&&(n=e),this}},CRC32:function(e){var t,n,i,r=0,s=0,o=0;for(e=a(e),t=["00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 ","79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 ","84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F ","63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD ","A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC ","51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 ","B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 ","06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 ","E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 ","12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 ","D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 ","33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 ","CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 ","9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E ","7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D ","806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 ","60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA ","AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 ","5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 ","B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 ","05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 ","F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA ","11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 ","D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F ","30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E ","C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D"].join(""),r^=-1,n=0,i=e.length;n<i;n+=1)o=255&(r^e.charCodeAt(n)),s="0x"+t.substr(9*o,8),r=r>>>8^s;return(-1^r)>>>0},MD5:function(e){function t(e){return e=y?a(e):e,d(i(f(e),8*e.length))}function n(e,t){var n,r,s,o,l;for(e=y?a(e):e,t=y?a(t):t,n=f(e),n.length>16&&(n=i(n,8*e.length)),r=Array(16),s=Array(16),l=0;l<16;l+=1)r[l]=909522486^n[l],s[l]=1549556828^n[l];return o=i(r.concat(f(t)),512+8*t.length),d(i(s.concat(o),640))}function i(e,t){var n,i,r,a,l,u=1732584193,d=-271733879,f=-1732584194,p=271733878;for(e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t,n=0;n<e.length;n+=16)i=u,r=d,a=f,l=p,u=s(u,d,f,p,e[n+0],7,-680876936),p=s(p,u,d,f,e[n+1],12,-389564586),f=s(f,p,u,d,e[n+2],17,606105819),d=s(d,f,p,u,e[n+3],22,-1044525330),u=s(u,d,f,p,e[n+4],7,-176418897),p=s(p,u,d,f,e[n+5],12,1200080426),f=s(f,p,u,d,e[n+6],17,-1473231341),d=s(d,f,p,u,e[n+7],22,-45705983),u=s(u,d,f,p,e[n+8],7,1770035416),p=s(p,u,d,f,e[n+9],12,-1958414417),f=s(f,p,u,d,e[n+10],17,-42063),d=s(d,f,p,u,e[n+11],22,-1990404162),u=s(u,d,f,p,e[n+12],7,1804603682),p=s(p,u,d,f,e[n+13],12,-40341101),f=s(f,p,u,d,e[n+14],17,-1502002290),d=s(d,f,p,u,e[n+15],22,1236535329),u=c(u,d,f,p,e[n+1],5,-165796510),p=c(p,u,d,f,e[n+6],9,-1069501632),f=c(f,p,u,d,e[n+11],14,643717713),d=c(d,f,p,u,e[n+0],20,-373897302),u=c(u,d,f,p,e[n+5],5,-701558691),p=c(p,u,d,f,e[n+10],9,38016083),f=c(f,p,u,d,e[n+15],14,-660478335),d=c(d,f,p,u,e[n+4],20,-405537848),u=c(u,d,f,p,e[n+9],5,568446438),p=c(p,u,d,f,e[n+14],9,-1019803690),f=c(f,p,u,d,e[n+3],14,-187363961),d=c(d,f,p,u,e[n+8],20,1163531501),u=c(u,d,f,p,e[n+13],5,-1444681467),p=c(p,u,d,f,e[n+2],9,-51403784),f=c(f,p,u,d,e[n+7],14,1735328473),d=c(d,f,p,u,e[n+12],20,-1926607734),u=h(u,d,f,p,e[n+5],4,-378558),p=h(p,u,d,f,e[n+8],11,-2022574463),f=h(f,p,u,d,e[n+11],16,1839030562),d=h(d,f,p,u,e[n+14],23,-35309556),u=h(u,d,f,p,e[n+1],4,-1530992060),p=h(p,u,d,f,e[n+4],11,1272893353),f=h(f,p,u,d,e[n+7],16,-155497632),d=h(d,f,p,u,e[n+10],23,-1094730640),u=h(u,d,f,p,e[n+13],4,681279174),p=h(p,u,d,f,e[n+0],11,-358537222),f=h(f,p,u,d,e[n+3],16,-722521979),d=h(d,f,p,u,e[n+6],23,76029189),u=h(u,d,f,p,e[n+9],4,-640364487),p=h(p,u,d,f,e[n+12],11,-421815835),f=h(f,p,u,d,e[n+15],16,530742520),d=h(d,f,p,u,e[n+2],23,-995338651),u=m(u,d,f,p,e[n+0],6,-198630844),p=m(p,u,d,f,e[n+7],10,1126891415),f=m(f,p,u,d,e[n+14],15,-1416354905),d=m(d,f,p,u,e[n+5],21,-57434055),u=m(u,d,f,p,e[n+12],6,1700485571),p=m(p,u,d,f,e[n+3],10,-1894986606),f=m(f,p,u,d,e[n+10],15,-1051523),d=m(d,f,p,u,e[n+1],21,-2054922799),u=m(u,d,f,p,e[n+8],6,1873313359),p=m(p,u,d,f,e[n+15],10,-30611744),f=m(f,p,u,d,e[n+6],15,-1560198380),d=m(d,f,p,u,e[n+13],21,1309151649),u=m(u,d,f,p,e[n+4],6,-145523070),p=m(p,u,d,f,e[n+11],10,-1120210379),f=m(f,p,u,d,e[n+2],15,718787259),d=m(d,f,p,u,e[n+9],21,-343485551),u=o(u,i),d=o(d,r),f=o(f,a),p=o(p,l);return Array(u,d,f,p)}function r(e,t,n,i,r,a){return o(l(o(o(t,e),o(i,a)),r),n)}function s(e,t,n,i,a,s,o){return r(t&n|~t&i,e,t,a,s,o)}function c(e,t,n,i,a,s,o){return r(t&i|n&~i,e,t,a,s,o)}function h(e,t,n,i,a,s,o){return r(t^n^i,e,t,a,s,o)}function m(e,t,n,i,a,s,o){return r(n^(t|~i),e,t,a,s,o)}var v=!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase,_=e&&"string"==typeof e.pad?e.pad:"=",y=!e||"boolean"!=typeof e.utf8||e.utf8;this.hex=function(e){return u(t(e),v)},this.b64=function(e){return g(t(e),_)},this.any=function(e,n){return p(t(e),n)},this.raw=function(e){return t(e)},this.hex_hmac=function(e,t){return u(n(e,t),v)},this.b64_hmac=function(e,t){return g(n(e,t),_)},this.any_hmac=function(e,t,i){return p(n(e,t),i)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(v=e),this},this.setPad=function(e){return _=e||_,this},this.setUTF8=function(e){return"boolean"==typeof e&&(y=e),this}},SHA1:function(e){function t(e){return e=m?a(e):e,c(i(h(e),8*e.length))}function n(e,t){var n,r,s,o,l;for(e=m?a(e):e,t=m?a(t):t,n=h(e),n.length>16&&(n=i(n,8*e.length)),r=Array(16),s=Array(16),o=0;o<16;o+=1)r[o]=909522486^n[o],s[o]=1549556828^n[o];return l=i(r.concat(h(t)),512+8*t.length),c(i(s.concat(l),672))}function i(e,t){var n,i,a,u,c,d,f,h,p=Array(80),g=1732584193,m=-271733879,v=-1732584194,_=271733878,y=-1009589776;for(e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t,n=0;n<e.length;n+=16){for(u=g,c=m,d=v,f=_,h=y,i=0;i<80;i+=1)p[i]=i<16?e[n+i]:l(p[i-3]^p[i-8]^p[i-14]^p[i-16],1),a=o(o(l(g,5),r(i,m,v,_)),o(o(y,p[i]),s(i))),y=_,_=v,v=l(m,30),m=g,g=a;g=o(g,u),m=o(m,c),v=o(v,d),_=o(_,f),y=o(y,h)}return Array(g,m,v,_,y)}function r(e,t,n,i){return e<20?t&n|~t&i:e<40?t^n^i:e<60?t&n|t&i|n&i:t^n^i}function s(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}var d=!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase,f=e&&"string"==typeof e.pad?e.pad:"=",m=!e||"boolean"!=typeof e.utf8||e.utf8;this.hex=function(e){return u(t(e),d)},this.b64=function(e){return g(t(e),f)},this.any=function(e,n){return p(t(e),n)},this.raw=function(e){return t(e)},this.hex_hmac=function(e,t){return u(n(e,t))},this.b64_hmac=function(e,t){return g(n(e,t),f)},this.any_hmac=function(e,t,i){return p(n(e,t),i)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(d=e),this},this.setPad=function(e){return f=e||f,this},this.setUTF8=function(e){return"boolean"==typeof e&&(m=e),this}},SHA256:function(e){function t(e,t){return e=t?a(e):e,c(_(h(e),8*e.length))}function n(e,t){e=A?a(e):e,t=A?a(t):t;var n,i=0,r=h(e),s=Array(16),o=Array(16);for(r.length>16&&(r=_(r,8*e.length));i<16;i+=1)s[i]=909522486^r[i],o[i]=1549556828^r[i];return n=_(s.concat(h(t)),512+8*t.length),c(_(o.concat(n),768))}function i(e,t){return e>>>t|e<<32-t}function r(e,t){return e>>>t}function s(e,t,n){return e&t^~e&n}function l(e,t,n){return e&t^e&n^t&n}function d(e){return i(e,2)^i(e,13)^i(e,22)}function f(e){return i(e,6)^i(e,11)^i(e,25)}function m(e){return i(e,7)^i(e,18)^r(e,3)}function v(e){return i(e,17)^i(e,19)^r(e,10)}function _(e,t){var n,i,r,a,u,c,h,p,g,_,b,w,A=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],x=new Array(64);for(e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t,g=0;g<e.length;g+=16){for(n=A[0],i=A[1],r=A[2],a=A[3],u=A[4],c=A[5],h=A[6],p=A[7],_=0;_<64;_+=1)x[_]=_<16?e[_+g]:o(o(o(v(x[_-2]),x[_-7]),m(x[_-15])),x[_-16]),b=o(o(o(o(p,f(u)),s(u,c,h)),y[_]),x[_]),w=o(d(n),l(n,i,r)),p=h,h=c,c=u,u=o(a,b),a=r,r=i,i=n,n=o(b,w);A[0]=o(n,A[0]),A[1]=o(i,A[1]),A[2]=o(r,A[2]),A[3]=o(a,A[3]),A[4]=o(u,A[4]),A[5]=o(c,A[5]),A[6]=o(h,A[6]),A[7]=o(p,A[7])}return A}var y,b=!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase,w=e&&"string"==typeof e.pad?e.pad:"=",A=!e||"boolean"!=typeof e.utf8||e.utf8;this.hex=function(e){return u(t(e,A))},this.b64=function(e){return g(t(e,A),w)},this.any=function(e,n){return p(t(e,A),n)},this.raw=function(e){return t(e,A)},this.hex_hmac=function(e,t){return u(n(e,t))},this.b64_hmac=function(e,t){return g(n(e,t),w)},this.any_hmac=function(e,t,i){return p(n(e,t),i)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(b=e),this},this.setPad=function(e){return w=e||w,this},this.setUTF8=function(e){return"boolean"==typeof e&&(A=e),this},y=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998]},SHA512:function(e){function t(e){return e=w?a(e):e,c(i(h(e),8*e.length))}function n(e,t){e=w?a(e):e,t=w?a(t):t;var n,r=0,s=h(e),o=Array(32),l=Array(32);for(s.length>32&&(s=i(s,8*e.length));r<32;r+=1)o[r]=909522486^s[r],l[r]=1549556828^s[r];return n=i(o.concat(h(t)),1024+8*t.length),c(i(l.concat(n),1536))}function i(e,t){var n,i,a,u=new Array(80),c=new Array(16),h=[new r(1779033703,-205731576),new r(-1150833019,-2067093701),new r(1013904242,-23791573),new r(-1521486534,1595750129),new r(1359893119,-1377402159),new r(-1694144372,725511199),new r(528734635,-79577749),new r(1541459225,327033209)],p=new r(0,0),g=new r(0,0),y=new r(0,0),b=new r(0,0),w=new r(0,0),A=new r(0,0),x=new r(0,0),E=new r(0,0),C=new r(0,0),P=new r(0,0),S=new r(0,0),D=new r(0,0),j=new r(0,0),T=new r(0,0),k=new r(0,0),I=new r(0,0),R=new r(0,0);for(void 0===_&&(_=[new r(1116352408,-685199838),new r(1899447441,602891725),new r(-1245643825,-330482897),new r(-373957723,-2121671748),new r(961987163,-213338824),new r(1508970993,-1241133031),new r(-1841331548,-1357295717),new r(-1424204075,-630357736),new r(-670586216,-1560083902),new r(310598401,1164996542),new r(607225278,1323610764),new r(1426881987,-704662302),new r(1925078388,-226784913),new r(-2132889090,991336113),new r(-1680079193,633803317),new r(-1046744716,-815192428),new r(-459576895,-1628353838),new r(-272742522,944711139),new r(264347078,-1953704523),new r(604807628,2007800933),new r(770255983,1495990901),new r(1249150122,1856431235),new r(1555081692,-1119749164),new r(1996064986,-2096016459),new r(-1740746414,-295247957),new r(-1473132947,766784016),new r(-1341970488,-1728372417),new r(-1084653625,-1091629340),new r(-958395405,1034457026),new r(-710438585,-1828018395),new r(113926993,-536640913),new r(338241895,168717936),new r(666307205,1188179964),new r(773529912,1546045734),new r(1294757372,1522805485),new r(1396182291,-1651133473),new r(1695183700,-1951439906),new r(1986661051,1014477480),new r(-2117940946,1206759142),new r(-1838011259,344077627),new r(-1564481375,1290863460),new r(-1474664885,-1136513023),new r(-1035236496,-789014639),new r(-949202525,106217008),new r(-778901479,-688958952),new r(-694614492,1432725776),new r(-200395387,1467031594),new r(275423344,851169720),new r(430227734,-1194143544),new r(506948616,1363258195),new r(659060556,-544281703),new r(883997877,-509917016),new r(958139571,-976659869),new r(1322822218,-482243893),new r(1537002063,2003034995),new r(1747873779,-692930397),new r(1955562222,1575990012),new r(2024104815,1125592928),new r(-2067236844,-1578062990),new r(-1933114872,442776044),new r(-1866530822,593698344),new r(-1538233109,-561857047),new r(-1090935817,-1295615723),new r(-965641998,-479046869),new r(-903397682,-366583396),new r(-779700025,566280711),new r(-354779690,-840897762),new r(-176337025,-294727304),new r(116418474,1914138554),new r(174292421,-1563912026),new r(289380356,-1090974290),new r(460393269,320620315),new r(685471733,587496836),new r(852142971,1086792851),new r(1017036298,365543100),new r(1126000580,-1676669620),new r(1288033470,-885112138),new r(1501505948,-60457430),new r(1607167915,987167468),new r(1816402316,1246189591)]),i=0;i<80;i+=1)u[i]=new r(0,0);for(e[t>>5]|=128<<24-(31&t),e[31+(t+128>>10<<5)]=t,a=e.length,i=0;i<a;i+=32){for(s(y,h[0]),s(b,h[1]),s(w,h[2]),s(A,h[3]),s(x,h[4]),s(E,h[5]),s(C,h[6]),s(P,h[7]),n=0;n<16;n+=1)u[n].h=e[i+2*n],u[n].l=e[i+2*n+1];for(n=16;n<80;n+=1)o(k,u[n-2],19),l(I,u[n-2],29),d(R,u[n-2],6),D.l=k.l^I.l^R.l,D.h=k.h^I.h^R.h,o(k,u[n-15],1),o(I,u[n-15],8),d(R,u[n-15],7),S.l=k.l^I.l^R.l,S.h=k.h^I.h^R.h,m(u[n],D,u[n-7],S,u[n-16]);for(n=0;n<80;n+=1)j.l=x.l&E.l^~x.l&C.l,j.h=x.h&E.h^~x.h&C.h,o(k,x,14),o(I,x,18),l(R,x,9),D.l=k.l^I.l^R.l,D.h=k.h^I.h^R.h,o(k,y,28),l(I,y,2),l(R,y,7),S.l=k.l^I.l^R.l,S.h=k.h^I.h^R.h,T.l=y.l&b.l^y.l&w.l^b.l&w.l,T.h=y.h&b.h^y.h&w.h^b.h&w.h,v(p,P,D,j,_[n],u[n]),f(g,S,T),s(P,C),s(C,E),s(E,x),f(x,A,p),s(A,w),s(w,b),s(b,y),f(y,p,g);f(h[0],h[0],y),f(h[1],h[1],b),f(h[2],h[2],w),f(h[3],h[3],A),f(h[4],h[4],x),f(h[5],h[5],E),f(h[6],h[6],C),f(h[7],h[7],P)}for(i=0;i<8;i+=1)c[2*i]=h[i].h,c[2*i+1]=h[i].l;return c}function r(e,t){this.h=e,this.l=t}function s(e,t){e.h=t.h,e.l=t.l}function o(e,t,n){e.l=t.l>>>n|t.h<<32-n,e.h=t.h>>>n|t.l<<32-n}function l(e,t,n){e.l=t.h>>>n|t.l<<32-n,e.h=t.l>>>n|t.h<<32-n}function d(e,t,n){e.l=t.l>>>n|t.h<<32-n,e.h=t.h>>>n}function f(e,t,n){var i=(65535&t.l)+(65535&n.l),r=(t.l>>>16)+(n.l>>>16)+(i>>>16),a=(65535&t.h)+(65535&n.h)+(r>>>16),s=(t.h>>>16)+(n.h>>>16)+(a>>>16);e.l=65535&i|r<<16,e.h=65535&a|s<<16}function m(e,t,n,i,r){var a=(65535&t.l)+(65535&n.l)+(65535&i.l)+(65535&r.l),s=(t.l>>>16)+(n.l>>>16)+(i.l>>>16)+(r.l>>>16)+(a>>>16),o=(65535&t.h)+(65535&n.h)+(65535&i.h)+(65535&r.h)+(s>>>16),l=(t.h>>>16)+(n.h>>>16)+(i.h>>>16)+(r.h>>>16)+(o>>>16);e.l=65535&a|s<<16,e.h=65535&o|l<<16}function v(e,t,n,i,r,a){var s=(65535&t.l)+(65535&n.l)+(65535&i.l)+(65535&r.l)+(65535&a.l),o=(t.l>>>16)+(n.l>>>16)+(i.l>>>16)+(r.l>>>16)+(a.l>>>16)+(s>>>16),l=(65535&t.h)+(65535&n.h)+(65535&i.h)+(65535&r.h)+(65535&a.h)+(o>>>16),u=(t.h>>>16)+(n.h>>>16)+(i.h>>>16)+(r.h>>>16)+(a.h>>>16)+(l>>>16);e.l=65535&s|o<<16,e.h=65535&l|u<<16}var _,y=!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase,b=e&&"string"==typeof e.pad?e.pad:"=",w=!e||"boolean"!=typeof e.utf8||e.utf8;this.hex=function(e){return u(t(e))},this.b64=function(e){return g(t(e),b)},this.any=function(e,n){return p(t(e),n)},this.raw=function(e){return t(e)},this.hex_hmac=function(e,t){return u(n(e,t))},this.b64_hmac=function(e,t){return g(n(e,t),b)},this.any_hmac=function(e,t,i){return p(n(e,t),i)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(y=e),this},this.setPad=function(e){return b=e||b,this},this.setUTF8=function(e){return"boolean"==typeof e&&(w=e),this}},RMD160:function(e){function t(e){return e=v?a(e):e,i(r(f(e),8*e.length))}function n(e,t){e=v?a(e):e,t=v?a(t):t;var n,s,o=f(e),l=Array(16),u=Array(16);for(o.length>16&&(o=r(o,8*e.length)),n=0;n<16;n+=1)l[n]=909522486^o[n],u[n]=1549556828^o[n];return s=r(l.concat(f(t)),512+8*t.length),i(r(u.concat(s),672))}function i(e){var t,n="",i=32*e.length;for(t=0;t<i;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function r(e,t){var n,i,r,a,u,f,h,p,g,m,v,A,x,E,C=1732584193,P=4023233417,S=2562383102,D=271733878,j=3285377520;for(e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t,a=e.length,r=0;r<a;r+=16){for(u=m=C,f=v=P,h=A=S,p=x=D,g=E=j,i=0;i<=79;i+=1)n=o(u,s(i,f,h,p)),n=o(n,e[r+_[i]]),n=o(n,c(i)),n=o(l(n,b[i]),g),u=g,g=p,p=l(h,10),h=f,f=n,n=o(m,s(79-i,v,A,x)),n=o(n,e[r+y[i]]),n=o(n,d(i)),n=o(l(n,w[i]),E),m=E,E=x,x=l(A,10),A=v,v=n;n=o(P,o(h,x)),P=o(S,o(p,E)),S=o(D,o(g,m)),D=o(j,o(u,v)),j=o(C,o(f,A)),C=n}return[C,P,S,D,j]}function s(e,t,n,i){return 0<=e&&e<=15?t^n^i:16<=e&&e<=31?t&n|~t&i:32<=e&&e<=47?(t|~n)^i:48<=e&&e<=63?t&i|n&~i:64<=e&&e<=79?t^(n|~i):"rmd160_f: j out of range"}function c(e){return 0<=e&&e<=15?0:16<=e&&e<=31?1518500249:32<=e&&e<=47?1859775393:48<=e&&e<=63?2400959708:64<=e&&e<=79?2840853838:"rmd160_K1: j out of range"}function d(e){return 0<=e&&e<=15?1352829926:16<=e&&e<=31?1548603684:32<=e&&e<=47?1836072691:48<=e&&e<=63?2053994217:64<=e&&e<=79?0:"rmd160_K2: j out of range"}var h=!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase,m=e&&"string"==typeof e.pad?e.pa:"=",v=!e||"boolean"!=typeof e.utf8||e.utf8,_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];this.hex=function(e){return u(t(e))},this.b64=function(e){return g(t(e),m)},this.any=function(e,n){return p(t(e),n)},this.raw=function(e){return t(e)},this.hex_hmac=function(e,t){return u(n(e,t))},this.b64_hmac=function(e,t){return g(n(e,t),m)},this.any_hmac=function(e,t,i){return p(n(e,t),i)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(h=e),this},this.setPad=function(e){return void 0!==e&&(m=e),this},this.setUTF8=function(e){return"boolean"==typeof e&&(v=e),this}}},function(a,s){t,t&&"object"==typeof i&&i&&i.global,void 0!==(r=function(){return m}.call(t,n,t,e))&&(e.exports=r)}()}()}).call(t,n(86))},173:function(e,t,n){n(0),n(0);!function(){var e={version:"0.9.0",name:"PluginDetect",addPlugin:function(t,n){t&&e.isString(t)&&n&&e.isFunc(n.getVersion)&&(t=t.replace(/\s/g,"").toLowerCase(),e.Plugins[t]=n,e.isDefined(n.getVersionDone)||(n.installed=null,n.version=null,n.version0=null,n.getVersionDone=null,n.pluginName=t))},uniqueName:function(){return e.name+"998"},openTag:"<",hasOwnPROP:{}.constructor.prototype.hasOwnProperty,hasOwn:function(t,n){var i;try{i=e.hasOwnPROP.call(t,n)}catch(e){}return!!i},rgx:{str:/string/i,num:/number/i,fun:/function/i,arr:/array/i},toString:{}.constructor.prototype.toString,isDefined:function(e){return void 0!==e},isArray:function(t){return e.rgx.arr.test(e.toString.call(t))},isString:function(t){return e.rgx.str.test(e.toString.call(t))},isNum:function(t){return e.rgx.num.test(e.toString.call(t))},isStrNum:function(t){return e.isString(t)&&/\d/.test(t)},isFunc:function(t){return e.rgx.fun.test(e.toString.call(t))},getNumRegx:/[\d][\d\.\_,\-]*/,splitNumRegx:/[\.\_,\-]/g,getNum:function(t,n){var i=e.isStrNum(t)?(e.isDefined(n)?new RegExp(n):e.getNumRegx).exec(t):null;return i?i[0]:null},compareNums:function(t,n,i){var r,a,s,o=parseInt;if(e.isStrNum(t)&&e.isStrNum(n)){if(e.isDefined(i)&&i.compareNums)return i.compareNums(t,n);for(r=t.split(e.splitNumRegx),a=n.split(e.splitNumRegx),s=0;s<Math.min(r.length,a.length);s++){if(o(r[s],10)>o(a[s],10))return 1;if(o(r[s],10)<o(a[s],10))return-1}}return 0},formatNum:function(t,n){var i,r;if(!e.isStrNum(t))return null;for(e.isNum(n)||(n=4),n--,r=t.replace(/\s/g,"").split(e.splitNumRegx).concat(["0","0","0","0"]),i=0;i<4;i++)/^(0+)(.+)$/.test(r[i])&&(r[i]=RegExp.$2),(i>n||!/\d/.test(r[i]))&&(r[i]="0");return r.slice(0,4).join(",")},pd:{getPROP:function(e,t,n){try{e&&(n=e[t])}catch(e){}return n},findNavPlugin:function(t){if(t.dbug)return t.dbug;var n=null;if(window.navigator){var i,r,a,s,o,l,u={Find:e.isString(t.find)?new RegExp(t.find,"i"):t.find,Find2:e.isString(t.find2)?new RegExp(t.find2,"i"):t.find2,Avoid:t.avoid?e.isString(t.avoid)?new RegExp(t.avoid,"i"):t.avoid:0,Num:t.num?/\d/:0},c=navigator.mimeTypes,d=navigator.plugins;if(t.mimes&&c)for(s=e.isArray(t.mimes)?[].concat(t.mimes):e.isString(t.mimes)?[t.mimes]:[],i=0;i<s.length;i++){r=0;try{e.isString(s[i])&&/[^\s]/.test(s[i])&&(r=c[s[i]].enabledPlugin)}catch(e){}if(r&&(a=this.findNavPlugin_(r,u),a.obj&&(n=a.obj),n&&!e.dbug))return n}if(t.plugins&&d){for(o=e.isArray(t.plugins)?[].concat(t.plugins):e.isString(t.plugins)?[t.plugins]:[],i=0;i<o.length;i++){r=0;try{o[i]&&e.isString(o[i])&&(r=d[o[i]])}catch(e){}if(r&&(a=this.findNavPlugin_(r,u),a.obj&&(n=a.obj),n&&!e.dbug))return n}if(l=d.length,e.isNum(l))for(i=0;i<l;i++){r=0;try{r=d[i]}catch(e){}if(r&&(a=this.findNavPlugin_(r,u),a.obj&&(n=a.obj),n&&!e.dbug))return n}}}return n},findNavPlugin_:function(e,t){var n=e.description||"",i=e.name||"",r={};return(!t.Find.test(n)||t.Find2&&!t.Find2.test(i)||t.Num&&!t.Num.test(RegExp.leftContext+RegExp.rightContext))&&(!t.Find.test(i)||t.Find2&&!t.Find2.test(n)||t.Num&&!t.Num.test(RegExp.leftContext+RegExp.rightContext))||t.Avoid&&(t.Avoid.test(n)||t.Avoid.test(i))||(r.obj=e),r},getVersionDelimiter:",",findPlugin:function(t){var n,i={status:-3,plugin:0};return e.isString(t)?1==t.length?(this.getVersionDelimiter=t,i):(t=t.toLowerCase().replace(/\s/g,""),(n=e.Plugins[t])&&n.getVersion?(i.plugin=n,i.status=1,i):i):i}},getPluginFileVersion:function(t,n){var i,r,a,s,o=-1;if(!t)return n;if(t.version&&(i=e.getNum(t.version+"")),!i||!n)return n||i||null;for(r=e.formatNum(n).split(e.splitNumRegx),a=e.formatNum(i).split(e.splitNumRegx),s=0;s<r.length;s++){if(o>-1&&s>o&&"0"!=r[s])return n;if(a[s]!=r[s]&&(-1==o&&(o=s),"0"!=r[s]))return n}return i},AXO:function(){var e;try{e=new window.ActiveXObject}catch(e){}return e?null:window.ActiveXObject}(),getAXO:function(t){var n=null;try{n=new e.AXO(t)}catch(t){e.errObj=t}return n&&(e.browser.ActiveXEnabled=!0),n},browser:{detectPlatform:function(){var t,n=window.navigator?navigator.platform||"":"";if(e.OS=100,n){var i=["Win",1,"Mac",2,"Linux",3,"FreeBSD",4,"iPhone",21.1,"iPod",21.2,"iPad",21.3,"Win.*CE",22.1,"Win.*Mobile",22.2,"Pocket\\s*PC",22.3,"",100];for(t=i.length-2;t>=0;t-=2)if(i[t]&&new RegExp(i[t],"i").test(n)){e.OS=i[t+1];break}}},detectIE:function(){var t,n,i,r,a,s=this,o=document,l=window.navigator?navigator.userAgent||"":"";s.ActiveXFilteringEnabled=!1,s.ActiveXEnabled=!1;try{s.ActiveXFilteringEnabled=!!window.external.msActiveXFilteringEnabled()}catch(e){}for(r=["Msxml2.XMLHTTP","Msxml2.DOMDocument","Microsoft.XMLDOM","TDCCtl.TDCCtl","Shell.UIHelper","HtmlDlgSafeHelper.HtmlDlgSafeHelper","Scripting.Dictionary"],a=["WMPlayer.OCX","ShockwaveFlash.ShockwaveFlash","AgControl.AgControl"],i=r.concat(a),t=0;t<i.length&&(!e.getAXO(i[t])||e.dbug);t++);if(s.ActiveXEnabled&&s.ActiveXFilteringEnabled)for(t=0;t<a.length;t++)if(e.getAXO(a[t])){s.ActiveXFilteringEnabled=!1;break}n=o.documentMode;try{o.documentMode=""}catch(e){}s.isIE=s.ActiveXEnabled,s.isIE=s.isIE||e.isNum(o.documentMode)||new Function("return/*@cc_on!@*/!1")();try{o.documentMode=n}catch(e){}s.verIE=null,s.isIE&&(s.verIE=(e.isNum(o.documentMode)&&o.documentMode>=7?o.documentMode:0)||(/^(?:.*?[^a-zA-Z])??(?:MSIE|rv\s*\:)\s*(\d+\.?\d*)/i.test(l)?parseFloat(RegExp.$1,10):7)),s.betterIE()},betterIE:function(){var t=this,n=document;if(t.verIEtrue=null,t.docModeIE=null,t.isIE){var i,r,a=n.createElement("div"),s=["{45EA75A0-A269-11D1-B5BF-0000F8051515}","{3AF36230-A269-11D1-B5BF-0000F8051515}","{89820200-ECBD-11CF-8B85-00AA005B4383}"];try{a.style.behavior="url(#default#clientcaps)"}catch(e){}for(r=0;r<s.length;r++){try{t.verIEtrue=a.getComponentVersion(s[r],"componentid").replace(/,/g,".")}catch(e){}if(t.verIEtrue&&!e.dbug)break}i=parseFloat(t.verIEtrue||"0",10),t.docModeIE=n.documentMode||(/back/i.test(n.compatMode||"")?5:i)||t.verIE,t.verIE=i||t.docModeIE}},detectNonIE:function(){var t=this,n=window.navigator?navigator:{},i=t.isIE?"":n.userAgent||"",r=n.vendor||"",a=n.product||"";t.isGecko=/Gecko/i.test(a)&&/Gecko\s*\/\s*\d/i.test(i),t.verGecko=t.isGecko?e.formatNum(/rv\s*\:\s*([\.\,\d]+)/i.test(i)?RegExp.$1:"0.9"):null,t.isOpera=/(OPR\s*\/|Opera\s*\/\s*\d.*\s*Version\s*\/|Opera\s*[\/]?)\s*(\d+[\.,\d]*)/i.test(i),t.verOpera=t.isOpera?e.formatNum(RegExp.$2):null,t.isChrome=!t.isOpera&&/(Chrome|CriOS)\s*\/\s*(\d[\d\.]*)/i.test(i),t.verChrome=t.isChrome?e.formatNum(RegExp.$2):null,t.isSafari=!t.isOpera&&!t.isChrome&&(/Apple/i.test(r)||!r)&&/Safari\s*\/\s*(\d[\d\.]*)/i.test(i),t.verSafari=t.isSafari&&/Version\s*\/\s*(\d[\d\.]*)/i.test(i)?e.formatNum(RegExp.$1):null},init:function(){var e=this;e.detectPlatform(),e.detectIE(),e.detectNonIE()}},init:{hasRun:0,library:function(){window[e.name]=e;var t=this,n=document;e.win.init(),e.head=n.getElementsByTagName("head")[0]||n.getElementsByTagName("body")[0]||n.body||null,e.browser.init(),t.hasRun=1}},ev:{addEvent:function(e,t,n){e&&t&&n&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=this.concatFn(n,e["on"+t]))},removeEvent:function(e,t,n){e&&t&&n&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n))},concatFn:function(e,t){return function(){e(),"function"==typeof t&&t()}},handler:function(e,t,n,i,r){return function(){e(t,n,i,r)}},handlerOnce:function(t,n,i,r){return function(){var a=e.uniqueName();t[a]||(t[a]=1,t(n,i,r))}},handlerWait:function(e,t,n,i,r){var a=this;return function(){a.setTimeout(a.handler(t,n,i,r),e)}},setTimeout:function(t,n){e.win&&e.win.unload||setTimeout(t,n)},fPush:function(t,n){e.isArray(n)&&(e.isFunc(t)||e.isArray(t)&&t.length>0&&e.isFunc(t[0]))&&n.push(t)},call0:function(t){var n=e.isArray(t)?t.length:-1;n>0&&e.isFunc(t[0])?t[0](e,n>1?t[1]:0,n>2?t[2]:0,n>3?t[3]:0):e.isFunc(t)&&t(e)},callArray0:function(t){var n,i=this;if(e.isArray(t))for(;t.length;)n=t[0],t.splice(0,1),e.win&&e.win.unload&&t!==e.win.unloadHndlrs||i.call0(n)},call:function(e){var t=this;t.call0(e),t.ifDetectDoneCallHndlrs()},callArray:function(e){var t=this;t.callArray0(e),t.ifDetectDoneCallHndlrs()},allDoneHndlrs:[],ifDetectDoneCallHndlrs:function(){var t,n,i=this;if(i.allDoneHndlrs.length&&(!e.win||e.win.loaded&&!e.win.loadPrvtHndlrs.length&&!e.win.loadPblcHndlrs.length)){if(e.Plugins)for(t in e.Plugins)if(e.hasOwn(e.Plugins,t)&&(n=e.Plugins[t])&&e.isFunc(n.getVersion)&&(3==n.OTF||n.DoneHndlrs&&n.DoneHndlrs.length||n.BIHndlrs&&n.BIHndlrs.length))return;i.callArray0(i.allDoneHndlrs)}}},getVersion:function(t,n,i){var r,a,s=e.pd.findPlugin(t);return s.status<0?null:(r=s.plugin,1!=r.getVersionDone&&(r.getVersion(null,n,i),null===r.getVersionDone&&(r.getVersionDone=1)),a=r.version||r.version0,a=a?a.replace(e.splitNumRegx,e.pd.getVersionDelimiter):a)},hasMimeType:function(t){if(t&&window.navigator&&navigator.mimeTypes){var n,i,r,a,s=navigator.mimeTypes,o=e.isArray(t)?[].concat(t):e.isString(t)?[t]:[];for(a=o.length,r=0;r<a;r++){n=0;try{e.isString(o[r])&&/[^\s]/.test(o[r])&&(n=s[o[r]])}catch(e){}if((i=n?n.enabledPlugin:0)&&(i.name||i.description))return n}}return null},getInfo:function(t,n,i){var r,a=null,s=e.pd.findPlugin(t);return s.status<0?a:(r=s.plugin,e.isFunc(r.getInfo)&&(null===r.getVersionDone&&(e.getVersion?e.getVersion(t,n,i):e.isMinVersion(t,"0",n,i)),a=r.getInfo()),a)},onDetectionDone:function(t,n,i,r){var a,s=e.pd.findPlugin(t);return-3==s.status?-1:(a=s.plugin,e.isArray(a.DoneHndlrs)||(a.DoneHndlrs=[]),1!=a.getVersionDone&&(e.getVersion?e.getVersion(t,i,r):e.isMinVersion(t,"0",i,r)),-.5!=a.installed&&.5!=a.installed?(e.ev.call(n),1):(e.ev.fPush(n,a.DoneHndlrs),0))},codebase:{isDisabled:function(){return e.browser.ActiveXEnabled&&e.isDefined(e.pd.getPROP(document.createElement("object"),"object"))?0:1},isMin:function(e,t){return 0},search:function(t){var n,i=this,r=(t.$$,0);if(n=t.searchHasRun||i.isDisabled()?1:0,t.searchHasRun=1,n)return t.version||null;i.init(t);var a,s,o,l,u,c=t.DIGITMAX,d=99999999,f=[0,0,0,0],h=[0,0,0,0],p=function(e,n){var a,s=[].concat(f);return s[e]=n,a=i.isActiveXObject(t,s.join(",")),a?(r=1,f[e]=n):h[e]=n,a};for(a=0;a<h.length;a++){for(f[a]=Math.floor(t.DIGITMIN[a])||0,l=f.join(","),u=f.slice(0,a).concat([d,d,d,d]).slice(0,f.length).join(","),o=0;o<c.length;o++)e.isArray(c[o])&&(c[o].push(0),c[o][a]>h[a]&&e.compareNums(u,t.Lower[o])>=0&&e.compareNums(l,t.Upper[o])<0&&(h[a]=Math.floor(c[o][a])));for(s=0;s<30;s++){if(h[a]-f[a]<=16){for(o=h[a];o>=f[a]+(a?1:0)&&!p(a,o);o--);break}p(a,Math.round((h[a]+f[a])/2))}if(!r)break;h[a]=f[a]}return r&&(t.version=i.convert(t,f.join(",")).v),t.version||null},emptyNode:function(e){try{e.innerHTML=""}catch(e){}},HTML:[],len:0,onUnload:function(e,t){var n,i,r=t.HTML;for(n=0;n<r.length;n++)(i=r[n])&&(r[n]=0,t.emptyNode(i.span()),i.span=0,i.spanObj=0,i=0);t.iframe=0},init:function(t){var n=this;if(!n.iframe){var i,r=e.DOM;i=r.iframe.insert(0,"$.codebase{ }"),n.iframe=i,r.iframe.write(i," "),r.iframe.close(i)}if(!t.init){t.init=1;var a,s;for(e.ev.fPush([n.onUnload,n],e.win.unloadHndlrs),t.tagA='<object width="1" height="1" style="display:none;" codebase="#version=',s=t.classID||t.$$.classID||"",t.tagB='" '+(/clsid\s*:/i.test(s)?'classid="':'type="')+s+'">'+e.openTag+"/object>",a=0;a<t.Lower.length;a++)t.Lower[a]=e.formatNum(t.Lower[a]),t.Upper[a]=e.formatNum(t.Upper[a])}},isActiveXObject:function(t,n){var i=this,r=0,a=(t.$$,(e.DOM.iframe.doc(i.iframe)||document).createElement("span"));return t.min&&e.compareNums(n,t.min)<=0?1:t.max&&e.compareNums(n,t.max)>=0?0:(a.innerHTML=t.tagA+n+t.tagB,e.pd.getPROP(a.firstChild,"object")&&(r=1),r?(t.min=n,i.HTML.push({spanObj:a,span:i.span})):(t.max=n,a.innerHTML=""),r)},span:function(){return this.spanObj},convert_:function(t,n,i,r){var a=t.convert[n];return a?e.isFunc(a)?e.formatNum(a(i.split(e.splitNumRegx),r).join(",")):i:a},convert:function(t,n,i){var r,a,s,o=this;if(n=e.formatNum(n),a={v:n,x:-1},n)for(r=0;r<t.Lower.length;r++)if((s=o.convert_(t,r,t.Lower[r]))&&e.compareNums(n,i?s:t.Lower[r])>=0&&(!r||e.compareNums(n,i?o.convert_(t,r,t.Upper[r]):t.Upper[r])<0)){a.v=o.convert_(t,r,n,i),a.x=r;break}return a},z:0},win:{disable:function(){this.cancel=!0},cancel:!1,loaded:!1,unload:!1,hasRun:0,init:function(){var t=this;t.hasRun||(t.hasRun=1,/complete/i.test(document.readyState||"")?t.loaded=!0:e.ev.addEvent(window,"load",t.onLoad),e.ev.addEvent(window,"unload",t.onUnload))},loadPrvtHndlrs:[],loadPblcHndlrs:[],unloadHndlrs:[],onUnload:function(){var t=e.win;t.unload||(t.unload=!0,e.ev.removeEvent(window,"load",t.onLoad),e.ev.removeEvent(window,"unload",t.onUnload),e.ev.callArray(t.unloadHndlrs))},onLoad:function(){var t=e.win;t.loaded||t.unload||t.cancel||(t.loaded=!0,e.ev.callArray(t.loadPrvtHndlrs),e.ev.callArray(t.loadPblcHndlrs))}},DOM:{isEnabled:{objectTag:function(){var t=e.browser,n=t.isIE?0:1;return t.ActiveXEnabled&&(n=1),!!n},objectTagUsingActiveX:function(){var t=0;return e.browser.ActiveXEnabled&&(t=1),!!t},objectProperty:function(t){return t&&t.tagName&&e.browser.isIE?/applet/i.test(t.tagName)?!this.objectTag()||e.isDefined(e.pd.getPROP(document.createElement("object"),"object"))?1:0:e.isDefined(e.pd.getPROP(document.createElement(t.tagName),"object"))?1:0:0}},HTML:[],div:null,divID:"plugindetect",divWidth:500,getDiv:function(){return this.div||document.getElementById(this.divID)||null},initDiv:function(){var t,n=this;n.div||(t=n.getDiv(),t?n.div=t:(n.div=document.createElement("div"),n.div.id=n.divID,n.setStyle(n.div,n.getStyle.div()),n.insertDivInBody(n.div)),e.ev.fPush([n.onUnload,n],e.win.unloadHndlrs)),t=0},pluginSize:1,iframeWidth:40,iframeHeight:10,altHTML:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",emptyNode:function(t){var n=this;if(t&&/div|span/i.test(t.tagName||"")){e.browser.isIE&&n.setStyle(t,["display","none"]);try{t.innerHTML=""}catch(e){}}},removeNode:function(e){try{e&&e.parentNode&&e.parentNode.removeChild(e)}catch(e){}},onUnload:function(e,t){var n,i,r,a=t.HTML,s=a.length;if(s)for(i=s-1;i>=0;i--)(r=a[i])&&(a[i]=0,t.emptyNode(r.span()),t.removeNode(r.span()),r.span=0,r.spanObj=0,r.doc=0,r.objectProperty=0);n=t.getDiv(),t.emptyNode(n),t.removeNode(n),r=0,n=0,t.div=0},span:function(){var e=this;return e.spanObj||(e.spanObj=e.doc.getElementById(e.spanId)),e.spanObj||null},width:function(){var t,n,i=this,r=i.span();return t=r&&e.isNum(r.scrollWidth)?r.scrollWidth:-1,n=r&&e.isNum(r.offsetWidth)?r.offsetWidth:-1,r=0,n>0?n:t>0?t:Math.max(n,t)},obj:function(){var e=this.span();return e?e.firstChild||null:null},readyState:function(){var t=this;return e.browser.isIE&&e.isDefined(e.pd.getPROP(t.span(),"readyState"))?e.pd.getPROP(t.obj(),"readyState"):e.UNDEFINED},objectProperty:function(){var t,n=this,i=n.DOM;return i.isEnabled.objectProperty(n)&&(t=e.pd.getPROP(n.obj(),"object")),t},onLoadHdlr:function(e,t){t.loaded=1},getTagStatus:function(t,n,i,r,a,s,o){var l=this;if(!t||!t.span())return-2;var u=t.width(),c=t.obj()?1:0,d=t.readyState(),f=t.objectProperty();if(f)return 1.5;var h=/clsid\s*\:/i,p=i&&h.test(i.outerHTML||"")?i:r&&h.test(r.outerHTML||"")?r:0,g=i&&!h.test(i.outerHTML||"")?i:r&&!h.test(r.outerHTML||"")?r:0,m=t&&h.test(t.outerHTML||"")?p:g;if(!(n&&n.span()&&m&&m.span()))return-2;var v=m.width(),_=n.width(),y=m.readyState();return u<0||v<0||_<=l.pluginSize?0:(o&&!t.pi&&e.isDefined(f)&&e.browser.isIE&&t.tagName==m.tagName&&t.time<=m.time&&u===v&&0===d&&0!==y&&(t.pi=1),v<_||!t.loaded||!n.loaded||!m.loaded?t.pi?-.1:0:u!=_&&c?u!=l.pluginSize||!c||e.isNum(d)&&4!==d?t.pi?-.5:-1:1:t.pi?-.5:-1)},setStyle:function(e,t){var n,i=e.style;if(i&&t)for(n=0;n<t.length;n+=2)try{i[t[n]]=t[n+1]}catch(e){}e=0,i=0},getStyle:{iframe:function(){return this.span()},span:function(t){var n=e.DOM;return t?this.plugin():[].concat(this.Default).concat(["display","inline","fontSize",n.pluginSize+3+"px","lineHeight",n.pluginSize+3+"px"])},div:function(){var t=e.DOM;return[].concat(this.Default).concat(["display","block","width",t.divWidth+"px","height",t.pluginSize+3+"px","fontSize",t.pluginSize+3+"px","lineHeight",t.pluginSize+3+"px","position","absolute","right","9999px","top","-9999px"])},plugin:function(t){var n=e.DOM;return"background-color:transparent;background-image:none;vertical-align:baseline;outline-style:none;border-style:none;padding:0px;margin:0px;visibility:"+(t?"hidden;":"visible;")+"display:inline;font-size:"+(n.pluginSize+3)+"px;line-height:"+(n.pluginSize+3)+"px;"},Default:["backgroundColor","transparent","backgroundImage","none","verticalAlign","baseline","outlineStyle","none","borderStyle","none","padding","0px","margin","0px","visibility","visible"]},insertDivInBody:function(t,n){var i="pd33993399",r=null,a=n?window.top.document:window.document,s=a.getElementsByTagName("body")[0]||a.body;if(!s)try{a.write('<div id="'+i+'">.'+e.openTag+"/div>"),r=a.getElementById(i)}catch(e){}s=a.getElementsByTagName("body")[0]||a.body,s&&(s.insertBefore(t,s.firstChild),r&&s.removeChild(r)),t=0},iframe:{onLoad:function(t,n){e.ev.callArray(t)},insert:function(t,n){var i,r,a=this,s=e.DOM,o=document.createElement("iframe");s.setStyle(o,s.getStyle.iframe()),o.width=s.iframeWidth,o.height=s.iframeHeight,s.initDiv(),i=s.getDiv(),i.appendChild(o);try{a.doc(o).open()}catch(e){}return o[e.uniqueName()]=[],r=e.ev.handlerOnce(e.isNum(t)&&t>0?e.ev.handlerWait(t,a.onLoad,o[e.uniqueName()],n):e.ev.handler(a.onLoad,o[e.uniqueName()],n)),e.ev.addEvent(o,"load",r),o.onload||(o.onload=r),e.ev.addEvent(a.win(o),"load",r),o},addHandler:function(t,n){t&&e.ev.fPush(n,t[e.uniqueName()])},close:function(e){try{this.doc(e).close()}catch(e){}},write:function(e,t){try{this.doc(e).write(t)}catch(e){}},win:function(e){try{return e.contentWindow}catch(e){}return null},doc:function(e){var t;try{t=e.contentWindow.document}catch(e){}try{t||(t=e.contentDocument)}catch(e){}return t||null}},insert:function(t,n,i,r,a,s,o){var l,u,c,d,f,h=this;if(o||(h.initDiv(),o=h.getDiv()),o&&(/div/i.test(o.tagName)&&(d=o.ownerDocument),/iframe/i.test(o.tagName)&&(d=h.iframe.doc(o))),d&&d.createElement||(d=document),e.isDefined(r)||(r=""),e.isString(t)&&/[^\s]/.test(t)){t=t.toLowerCase().replace(/\s/g,""),l=e.openTag+t+" ",l+='style="'+h.getStyle.plugin(s)+'" ';var p=1,g=1;for(f=0;f<n.length;f+=2)/[^\s]/.test(n[f+1])&&(l+=n[f]+'="'+n[f+1]+'" '),/width/i.test(n[f])&&(p=0),/height/i.test(n[f])&&(g=0);if(l+=(p?'width="'+h.pluginSize+'" ':"")+(g?'height="'+h.pluginSize+'" ':""),"embed"==t||"img"==t)l+=" />";else{for(l+=">",f=0;f<i.length;f+=2)/[^\s]/.test(i[f+1])&&(l+=e.openTag+'param name="'+i[f]+'" value="'+i[f+1]+'" />');l+=r+e.openTag+"/"+t+">"}}else t="",l=r;if(u={spanId:"",spanObj:null,span:h.span,loaded:null,tagName:t,outerHTML:l,DOM:h,time:(new Date).getTime(),width:h.width,obj:h.obj,readyState:h.readyState,objectProperty:h.objectProperty,doc:d},o&&o.parentNode)if(/iframe/i.test(o.tagName))h.iframe.addHandler(o,[h.onLoadHdlr,u]),u.loaded=0,u.spanId=e.name+"Span"+h.HTML.length,c='<span id="'+u.spanId+'" style="'+h.getStyle.span(1)+'">'+l+"</span>",h.iframe.write(o,c);else if(/div/i.test(o.tagName)){c=d.createElement("span"),h.setStyle(c,h.getStyle.span()),o.appendChild(c);try{c.innerHTML=l}catch(e){}u.spanObj=c}return c=0,o=0,h.HTML.push(u),u}},file:{any:"fileStorageAny999",valid:"fileStorageValid999",save:function(t,n,i){var r,a=this;t&&e.isDefined(i)&&(t[a.any]||(t[a.any]=[]),t[a.valid]||(t[a.valid]=[]),t[a.any].push(i),(r=a.split(n,i))&&t[a.valid].push(r))},getValidLength:function(e){return e&&e[this.valid]?e[this.valid].length:0},getAnyLength:function(e){return e&&e[this.any]?e[this.any].length:0},getValid:function(e,t){var n=this;return e&&e[n.valid]?n.get(e[n.valid],t):null},getAny:function(e,t){var n=this;return e&&e[n.any]?n.get(e[n.any],t):null},get:function(t,n){var i=t.length-1,r=e.isNum(n)?n:i;return r<0||r>i?null:t[r]},split:function(t,n){var i,r,a=null;return t=t?t.replace(".","\\."):"",r=new RegExp("^(.*[^\\/])("+t+"\\s*)$"),e.isString(n)&&r.test(n)&&(i=RegExp.$1.split("/"),a={name:i[i.length-1],ext:RegExp.$2,full:n},i[i.length-1]="",a.path=i.join("/")),a}},Plugins:{}};e.init.library();var t={setPluginStatus:function(t,n,i){var r=this;r.version=n?e.formatNum(n,3):null,r.installed=r.version?1:i?i>0?.7:-.1:t?0:-1,r.getVersionDone=.7==r.installed||-.1==r.installed||0===r.nav.done?0:1},getVersion:function(t,n){var i,r=this,a=null,s=0;if(n=e.browser.isIE?0:n,s&&!e.dbug||!r.nav.query(n).installed||(s=1),a&&!e.dbug||!r.nav.query(n).version||(a=r.nav.version),i=a?0:r.codebase.isMin(t))return void r.setPluginStatus(0,0,i);a&&!e.dbug||(i=r.codebase.search())&&(s=1,a=i),s&&!e.dbug||!r.axo.query().installed||(s=1),a&&!e.dbug||!r.axo.query().version||(a=r.axo.version),r.setPluginStatus(s,a)},nav:{done:null,installed:0,version:null,result:[0,0],mimeType:["video/quicktime","application/x-quicktimeplayer","image/x-macpaint","image/x-quicktime","application/x-rtsp","application/x-sdp","application/sdp","audio/vnd.qcelp","video/sd-video","audio/mpeg","video/mp4","video/3gpp2","application/x-mpeg","audio/x-m4b","audio/x-aac","video/flc"],find:"QuickTime.*Plug-?in",find2:"QuickTime.*Plug-?in",find3filename:"QuickTime|QT",avoid:"Totem|VLC|RealPlayer|Helix|MPlayer|Windows\\s*Media\\s*Player",plugins:"QuickTime Plug-in",detect:function(t){var n,i,r=this,a={installed:0,version:null,plugin:null};return n=e.pd.findNavPlugin({find:r.find,find2:t?0:r.find2,avoid:t?0:r.avoid,mimes:r.mimeType,plugins:r.plugins}),n&&(a.plugin=n,a.installed=1,i=new RegExp(r.find,"i"),n.name&&i.test(n.name+"")&&(a.version=e.getNum(n.name+""))),a},query:function(t){var n,i,r=this;if(t=t?1:0,null===r.done){if(e.hasMimeType(r.mimeType)){i=r.detect(1),i.installed&&(n=r.detect(0),r.result=[n,n.installed?n:i]);var a,s=r.result[0],o=r.result[1],l=new RegExp(r.avoid,"i"),u=new RegExp(r.find3filename,"i");s=s?s.plugin:0,o=o?o.plugin:0,s||!o||!o.name||o.description&&!/^[\s]*$/.test(o.description+"")||l.test(o.name+"")||(a=(o.filename||"")+"",/^.*[\\\/]([^\\\/]*)$/.test(a)&&(a=RegExp.$1),a&&u.test(a)&&!l.test(a)&&(r.result[0]=r.result[1]))}r.done=r.result[0]===r.result[1]?1:0}return r.result[t]&&(r.installed=r.result[t].installed,r.version=r.result[t].version),r}},codebase:{classID:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",isMin:function(n){var i,r=this,a=0;return r.$$=t,e.isStrNum(n)&&(i=n.split(e.splitNumRegx),i.length>3&&parseInt(i[3],10)>0&&(i[3]="9999"),n=i.join(","),a=e.codebase.isMin(r,n)),a},search:function(){return this.$$=t,e.codebase.search(this)},DIGITMAX:[[12,11,11],[7,60],[7,11,11],0,[7,11,11]],DIGITMIN:[5,0,0,0],Upper:["999","7,60","7,50","7,6","7,5"],Lower:["7,60","7,50","7,6","7,5","0"],convert:[1,function(e,t){return t?[e[0],e[1]+e[2],e[3],"0"]:[e[0],e[1].charAt(0),e[1].charAt(1),e[2]]},1,0,1]},axo:{hasRun:0,installed:0,version:null,progID:["QuickTimeCheckObject.QuickTimeCheck","QuickTimeCheckObject.QuickTimeCheck.1"],progID0:"QuickTime.QuickTime",query:function(){var t,n,i,r=this,a=r.hasRun||!e.browser.ActiveXEnabled;if(r.hasRun=1,a)return r;for(n=0;n<r.progID.length&&(!(t=e.getAXO(r.progID[n]))||(r.installed=1,!(i=e.pd.getPROP(t,"QuickTimeVersion"))||!i.toString||(i=i.toString(16),r.version=parseInt(i.charAt(0)||"0",16)+"."+parseInt(i.charAt(1)||"0",16)+"."+parseInt(i.charAt(2)||"0",16),e.dbug)));n++);return r}}};e.addPlugin("quicktime",t);var n={mimeType:["application/x-java-applet","application/x-java-vm","application/x-java-bean"],mimeType_dummy:"application/dummymimejavaapplet",classID:"clsid:8AD9C840-044E-11D1-B3E9-00805F499D93",classID_dummy:"clsid:8AD9C840-044E-11D1-B3E9-BA9876543210",navigator:{init:function(){var t=this,i=n;t.mimeObj=e.hasMimeType(i.mimeType),t.mimeObj&&(t.pluginObj=t.mimeObj.enabledPlugin)},a:function(){try{return window.navigator.javaEnabled()}catch(e){}return 1}(),javaEnabled:function(){return!!this.a},mimeObj:0,pluginObj:0},OTF:null,info:{pluginObj:null,getPluginObj:function(){var e=this;return null===e.pluginObj&&(e.pluginObj=n.navMime.pluginObj||n.navigator.pluginObj||0),e.pluginObj},getNavPluginName:function(){var e=this.getPluginObj();return e?e.name||"":""},getNavPluginDescription:function(){var e=this.getPluginObj();return e?e.description||"":""},Plugin2Status:0,setPlugin2Status:function(t){e.isNum(t)&&(this.Plugin2Status=t)},getPlugin2Status:function(){var t,n,i,r,a,s=this;return 0===s.Plugin2Status&&(n=/Next.*Generation.*Java.*Plug-?in|Java.*Plug-?in\s*2\s/i,i=/Classic.*Java.*Plug-?in/i,r=s.getNavPluginDescription(),a=s.getNavPluginName(),n.test(r)||n.test(a)?s.setPlugin2Status(1):i.test(r)||i.test(a)?s.setPlugin2Status(-1):e.browser.isIE&&/Sun|Oracle/i.test(s.getVendor())&&(t=s.isMinJre4Plugin2(),t>0?s.setPlugin2Status(1):t<0&&s.setPlugin2Status(-1))),s.Plugin2Status},isMinJre4Plugin2:function(t){var i,r=n,a="",s=r.applet.getResult()[0];return a=1==e.OS?"1,6,0,10":2==e.OS?"1,6,0,12":(e.OS,"1,6,0,10"),t||(t=(s&&!r.applet.isRange(s)?s:0)||r.version,i=r.applet.codebase,t=t||(i.min&&a?i.isMin(a)>0?a:"0,0,0,0":0)),t=e.formatNum(e.getNum(t)),t?e.compareNums(t,a)>=0?1:-1:0},BrowserForbidsPlugin2:function(){var t=e.browser;return e.OS>=20?0:t.isGecko&&e.compareNums(t.verGecko,"1,9,0,0")<0||t.isOpera&&e.compareNums(t.verOpera,"10,50,0,0")<0?1:0},BrowserRequiresPlugin2:function(){var t=e.browser;return e.OS>=20?0:t.isGecko&&e.compareNums(t.verGecko,"1,9,2,0")>=0||t.isChrome||1==e.OS&&t.isOpera&&e.compareNums(t.verOpera,"10,60,0,0")>=0?1:0},VENDORS:["Sun Microsystems Inc.","Apple Computer, Inc.","Oracle Corporation","IBM Corporation"],VENDORS_reg:[/Sun/i,/Apple/i,/Oracle/i,/IBM/i],getNavVendor:function(){var e,t=this,n=t.getNavPluginName(),i=t.getNavPluginDescription(),r="";if(n||i)for(e=0;e<t.VENDORS.length;e++)if(t.VENDORS_reg[e].test(n)||t.VENDORS_reg[e].test(i)){r=t.VENDORS[e];break}return r},OracleMin:"1,7,0,0",OracleOrSun:function(t){var n=this;return n.VENDORS[e.compareNums(e.formatNum(t),n.OracleMin)<0?0:2]},OracleOrApple:function(t){var n=this;return n.VENDORS[e.compareNums(e.formatNum(t),n.OracleMin)<0?1:2]},getVendor:function(){var t,i,r=this,a=n,s=a.vendor||a.applet.getResult()[1]||"";return s||(i=a.DTK.version,t=a.applet.codebase,i=i||t.version||(t.min?t.isMin(r.OracleMin)>0?r.OracleMin:"0,0,0,0":0),i?s=r.OracleOrSun(i):(s=r.getNavVendor()||"")||a.version&&(2==e.OS?s=r.OracleOrApple(a.version):1!=e.OS&&3!=e.OS||(s=r.OracleOrSun(a.version)))),s},isPlugin2InstalledEnabled:function(){var e=this,t=n,i=-1,r=t.installed,a=e.getPlugin2Status(),s=e.BrowserRequiresPlugin2(),o=e.BrowserForbidsPlugin2(),l=e.isMinJre4Plugin2();return null!==r&&r>=-.1&&(a>=3?i=1:a<=-3||(2==a?i=1:-2==a||(s&&a>=0&&l>0?i=1:o&&a<=0&&l<0||(s?i=1:o||(a>0?i=1:a<0||l<0||(i=0)))))),i},result:{getDeploymentToolkitObj:function(){var e=n,t=e.info,i=e.DTK;return i.query(1),t.updateResult(),i.status&&i.HTML?i.HTML.obj():i.status}},updateResult:function(){var t,i=this,r=n,a=r.applet,s=r.installed,o=r.DTK,l=a.results,u=i.result;for(u.DeployTK_versions=[].concat(e.isArray(o.VERSIONS)?o.VERSIONS:[]),u.vendor=i.getVendor(),u.isPlugin2=i.isPlugin2InstalledEnabled(),u.OTF=r.OTF<3?0:3==r.OTF?1:2,u.JavaAppletObj=null,t=0;t<l.length;t++)if(l[t][0]&&a.HTML[t]&&a.HTML[t].obj()){u.JavaAppletObj=a.HTML[t].obj();break}var c=[null,null,null,null];for(t=0;t<l.length;t++)l[t][0]?c[t]=1:null!==l[t][0]?(r.NOTF&&r.NOTF.isAppletActive(t),a.active[t]>0?c[t]=0:a.allowed[t]>=1&&3!=r.OTF&&(a.isDisabled.single(t)||-.2==s||-1==s||a.active[t]<0||3==t&&/Microsoft/i.test(u.vendor))&&(c[t]=-1)):3==t&&l[0][0]?c[t]=0:a.isDisabled.single(t)&&(c[t]=-1);u.objectTag=c[1],u.appletTag=c[2],u.objectTagActiveX=c[3],u.name=i.getNavPluginName(),u.description=i.getNavPluginDescription(),u.All_versions=[].concat(u.DeployTK_versions.length?u.DeployTK_versions:e.isString(r.version)?[r.version]:[]);var d=u.All_versions;for(t=0;t<d.length;t++)d[t]=e.formatNum(e.getNum(d[t]));return u}},getInfo:function(){var e=this.info;return e.updateResult(),e.result},getVerifyTagsDefault:function(){return[1,this.applet.isDisabled.VerifyTagsDefault_1()?0:1,1]},getVersion:function(t,n,i){var r,a=this,s=a.applet,o=a.verify,l=a.navigator,u=null,c=null,d=null;if(null===a.getVersionDone&&(a.OTF=0,l.init(),o&&o.init()),s.setVerifyTagsArray(i),e.file.save(a,".jar",n),0===a.getVersionDone)return void(s.should_Insert_Query_Any()&&(r=s.insert_Query_Any(t),a.setPluginStatus(r[0],r[1],u,t)));u&&!e.dbug||!a.navMime.query().version||(u=a.navMime.version),u&&!e.dbug||!a.navPlugin.query().version||(u=a.navPlugin.version),u&&!e.dbug||!a.DTK.query().version||(u=a.DTK.version),a.nonAppletDetectionOk(u)&&(d=u),a.setPluginStatus(d,c,u,t),s.should_Insert_Query_Any()&&(r=s.insert_Query_Any(t),r[0]&&(d=r[0],c=r[1])),a.setPluginStatus(d,c,u,t)},nonAppletDetectionOk:function(t){var n=this,i=n.navigator,r=e.browser,a=1;return t&&i.javaEnabled()&&(r.isIE||i.mimeObj)||(a=0),a},setPluginStatus:function(t,n,i,r){var a,s=this,o=0,l=s.applet;i=i||s.version0,a=l.isRange(t),a&&(l.setRange(a,r)==t&&(o=a),t=0),s.OTF<3&&(s.installed=o?o>0?.7:-.1:t?1:i?-.2:-1),2==s.OTF&&s.NOTF&&!s.applet.getResult()[0]&&(s.installed=i?-.2:-1),3==s.OTF&&-.5!=s.installed&&.5!=s.installed&&(s.installed=s.NOTF.isJavaActive(1)>=1?.5:-.5),4!=s.OTF||-.5!=s.installed&&.5!=s.installed||(t?s.installed=1:o?s.installed=o>0?.7:-.1:s.NOTF.isJavaActive(1)>=1?i?(s.installed=1,t=i):s.installed=0:s.installed=i?-.2:-1),i&&(s.version0=e.formatNum(e.getNum(i))),t&&!o&&(s.version=e.formatNum(e.getNum(t))),n&&e.isString(n)&&(s.vendor=n),s.vendor||(s.vendor=""),s.verify&&s.verify.isEnabled()?s.getVersionDone=0:1!=s.getVersionDone&&(s.OTF<2?s.getVersionDone=0:s.getVersionDone=s.applet.can_Insert_Query_Any()?0:1)},DTK:{hasRun:0,status:null,VERSIONS:[],version:"",HTML:null,Plugin2Status:null,classID:["clsid:CAFEEFAC-DEC7-0000-0001-ABCDEFFEDCBA","clsid:CAFEEFAC-DEC7-0000-0000-ABCDEFFEDCBA"],mimeType:["application/java-deployment-toolkit","application/npruntime-scriptable-plugin;DeploymentToolkit"],isDisabled:function(t){var n=this;return n.HTML?1:t||e.dbug?0:n.hasRun||!e.DOM.isEnabled.objectTagUsingActiveX()?1:0},query:function(t){var i,r,a,s=this,o=n,l=e.DOM.altHTML,u={},c=null,d=null,f=s.isDisabled(t);if(s.hasRun=1,f)return s;if(s.status=0,e.DOM.isEnabled.objectTagUsingActiveX())for(i=0;i<s.classID.length&&(s.HTML=e.DOM.insert("object",["classid",s.classID[i]],[],l),c=s.HTML.obj(),!e.pd.getPROP(c,"jvms"));i++);else(r=e.hasMimeType(s.mimeType))&&r.type&&(s.HTML=e.DOM.insert("object",["type",r.type],[],l),c=s.HTML.obj());if(c){try{Math.abs(o.info.getPlugin2Status())<2&&(s.Plugin2Status=c.isPlugin2())}catch(e){}null!==s.Plugin2Status&&(s.Plugin2Status?o.info.setPlugin2Status(2):(e.DOM.isEnabled.objectTagUsingActiveX()||o.info.getPlugin2Status()<=0)&&o.info.setPlugin2Status(-2));try{if((a=e.pd.getPROP(c,"jvms"))&&(d=a.getLength(),e.isNum(d)))for(s.status=d>0?1:-1,i=0;i<d;i++)(r=e.getNum(a.get(d-1-i).version))&&(s.VERSIONS.push(r),u["a"+e.formatNum(r)]=1)}catch(e){}s.VERSIONS.length&&(s.version=e.formatNum(s.VERSIONS[0]))}return s}},navMime:{hasRun:0,mimetype:"",version:"",mimeObj:0,pluginObj:0,regexJPI:/^\s*application\/x-java-applet;jpi-version\s*=\s*(\d.*)$/i,isDisabled:function(){var e=this,t=n;return e.hasRun||!t.navigator.mimeObj?1:0},update:function(t){var n=this,i=t?t.enabledPlugin:0,r=t&&n.regexJPI.test(t.type||"")?e.formatNum(e.getNum(RegExp.$1)):0;r&&i&&(i.description||i.name)&&e.compareNums(r,n.version||e.formatNum("0"))>0&&(n.version=r,n.mimeObj=t,n.pluginObj=i,n.mimetype=t.type)},query:function(){var t,i,r,a,s,o,l=this,u=n,c=navigator.mimeTypes,d=l.isDisabled();if(l.hasRun=1,d)return l;if(o=c.length,e.isNum(o))for(t=0;t<o;t++){r=0;try{r=c[t]}catch(e){}l.update(r)}if(!l.version||e.dbug)for(s=e.isArray(u.mimeType)?u.mimeType:[u.mimeType],t=0;t<s.length;t++){r=0;try{r=c[s[t]]}catch(e){}if(a=r?r.enabledPlugin:0,o=a?a.length:null,e.isNum(o))for(i=0;i<o;i++){r=0;try{r=a[i]}catch(e){}l.update(r)}}return l}},navPlugin:{hasRun:0,version:"",getPlatformNum:function(){var t=n,i=0,r=/Java.*TM.*Platform[^\d]*(\d+)[\.,_]?(\d*)\s*U?(?:pdate)?\s*(\d*)/i,a=e.pd.findNavPlugin({find:r,mimes:t.mimeType,plugins:1});return a&&(r.test(a.name||"")||r.test(a.description||""))&&parseInt(RegExp.$1,10)>=5&&(i="1,"+RegExp.$1+","+(RegExp.$2?RegExp.$2:"0")+","+(RegExp.$3?RegExp.$3:"0")),i},getPluginNum:function(){var t,i,r,a,s=this,o=n,l=0;return r=/Java[^\d]*Plug-in/i,a=e.pd.findNavPlugin({find:r,num:1,mimes:o.mimeType,plugins:1,dbug:0}),a&&(t=s.checkPluginNum(a.description,r),i=s.checkPluginNum(a.name,r),l=t&&i?e.compareNums(t,i)>0?t:i:t||i),l||(r=/Java.*\d.*Plug-in/i,(a=e.pd.findNavPlugin({find:r,mimes:o.mimeType,plugins:1,dbug:0}))&&(t=s.checkPluginNum(a.description,r),i=s.checkPluginNum(a.name,r),l=t&&i?e.compareNums(t,i)>0?t:i:t||i)),l},checkPluginNum:function(t,n){var i,r;return i=n.test(t)?e.formatNum(e.getNum(t)):0,i&&e.compareNums(i,e.formatNum("10"))>=0&&(r=i.split(e.splitNumRegx),i=e.formatNum("1,"+(parseInt(r[0],10)-3)+",0,"+r[1])),i&&(e.compareNums(i,e.formatNum("1,3"))<0||e.compareNums(i,e.formatNum("2"))>=0)&&(i=0),i},query:function(){var t,i=this,r=n,a=0,s=i.hasRun||!r.navigator.mimeObj;return i.hasRun=1,s?i:(a&&!e.dbug||(t=i.getPlatformNum())&&(a=t),a&&!e.dbug||(t=i.getPluginNum())&&(a=t),a&&(i.version=e.formatNum(a)),i)}},applet:{codebase:{isMin:function(t){return this.$$=n,e.codebase.isMin(this,t)},search:function(){return this.$$=n,e.codebase.search(this)},DIGITMAX:[[15,128],[6,0,512],0,[1,5,2,256],0,[1,4,1,1],[1,4,0,64],[1,3,2,32]],DIGITMIN:[1,0,0,0],Upper:["999","10","5,0,20","1,5,0,20","1,4,1,20","1,4,1,2","1,4,1","1,4"],Lower:["10","5,0,20","1,5,0,20","1,4,1,20","1,4,1,2","1,4,1","1,4","0"],convert:[function(e,t){return t?[parseInt(e[0],10)>1?"99":parseInt(e[1],10)+3+"",e[3],"0","0"]:["1",parseInt(e[0],10)-3+"","0",e[1]]},function(e,t){return t?[e[1],e[2],e[3]+"0","0"]:["1",e[0],e[1],e[2].substring(0,e[2].length-1||1)]},0,function(e,t){return t?[e[0],e[1],e[2],e[3]+"0"]:[e[0],e[1],e[2],e[3].substring(0,e[3].length-1||1)]},0,1,function(e,t){return t?[e[0],e[1],e[2],e[3]+"0"]:[e[0],e[1],e[2],e[3].substring(0,e[3].length-1||1)]},1]},results:[[null,null],[null,null],[null,null],[null,null]],getResult:function(){var e,t=this,n=t.results,i=[];for(e=n.length-1;e>=0&&(i=n[e],!i[0]);e--);return i=[].concat(i)},DummySpanTagHTML:0,HTML:[0,0,0,0],active:[0,0,0,0],DummyObjTagHTML:0,DummyObjTagHTML2:0,allowed:[1,1,1,1],VerifyTagsHas:function(e){var t,n=this;for(t=0;t<n.allowed.length;t++)if(n.allowed[t]===e)return 1;return 0},saveAsVerifyTagsArray:function(t){var n,i=this;if(e.isArray(t)){for(n=1;n<i.allowed.length;n++)t.length>n-1&&e.isNum(t[n-1])&&(t[n-1]<0&&(t[n-1]=0),t[n-1]>3&&(t[n-1]=3),i.allowed[n]=t[n-1]);i.allowed[0]=i.allowed[3]}},setVerifyTagsArray:function(t){var i=this,r=n;null===r.getVersionDone&&i.saveAsVerifyTagsArray(r.getVerifyTagsDefault()),e.dbug?i.saveAsVerifyTagsArray([3,3,3]):t&&i.saveAsVerifyTagsArray(t)},isDisabled:{single:function(t){var n=this;return n.all()?1:1==t?!e.DOM.isEnabled.objectTag():2==t?n.AppletTag():0===t?e.codebase.isDisabled():3==t?!e.DOM.isEnabled.objectTagUsingActiveX():1},all_:null,all:function(){var t,i=this,r=n,a=r.navigator,s=e.browser;return null===i.all_&&(t=s.isOpera&&e.compareNums(s.verOpera,"13,0,0,0")<0&&!a.javaEnabled()||i.AppletTag()&&!e.DOM.isEnabled.objectTag()||!a.mimeObj&&!s.isIE?1:0,i.all_=t),i.all_},AppletTag:function(){var t=n,i=t.navigator;return e.browser.isIE?!i.javaEnabled():0},VerifyTagsDefault_1:function(){var t=e.browser,n=1;return t.isIE&&!t.ActiveXEnabled&&(n=0),(t.isIE&&t.verIE<9||t.verGecko&&e.compareNums(t.verGecko,e.formatNum("2"))<0||t.isSafari&&(!t.verSafari||e.compareNums(t.verSafari,e.formatNum("4"))<0)||t.isOpera&&e.compareNums(t.verOpera,e.formatNum("11"))<0)&&(n=0),n}},can_Insert_Query:function(e){var t=this,n=t.results[0][0],i=t.getResult()[0];return t.HTML[e]||0===e&&null!==n&&!t.isRange(n)||0===e&&i&&!t.isRange(i)?0:!t.isDisabled.single(e)},can_Insert_Query_Any:function(){var e,t=this;for(e=0;e<t.results.length;e++)if(t.can_Insert_Query(e))return 1;return 0},should_Insert_Query:function(e){var t=this,i=t.allowed,r=n,a=t.getResult()[0];return a=a&&(e>0||!t.isRange(a)),t.can_Insert_Query(e)&&0!==i[e]?3==i[e]||2.8==i[e]&&!a?1:r.nonAppletDetectionOk(r.version0)||2!=i[e]&&(1!=i[e]||a)?0:1:0},should_Insert_Query_Any:function(){var e,t=this;for(e=0;e<t.allowed.length;e++)if(t.should_Insert_Query(e))return 1;return 0},query:function(t){var i,r,a=this,s=n,o=null,l=null,u=a.results,c=a.HTML[t];if(c&&c.obj()&&!u[t][0]&&!s.bridgeDisabled&&(i=c.obj(),r=c.readyState(),!e.isNum(r)||4==r)){try{o=e.getNum(i.getVersion()+""),l=i.getVendor()+"",i.statusbar((e.win.loaded," "))}catch(e){}!o||!e.isStrNum(o)||e.dbug&&s.OTF<3||(u[t]=[o,l],a.active[t]=2)}},isRange:function(e){return/^[<>]/.test(e||"")?">"==e.charAt(0)?1:-1:0},setRange:function(t,n){return(t?t>0?">":"<":"")+(e.isString(n)?n:"")},insertJavaTag:function(t,i,r,a,s){var o=n,l=e.file.getValid(o),u=l.name+l.ext,c=l.path,d=["archive",u,"code","A.class"],f=(a?["width",a]:[]).concat(s?["height",s]:[]),h=["mayscript","true"],p=["scriptable","true","codebase_lookup","false"].concat(h),g=o.navigator,m=!e.browser.isIE&&g.mimeObj&&g.mimeObj.type?g.mimeObj.type:o.mimeType[0];return 1==t?(e.browser.isIE,e.DOM.insert("object",["type",m].concat(f),["codebase",c].concat(d).concat(p),r,o,0,i)):2==t?e.browser.isIE?e.DOM.insert("applet",["alt",r].concat(h).concat(d).concat(f),["codebase",c].concat(p),r,o,0,i):e.DOM.insert("applet",["codebase",c,"alt",r].concat(h).concat(d).concat(f),[].concat(p),r,o,0,i):3==t?e.browser.isIE?e.DOM.insert("object",["classid",o.classID].concat(f),["codebase",c].concat(d).concat(p),r,o,0,i):e.DOM.insert():4==t?e.DOM.insert("embed",["codebase",c].concat(d).concat(["type",m]).concat(p).concat(f),[],r,o,0,i):e.DOM.insert()},insertIframe:function(t){return e.DOM.iframe.insert(99,t)},insert_Query_Any:function(t){var i,r,a=this,s=n,o=e.DOM,l=a.results,u=a.HTML,c=o.altHTML,d=e.file.getValid(s);return a.should_Insert_Query(0)&&(s.OTF<2&&(s.OTF=2),l[0]=[0,0],i=t?a.codebase.isMin(t):a.codebase.search(),i&&(l[0][0]=t?a.setRange(i,t):i),a.active[0]=i?1.5:-1),d?(a.DummySpanTagHTML||(r=a.insertIframe("applet.DummySpanTagHTML"),a.DummySpanTagHTML=o.insert("",[],[],c,0,0,r),o.iframe.close(r)),a.should_Insert_Query(1)&&(s.OTF<2&&(s.OTF=2),r=a.insertIframe("applet.HTML[1]"),u[1]=a.insertJavaTag(1,r,c),o.iframe.close(r),l[1]=[0,0],a.query(1)),a.should_Insert_Query(2)&&(s.OTF<2&&(s.OTF=2),r=a.insertIframe("applet.HTML[2]"),u[2]=a.insertJavaTag(2,r,c),o.iframe.close(r),l[2]=[0,0],a.query(2)),a.should_Insert_Query(3)&&(s.OTF<2&&(s.OTF=2),r=a.insertIframe("applet.HTML[3]"),u[3]=a.insertJavaTag(3,r,c),o.iframe.close(r),l[3]=[0,0],a.query(3)),o.isEnabled.objectTag()&&(a.DummyObjTagHTML||!u[1]&&!u[2]||(r=a.insertIframe("applet.DummyObjTagHTML"),a.DummyObjTagHTML=o.insert("object",["type",s.mimeType_dummy],[],c,0,0,r),o.iframe.close(r)),!a.DummyObjTagHTML2&&u[3]&&(r=a.insertIframe("applet.DummyObjTagHTML2"),a.DummyObjTagHTML2=o.insert("object",["classid",s.classID_dummy],[],c,0,0,r),o.iframe.close(r))),s.NOTF.init(),a.getResult()):a.getResult()}},NOTF:{count:0,count2:0,countMax:25,intervalLength:250,init:function(){var t=this,i=n;i.OTF<3&&t.shouldContinueQuery()&&(i.OTF=3,e.ev.setTimeout(t.onIntervalQuery,t.intervalLength))},allHTMLloaded:function(){var e,t=n.applet,i=[t.DummySpanTagHTML,t.DummyObjTagHTML,t.DummyObjTagHTML2].concat(t.HTML);for(e=0;e<i.length;e++)if(i[e]&&null!==i[e].loaded&&!i[e].loaded)return 0;return 1},shouldContinueQuery:function(){var e,t=this,i=n,r=i.applet,a=0;if(t.allHTMLloaded()){if(t.count-t.count2>2)return a}else t.count2=t.count;for(e=0;e<r.results.length;e++)r.HTML[e]&&!r.results[e][0]&&(r.allowed[e]>=2||1==r.allowed[e]&&!r.getResult()[0])&&(!t.count||t.isAppletActive(e)>=0)&&(a=1);return a},isJavaActive:function(e){var t,i,r=this,a=n,s=-9;for(t=0;t<a.applet.HTML.length;t++)(i=r.isAppletActive(t,e))>s&&(s=i);return s},isAppletActive:function(t,i){var r,a,s=this,o=n,l=o.navigator,u=o.applet,c=u.HTML[t],d=u.active,f=0,h=d[t];if(i||h>=1.5||!c||!c.span())return h;for(a=e.DOM.getTagStatus(c,u.DummySpanTagHTML,u.DummyObjTagHTML,u.DummyObjTagHTML2,s.count),r=0;r<d.length;r++)d[r]>0&&(f=1);return h=1!=a?a:e.browser.isIE||o.version0&&l.javaEnabled()&&l.mimeObj&&("object"==c.tagName||f)?1:0,d[t]=h,h},onIntervalQuery:function(){var t,i=n.NOTF;i.count++,3==n.OTF&&(t=i.queryAllApplets(),i.shouldContinueQuery()||i.queryCompleted(t)),3==n.OTF&&e.ev.setTimeout(i.onIntervalQuery,i.intervalLength)},queryAllApplets:function(){var e,t=n,i=t.applet;for(e=0;e<i.results.length;e++)i.query(e);return i.getResult()},queryCompleted:function(t){var i=this,r=n;r.OTF>=4||(r.OTF=4,i.isJavaActive(),r.setPluginStatus(t[0],t[1],0),e.ev.callArray(r.DoneHndlrs))}}};e.addPlugin("java",n);var i={mimeType:"application/x-shockwave-flash",setPluginStatus:function(t,n){var i,r=this;r.installed=n?1:t?0:-1,r.version=e.formatNum(n),i=-1==r.installed||r.instance.version,i=i||r.axo.version,r.getVersionDone=i?1:0},getVersion:function(t,n){var i=this,r=null,a=0;a&&!e.dbug||!i.navPlugin.query().installed||(a=1),r&&!e.dbug||!i.navPlugin.query().version||(r=i.navPlugin.version),a&&!e.dbug||!i.axo.query().installed||(a=1),r&&!e.dbug||!i.axo.query().version||(r=i.axo.version),(!a&&!r||n||e.dbug)&&i.instance.query().version&&(a=1,r=i.instance.version),i.setPluginStatus(a,r)},navPlugin:{hasRun:0,installed:0,version:null,getNum:function(e){if(!e)return null;var t=/[\d][\d\,\.\s]*[rRdD]{0,1}[\d\,]*/.exec(e);return t?t[0].replace(/[rRdD\.]/g,",").replace(/\s/g,""):null},query:function(){var t,n,r=this,a=i,s=r.hasRun||!e.hasMimeType(a.mimeType);return r.hasRun=1,s?r:(n=e.pd.findNavPlugin({find:"Shockwave.*Flash",mimes:a.mimeType,plugins:["Shockwave Flash"]}),n&&(r.installed=1,n.description&&(t=r.getNum(n.description))),t&&(t=e.getPluginFileVersion(n,t)),t&&(r.version=t),r)}},axo:{hasRun:0,installed:0,version:null,progID:"ShockwaveFlash.ShockwaveFlash",classID:"clsid:D27CDB6E-AE6D-11CF-96B8-444553540000",query:function(){var t,n,i,r=this,a=r.hasRun;if(r.hasRun=1,a)return r;for(n=0;n<10;n++)if(i=e.getAXO(r.progID+(n?"."+n:""))){r.installed=1,t=0;try{t=e.getNum(i.GetVariable("$version")+"")}catch(e){}if(t&&(r.version=t,!e.dbug))break}return r}},instance:{hasRun:0,version:null,HTML:null,isEnabled:function(){var t=this,n=i,r=1;return!t.hasRun&&!e.DOM.isEnabled.objectTagUsingActiveX()&&e.DOM.isEnabled.objectTag()&&e.hasMimeType(n.mimeType)||(r=0),r},query:function(){var t=this,n=i,r=t.isEnabled();if(t.hasRun=1,r){t.HTML=e.DOM.insert("object",["type",n.mimeType],["play","false","menu","false"],"",n);try{t.version=e.getNum(t.HTML.obj().GetVariable("$version")+"")}catch(e){}}return t}}};e.addPlugin("flash",i);var r={getVersion:function(){var t,n=this,i=null;t&&!e.dbug||!n.nav.query().installed||(t=1),i&&!e.dbug||!n.nav.query().version||(i=n.nav.version),t&&!e.dbug||!n.axo.query().installed||(t=1),i&&!e.dbug||!n.axo.query().version||(i=n.axo.version),n.installed=i?1:t?0:-1,n.version=e.formatNum(i)},nav:{hasRun:0,installed:0,version:null,mimeType:"application/x-director",query:function(){var t,n,i=this,r=i.hasRun||!e.hasMimeType(i.mimeType);return i.hasRun=1,r?i:(n=e.pd.findNavPlugin({find:"Shockwave\\s*for\\s*Director",mimes:i.mimeType,plugins:"Shockwave for Director"}),n&&n.description&&(t=e.getNum(n.description+"")),t&&(t=e.getPluginFileVersion(n,t)),n&&(i.installed=1),t&&(i.version=t),i)}},axo:{hasRun:0,installed:null,version:null,progID:["SWCtl.SWCtl","SWCtl.SWCtl.1","SWCtl.SWCtl.7","SWCtl.SWCtl.8","SWCtl.SWCtl.11","SWCtl.SWCtl.12"],classID:"clsid:166B1BCA-3F9C-11CF-8075-444553540000",query:function(){var t,n,i,r,a,s=this,o=!s.hasRun;if(s.hasRun=1,o)for(n=0;n<s.progID.length;n++)if(t=e.getAXO(s.progID[n])){s.installed=1,r="";try{r=t.ShockwaveVersion("")+""}catch(e){}if(/(\d[\d\.\,]*)(?:\s*r\s*(\d+))?/i.test(r)&&(a=RegExp.$2,i=e.formatNum(RegExp.$1),a&&(i=i.split(e.splitNumRegx),i[3]=a,i=i.join(","))),i&&(s.version=i,!e.dbug))break}return s}}};e.addPlugin("shockwave",r);var a={setPluginStatus:function(t,n){var i=this;t&&(i.version=e.formatNum(t)),i.installed=i.version?1:n?0:-1,i.getVersionDone=0===i.installed?0:1},getVersion:function(t,n){var i,r=this,a=null;i&&!e.dbug||!r.nav.query().installed||(i=1),i&&!e.dbug||!r.axo.query().installed||(i=1),a&&!e.dbug||!r.axo.query().version||(a=r.axo.version),(!i&&!a||n||e.dbug)&&r.FirefoxPlugin.query().version&&(i=1,a=r.FirefoxPlugin.version),r.setPluginStatus(a,i)},mimeType:["application/x-ms-wmp","application/asx","application/x-mplayer2","video/x-ms-asf","video/x-ms-wm","video/x-ms-asf-plugin"],find:["Microsoft.*Windows\\s*Media\\s*Player.*Firefox.*Plug-?in","Windows\\s*Media\\s*Player\\s*Plug-?in\\s*Dynamic\\s*Link\\s*Library","Flip4Mac.*Windows\\s*Media.*Plug-?in|Flip4Mac.*WMV.*Plug-?in"],avoid:"Totem|VLC|RealPlayer|Helix",plugins:["Microsoft"+String.fromCharCode(174)+" Windows Media Player Firefox Plugin","Windows Media Player Plug-in Dynamic Link Library"],nav:{hasRun:0,installed:0,query:function(){var t,n=this,i=a,r=n.hasRun||!e.hasMimeType(i.mimeType);return n.hasRun=1,r?n:(t=e.pd.findNavPlugin({find:i.find.join("|"),avoid:i.avoid,mimes:i.mimeType,plugins:i.plugins}),t&&(n.installed=1),n)}},FirefoxPlugin:{hasRun:0,version:null,isDisabled:function(){var t=this,n=a,i=e.browser;return t.hasRun||i.isGecko&&e.compareNums(i.verGecko,e.formatNum("1.8"))<0||i.isOpera&&e.compareNums(i.verOpera,e.formatNum("10"))<0||e.DOM.isEnabled.objectTagUsingActiveX()||!e.hasMimeType(n.mimeType)||!e.pd.findNavPlugin({find:n.find[0],avoid:n.avoid,mimes:n.mimeType,plugins:n.plugins[0]})?1:0},query:function(){var t,n=this,i=a,r=n.isDisabled();return n.hasRun=1,r?n:(t=e.pd.getPROP(e.DOM.insert("object",["type",e.hasMimeType(i.mimeType).type,"data",""],["src",""],"",i).obj(),"versionInfo"),t&&(n.version=e.getNum(t)),n)}},axo:{hasRun:0,installed:null,version:null,progID:["WMPlayer.OCX","WMPlayer.OCX.7"],classID:"clsid:6BF52A52-394A-11D3-B153-00C04F79FAA6",query:function(){var t,n,i,r=this,a=!r.hasRun;if(r.hasRun=1,a)for(n=0;n<r.progID.length&&(!(t=e.getAXO(r.progID[n]))||(r.installed=1,i=e.pd.getPROP(t,"versionInfo",0),i&&(i=e.getNum(i)),!i||(r.version=i,e.dbug)));n++);return r}},result:0,getInfo:function(){var t=this,n=t.installed;return t.result||(t.result={ActiveXPlugin:!!t.axo.version,FirefoxPlugin:!(0!==n&&1!=n||!e.pd.findNavPlugin({find:t.find[0],avoid:t.avoid,mimes:t.mimeType,plugins:t.plugins[0]})),DllPlugin:!(0!==n&&1!=n||!e.pd.findNavPlugin({find:t.find[1],avoid:t.avoid,mimes:t.mimeType,plugins:t.plugins[1]})),Flip4macPlugin:!(0!==n&&1!=n||!e.pd.findNavPlugin({find:t.find[2],avoid:t.avoid,mimes:t.mimeType,plugins:1}))},t.result.Scriptable=!(1!=n&&!t.result.FirefoxPlugin)),t.result}};e.addPlugin("windowsmediaplayer",a);var s={getVersion:function(){var t=this,n=null,i=0;i&&!e.dbug||!t.nav.query().installed||(i=1),n&&!e.dbug||!t.nav.query().version||(n=t.nav.version),i&&!e.dbug||!t.axo.query().installed||(i=1),n&&!e.dbug||!t.axo.query().version||(n=t.axo.version),t.version=e.formatNum(n),t.installed=n?1:i?0:-1},nav:{hasRun:0,installed:0,version:null,mimeType:["application/x-silverlight","application/x-silverlight-2"],query:function(){var t,n,i,r=this,a=r.hasRun||!e.hasMimeType(r.mimeType);return r.hasRun=1,a?r:(i=e.pd.findNavPlugin({find:"Silverlight.*Plug-?in",mimes:r.mimeType,plugins:"Silverlight Plug-In"}),i&&(r.installed=1),i&&i.description&&(n=e.formatNum(e.getNum(i.description+""))),n&&(t=n.split(e.splitNumRegx),parseInt(t[0],10)<2&&parseInt(t[2],10)>=30226&&(t[0]="2"),n=t.join(",")),n&&(r.version=n),r)}},axo:{hasRun:0,installed:0,version:null,progID:"AgControl.AgControl",maxdigit:[20,10,10,100,100,10],mindigit:[0,0,0,0,0,0],IsVersionSupported:function(t,n){var i=this;try{return i.testVersion?e.compareNums(e.formatNum(i.testVersion.join(",")),e.formatNum(n.join(",")))>=0:t.IsVersionSupported(i.format(n))}catch(e){}return 0},format:function(e){var t=this;return e[0]+"."+e[1]+"."+e[2]+t.make2digits(e[3])+t.make2digits(e[4])+"."+e[5]},make2digits:function(e){return(e<10?"0":"")+e},query:function(){var t,n,i=this,r=i.hasRun;if(i.hasRun=1,r)return i;if(n=e.getAXO(i.progID),n&&(i.installed=1),n&&i.IsVersionSupported(n,i.mindigit)){var a,s=[].concat(i.mindigit),o=0;for(t=0;t<i.maxdigit.length;t++){for(a=0;i.maxdigit[t]-i.mindigit[t]>1&&a<20;)a++,o++,s[t]=Math.round((i.maxdigit[t]+i.mindigit[t])/2),i.IsVersionSupported(n,s)?i.mindigit[t]=s[t]:i.maxdigit[t]=s[t];s[t]=i.mindigit[t]}i.version=i.format(s)}return i}}};e.addPlugin("silverlight",s);var o={compareNums:function(t,n){var i,r,a,s,o,l=t.split(e.splitNumRegx),u=n.split(e.splitNumRegx);for(i=0;i<Math.min(l.length,u.length);i++){if(/([\d]+)([a-z]?)/.test(l[i]),r=parseInt(RegExp.$1,10),s=2==i&&RegExp.$2.length>0?RegExp.$2.charCodeAt(0):-1,/([\d]+)([a-z]?)/.test(u[i]),a=parseInt(RegExp.$1,10),o=2==i&&RegExp.$2.length>0?RegExp.$2.charCodeAt(0):-1,r!=a)return r>a?1:-1;if(2==i&&s!=o)return s>o?1:-1}return 0},setPluginStatus:function(t,n,i){var r=this;r.installed=n?1:i?i>0?.7:-.1:t?0:-1,n&&(r.version=e.formatNum(n)),r.getVersionDone=.7==r.installed||-.1==r.installed?0:1},getVersion:function(t){var n,i,r=this,a=null;if(n&&!e.dbug||!r.nav.query().installed||(n=1),a&&!e.dbug||!r.nav.query().version||(a=r.nav.version),n&&!e.dbug||!r.axo.query().installed||(n=1),a&&!e.dbug||!r.axo.query().version||(a=r.axo.version),(!a||e.dbug)&&(i=r.codebase.isMin(t)))return void r.setPluginStatus(0,0,i);a&&!e.dbug||(i=r.codebase.search())&&(n=1,a=i),r.setPluginStatus(n,a,0)},nav:{hasRun:0,installed:0,version:null,mimeType:["application/x-vlc-plugin","application/x-google-vlc-plugin","application/mpeg4-muxcodetable","application/x-matroska","application/xspf+xml","video/divx","video/webm","video/x-mpeg","video/x-msvideo","video/ogg","audio/x-flac","audio/amr","audio/amr"],find:"VLC.*Plug-?in",find2:"VLC|VideoLAN",avoid:"Totem|Helix",plugins:["VLC Web Plugin","VLC Multimedia Plug-in","VLC Multimedia Plugin","VLC multimedia plugin"],query:function(){var t,n,i=this,r=i.hasRun||!e.hasMimeType(i.mimeType);return i.hasRun=1,r?i:(n=e.pd.findNavPlugin({find:i.find,avoid:i.avoid,mimes:i.mimeType,plugins:i.plugins}),n&&(i.installed=1,n.description&&(t=e.getNum(n.description+"","[\\d][\\d\\.]*[a-z]*")),t&&(i.version=t)),i)}},axo:{hasRun:0,installed:0,version:null,progID:"VideoLAN.VLCPlugin",query:function(){var t,n,i=this,r=i.hasRun;return i.hasRun=1,r?i:(t=e.getAXO(i.progID),t&&(i.installed=1,(n=e.getNum(e.pd.getPROP(t,"VersionInfo"),"[\\d][\\d\\.]*[a-z]*"))&&(i.version=n)),i)}},codebase:{classID:"clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921",isMin:function(t){return this.$$=o,e.codebase.isMin(this,t)},search:function(){return this.$$=o,e.codebase.search(this)},DIGITMAX:[[11,11,16]],DIGITMIN:[0,0,0,0],Upper:["999"],Lower:["0"],convert:[1]}};e.addPlugin("vlc",o);var l={OTF:null,setPluginStatus:function(){var t=this,n=t.OTF,i=t.nav.detected,r=t.nav.version,a=t.nav.precision,s=a,o=r,l=i>0,u=t.axo.detected,c=t.axo.version,d=t.axo.precision,f=t.doc.detected,h=t.doc.version,p=t.doc.precision,g=t.doc2.detected,m=t.doc2.version,v=t.doc2.precision;o=m||o||c||h,s=v||s||d||p,l=g>0||l||u>0||f>0,o=o||null,t.version=e.formatNum(o),t.precision=s;var _=-1;if(3==n?_=t.version?.5:-.5:o?_=1:l?_=0:-.5==u||-.5==f?_=-.15:!e.browser.isIE||e.browser.ActiveXEnabled&&!e.browser.ActiveXFilteringEnabled||(_=-1.5),t.installed=_,1!=t.getVersionDone){var y=1;t.verify&&t.verify.isEnabled()||.5==t.installed||-.5==t.installed?y=0:1==t.doc2.isDisabled()&&(y=0),t.getVersionDone=y}},getVersion:function(t,n){var i=this,r=0,a=i.verify;if(null===i.getVersionDone&&(i.OTF=0,a&&a.init()),e.file.save(i,".pdf",n),0===i.getVersionDone)return i.doc2.insertHTMLQuery(),void i.setPluginStatus();r&&!e.dbug||!i.nav.query().version||(r=1),r&&!e.dbug||!i.axo.query().version||(r=1),r&&!e.dbug||!i.doc.query().version||(r=1),i.doc2.insertHTMLQuery(),i.setPluginStatus()},getPrecision:function(t,n,i){if(e.isString(t)){n=n||"",i=i||"";var r,a="\\d+",s=[a,a,a,a];for(r=4;r>0;r--)if(new RegExp(n+s.slice(0,r).join("[\\.]")+i).test(t))return r}return 0},nav:{detected:0,version:null,precision:0,mimeType:["application/pdf","application/vnd.adobe.pdfxml"],find:"Adobe.*PDF.*Plug-?in|Adobe.*Acrobat.*Plug-?in|Adobe.*Reader.*Plug-?in",plugins:["Adobe Acrobat","Adobe Acrobat and Reader Plug-in","Adobe Reader Plugin"],query:function(){var t,n=this,i=null;return n.detected||!e.hasMimeType(n.mimeType)?n:(t=e.pd.findNavPlugin({find:n.find,mimes:n.mimeType,plugins:n.plugins}),n.detected=t?1:-1,t&&(i=e.getNum(t.description)||e.getNum(t.name),i=e.getPluginFileVersion(t,i),i||(i=n.attempt3()),i&&(n.version=i,n.precision=l.getPrecision(i))),n)},attempt3:function(){var t=null;return 1==e.OS&&(e.hasMimeType("application/vnd.adobe.pdfxml")?t="9":e.hasMimeType("application/vnd.adobe.x-mars")?t="8":e.hasMimeType("application/vnd.adobe.xfdf")&&(t="6")),t}},activexQuery:function(t){var n,i,r,a,s="",o={precision:0,version:null};try{t&&(s=t.GetVersions()+"")}catch(e){}if(s&&e.isString(s)&&(n=/\=\s*[\d\.]+/g,a=s.match(n))){for(i=0;i<a.length;i++)(r=e.formatNum(e.getNum(a[i])))&&(!o.version||e.compareNums(r,o.version)>0)&&(o.version=r);o.precision=l.getPrecision(s,"\\=\\s*")}return o},axo:{detected:0,version:null,precision:0,progID:["AcroPDF.PDF","AcroPDF.PDF.1","PDF.PdfCtrl","PDF.PdfCtrl.5","PDF.PdfCtrl.1"],progID_dummy:"AcroDUMMY.DUMMY",query:function(){var t,n,i,r,a,s,o=this,u=l;if(o.detected)return o;for(o.detected=-1,n=e.getAXO(o.progID_dummy),n||(s=e.errObj),a=0;a<o.progID.length;a++)if(n=e.getAXO(o.progID[a])){if(o.detected=1,t=u.activexQuery(n),i=t.version,r=t.precision,!e.dbug&&i)break}else s&&e.errObj&&s!==e.errObj&&s.message!==e.errObj.message&&(o.detected=-.5);return i&&(o.version=i),r&&(o.precision=r),o}},doc:{detected:0,version:null,precision:0,classID:"clsid:CA8A9780-280D-11CF-A24D-444553540000",classID_dummy:"clsid:CA8A9780-280D-11CF-A24D-BA9876543210",DummySpanTagHTML:0,HTML:0,DummyObjTagHTML1:0,DummyObjTagHTML2:0,isDisabled:function(){var t=this,n=0;return t.HTML?n=1:e.dbug||e.DOM.isEnabled.objectTagUsingActiveX()||(n=1),n},query:function(){var t,n,i,r,a,s=this,o=l,u=e.DOM.altHTML;return s.isDisabled()?s:(t=e.DOM.iframe.insert(99,"Adobe Reader"),s.DummySpanTagHTML=e.DOM.insert("",[],[],u,o,1,t),s.HTML=e.DOM.insert("object",["classid",s.classID],[],u,o,1,t),s.DummyObjTagHTML2=e.DOM.insert("object",["classid",s.classID_dummy],[],u,o,1,t),e.DOM.iframe.close(t),a=e.DOM.getTagStatus(s.HTML,s.DummySpanTagHTML,s.DummyObjTagHTML1,s.DummyObjTagHTML2,0,0,1),n=o.activexQuery(s.HTML.obj()),i=n.version,r=n.precision,s.detected=a>0||i?1:-.1==a||-.5==a?-.5:-1,i&&(s.version=i),r&&(s.precision=r),s)}},doc2:{detected:0,version:null,precision:0,classID:"clsid:CA8A9780-280D-11CF-A24D-444553540000",mimeType:"application/pdf",HTML:0,count:0,count2:0,time2:0,intervalLength:50,maxCount:150,isDisabled:function(){var t,n,i,r=this,a=l,s=a.axo,o=a.nav,u=a.doc,c=0;return r.HTML?c=2:e.dbug||(e.DOM.isEnabled.objectTagUsingActiveX()?(t=(o?o.version:0)||(s?s.version:0)||(u?u.version:0)||0,n=(o?o.precision:0)||(s?s.precision:0)||(u?u.precision:0)||0,(!t||!n||n>2||e.compareNums(e.formatNum(t),e.formatNum("11"))<0)&&(c=2)):c=2),c<2&&((i=e.file.getValid(a))&&i.full||(c=1)),c},handlerSet:0,onMessage:function(){var t=this;return function(n){t.version||(t.detected=1,e.isArray(n)&&(n=n[0]),(n=e.getNum(n+""))&&(/[.,_]/.test(n)||(n+="."),n+="00000",/^(\d+)[.,_](\d)(\d\d)(\d\d)/.test(n)&&(n=RegExp.$1+","+RegExp.$2+","+RegExp.$3+","+RegExp.$4),t.version=e.formatNum(n),t.precision=3,l.setPluginStatus()))}},isDefinedMsgHandler:function(e,t){try{return e?e.messageHandler!==t:0}catch(e){}return 1},queryObject:function(){var e=this,t=e.HTML,n=t?t.obj():0;if(n){if(!e.handlerSet&&e.isDefinedMsgHandler(n)){try{n.messageHandler={onMessage:e.onMessage()}}catch(e){}e.handlerSet=1,e.count2=e.count,e.time2=(new Date).getTime()}e.detected||(e.count>3&&!e.handlerSet?e.detected=-1:e.time2&&e.count-e.count2>=e.maxCount&&(new Date).getTime()-e.time2>=e.intervalLength*e.maxCount&&(e.detected=-.5)),e.detected&&e.detected}},insertHTMLQuery:function(){var t,n,i=this,r=l,a=e.DOM.altHTML;return i.isDisabled()?i:(r.OTF<2&&(r.OTF=2),t=e.file.getValid(r).full,n=e.DOM.iframe.insert(0,"Adobe Reader"),e.DOM.iframe.write(n,'<script type="text/javascript"><\/script>'),i.HTML=e.DOM.insert("object",["data",t].concat(e.browser.isIE?["classid",i.classID]:["type",i.mimeType]),["src",t],a,r,0,n),e.DOM.iframe.addHandler(n,i.onIntervalQuery),r.OTF<3&&i.HTML&&(r.OTF=3),e.DOM.iframe.close(n),i)},onIntervalQuery:function(){var t=l,n=t.doc2;n.count++,3==t.OTF&&(n.queryObject(),n.detected&&n.queryCompleted()),3==t.OTF&&e.ev.setTimeout(n.onIntervalQuery,n.intervalLength)},queryCompleted:function(){var t=l;4!=t.OTF&&(t.OTF=4,t.setPluginStatus(),e.ev.callArray(t.DoneHndlrs))},z:0},getInfo:function(){var e=this;e.setPluginStatus();var t={OTF:e.OTF<3?0:3==e.OTF?1:2,DummyPDFused:!1,version:e.version,precision:e.precision};return 1!=e.doc2.detected&&-.5!=e.doc2.detected||(t.DummyPDFused=!0),t}};e.addPlugin("adobereader",l);var u={mimeType:["audio/x-pn-realaudio-plugin","audio/x-pn-realaudio"],classID:"clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA",setPluginStatus:function(t,n){var i,r=this;n&&(r.version=e.formatNum(e.getNum(n))),r.installed=r.version?1:t?0:-1,i=-1==r.installed||r.instance.version,i=i||r.axo.version,r.getVersionDone=i?1:0},navObj:{hasRun:0,installed:null,version:null,find:"RealPlayer.*Plug-?in",avoid:"Totem|QuickTime|Helix|VLC|Download",plugins:["RealPlayer(tm) G2 LiveConnect-Enabled Plug-In (32-bit) ","RealPlayer(tm) G2 LiveConnect-Enabled Plug-In (64-bit) ","RealPlayer Plugin"],query:function(){var t,n=this,i=u,r=!n.hasRun&&e.hasMimeType(i.mimeType);return n.hasRun=1,r&&(t=e.pd.findNavPlugin({find:n.find,avoid:n.avoid,mimes:i.mimeType,plugins:n.plugins}),n.installed=t?1:0,(t=e.getPluginFileVersion(t))&&e.compareNums(e.formatNum(t),e.formatNum("15"))>=0&&(n.version=t)),n}},JS:{hasRun:0,version:null,regStr:"RealPlayer.*Version.*Plug-?in",mimetype:"application/vnd.rn-realplayer-javascript",q1:[[11,0,0],[999],[663],[663],[663],[660],[468],[468],[468],[468],[468],[468],[431],[431],[431],[372],[180],[180],[172],[172],[167],[114],[0]],q3:[[6,0],[12,99],[12,69],[12,69],[12,69],[12,69],[12,69],[12,69],[12,69],[12,69],[12,69],[12,69],[12,46],[12,46],[12,46],[11,3006],[11,2806],[11,2806],[11,2804],[11,2804],[11,2799],[11,2749],[11,2700]],compare:function(e,t){var n,i,r,a=e.length,s=t.length;for(n=0;n<Math.max(a,s);n++){if(i=n<a?e[n]:0,r=n<s?t[n]:0,i>r)return 1;if(i<r)return-1}return 0},convertNum:function(t,n,i){var r,a,s,o=this,l=null;if(!t||!(r=e.formatNum(t)))return l;for(r=r.split(e.splitNumRegx),s=0;s<r.length;s++)r[s]=parseInt(r[s],10);if(0!==o.compare(r.slice(0,Math.min(n[0].length,r.length)),n[0]))return l;if(a=r.length>n[0].length?r.slice(n[0].length):[],o.compare(a,n[1])>0||o.compare(a,n[n.length-1])<0)return l;for(s=n.length-1;s>=1&&1!=s&&(0!==o.compare(n[s],a)||0!==o.compare(n[s],n[s-1]))&&!(o.compare(a,n[s])>=0&&o.compare(a,n[s-1])<0);s--);return i[0].join(".")+"."+i[s].join(".")},isEnabled:function(){var t=this;return!t.hasRun&&1==e.OS&&e.hasMimeType(t.mimetype)?1:0},query:function(){var t,n,i,r=this,a=r.isEnabled();if(r.hasRun=1,a&&(n=e.pd.findNavPlugin({find:r.regStr,mimes:r.mimetype}),n&&(t=e.formatNum(e.getNum(n.description))),t)){var s=t.split(e.splitNumRegx);i=1,r.compare(s,[6,0,12,200])<0?i=-1:r.compare(s,[6,0,12,1739])<=0&&r.compare(s,[6,0,12,857])>=0&&(i=-1),i<0&&(n=r.convertNum(t,r.q3,r.q1),r.version=n||t)}return r}},instance:{hasRun:0,version:null,HTML:null,isEnabled:function(){var t=this,n=u,i=1;return e.DOM.isEnabled.objectTag()?e.dbug||(t.hasRun||e.DOM.isEnabled.objectTagUsingActiveX()||!e.hasMimeType(n.mimeType)||e.browser.isGecko&&e.compareNums(e.browser.verGecko,e.formatNum("1,8"))<0||e.browser.isOpera&&e.compareNums(e.browser.verOpera,e.formatNum("10"))<0)&&(i=0):i=0,i},query:function(){var t,n=this,i=u,r=n.isEnabled();if(n.hasRun=1,r){n.HTML=e.DOM.insert("object",["type",i.mimeType[0]],["src","","autostart","false","imagestatus","false","controls","stopbutton"],"",i),t=n.HTML.obj();try{n.version=e.getNum(t.GetVersionInfo())}catch(e){}e.DOM.setStyle(t,["display","none"])}return n}},axo:{hasRun:0,installed:null,version:null,progID:["rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer"],query:function(){var t,n,i,r=this;if(!r.hasRun)for(r.hasRun=1,n=0;n<r.progID.length;n++)if(t=e.getAXO(r.progID[n])){r.installed=1,i=0;try{i=t.GetVersionInfo()+""}catch(e){}if(i&&(r.version=i,!e.dbug))break}return r}},getVersion:function(t,n){var i=this,r=null,a=0;a&&!e.dbug||!i.axo.query().installed||(a=1),r&&!e.dbug||!i.axo.query().version||(r=i.axo.version),a&&!e.dbug||!i.navObj.query().installed||(a=1),r&&!e.dbug||!i.navObj.query().version||(r=i.navObj.version),r&&!e.dbug||!i.JS.query().version||(a=1,r=i.JS.version),(!a&&!r||n||e.dbug)&&i.instance.query().version&&(a=1,r=i.instance.version),i.setPluginStatus(a,r)}};e.addPlugin("realplayer",u);var c={storage:{},codebase:{isMin:function(t){return this.$$=c,e.codebase.isMin(this,t)},search:function(){return this.$$=c,e.codebase.search(this)},classID:"",DIGITMAX:[[100,100,100,0]],DIGITMIN:[0,0,0,0],Upper:["99999"],Lower:["0"],convert:[1]},clone:function(t,n){var i,r,a=this,s=0;if(e.isNum(t)||e.isString(t)||null===t||e.isFunc(t)||t===e||t===e.Plugins||t===a)return t;if(t.window||t.firstChild||t.appendChild)return t;e.isArray(t)?r=[]:t&&(r={});for(i in t)e.hasOwn(t,i)&&(s++,r[i]=a.clone(t[i],i));return r},setPluginStatus:function(t,n,i){var r=this;r.getVersionDone=0,r.version=e.formatNum(n),r.installed=n?1:t?t>0?.7:-.1:i?-3:-1},getVersion:function(t,n,i){var r,a,s,o=this,l=null,u=null,c="";if(e.codebase.isDisabled())return void o.setPluginStatus(0,0);if(!(n&&e.isString(n)&&/[^\s]+/.test(n)))return void o.setPluginStatus(0,0,1);if(n=n.replace(/\s/g,""),c=n.replace(/[\:\-\/]/g,"$"),e.isArray(i)){for(i.length||i.push(0),r=0;r<i.length;r++)if(e.isDefined(i[r])||(i[r]=0),!e.isNum(i[r])||i[r]<0||i[r]>99999999)return void o.setPluginStatus(0,0,1);if(c&&o.storage[c]){for(a=o.storage[c].codebase,s=0,r=0;r<Math.max(i.length,a.DIGITMAX[0].length);r++)if((r<i.length?i[r]:0)>(r<a.DIGITMAX[0].length?a.DIGITMAX[0][r]:0)){s=1;break}if(s&&a.version)for(s=a.version.split(e.splitNumRegx),r=0;r<Math.max(s.length,a.DIGITMAX[0].length);r++)if((r<s.length?s[r]:0)===(r<a.DIGITMAX[0].length?a.DIGITMAX[0][r]:0)){o.storage[c]=null;break}}}else i=[0];c&&!o.storage[c]&&(o.storage[c]={codebase:o.clone(o.codebase)},o.storage[c].codebase.classID=n,e.isArray(i)&&i.length&&(o.storage[c].codebase.DIGITMAX=[[].concat(i)])),t?(l=o.storage[c].codebase.isMin(t),u=o.storage[c].codebase.version):(l=0,u=o.storage[c].codebase.search()),o.setPluginStatus(l,u)}};e.addPlugin("activex",c)}()},174:function(e,t,n){"use strict";var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i);(0,r.default)(function(){(0,r.default)(document).on("mouseover","li.menu-dropdown",function(){(0,r.default)(this).find(".menu-submenu").show()}),(0,r.default)(document).on("mouseout","li.menu-dropdown",function(){(0,r.default)(this).find(".menu-submenu").hide()}),(0,r.default)(document).on("click",".hit-list li",function(){var e=(0,r.default)(this).find("a.target");e.length&&(window.location=e.attr("href"))})})},175:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestId=void 0;var i=n(22),r=n(6),a=t.requestId=function(e){return i.maybe.fromNullable(e.documentElement.dataset).chain((0,r.maybeProp)("requestId")).chain(function(e){return i.maybe.fromNullable("__REQUEST_ID_MIDDLEWARE_SWAP_TOKEN__"===e?null:e)}).getOrElse(null)};window.request_id=a(document)},176:function(e,t,n){"use strict";var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i);n(11);var a;(0,r.default)(document).on("livesearch:results",function(e,t){var n,i=(0,r.default)(e.target).val();n=t.projects?t.projects.length:t.length,a=(0,r.default)(e.target).attr("data-tracker-name"),"undefined"!=typeof ga&&ga("send","event",a,"Term",i,parseInt(n,10))});var s;(0,r.default)(document).on("livesearch:searching",function(){s=!0}),(0,r.default)(document).on("livesearch:cancel",function(){s&&("undefined"!=typeof ga&&ga("send","event",a,"Cancels"),s=!1)}),(0,r.default)(document).ready(function(){(0,r.default)(".home-editorial-title").on("click",function(){var e=(0,r.default)(this).html();"undefined"!=typeof ga&&ga("send","event","Faux-Category on Homepage Clicks",e)})}),(0,r.default)(document).ready(function(){(0,r.default)(".export").find("a").on("click",function(){"undefined"!=typeof ga&&ga("send","event","Export Reward Report","Download Click")})}),(0,r.default)(document).ready(function(){(0,r.default)("#results_properties").livequery(function(){var e=(0,r.default)(this).children("#number_of_results").text(),t=(0,r.default)(this).children("#term").text();"undefined"!=typeof ga&&ga("send","event","Search Results","Term",t,parseInt(e,10))})}),(0,r.default)(document).ready(function(){(0,r.default)("#pledges_login_or_signup #growl_section .error").livequery(function(){var e=(0,r.default)(this).children(".message").html(),t=(0,r.default)(document).attr("URL");"undefined"!=typeof ga&&ga("send","event","Checkout Login Errors",e,t)}),(0,r.default)("#checkout-signup .fieldset-errors").livequery(function(){var e=(0,r.default)(this).children("ul").children(),t=(0,r.default)(document).attr("URL");r.default.each(e,function(e,n){n=n.innerHTML,"undefined"!=typeof ga&&ga("send","event","Checkout Signup Errors",n,t)})}),(0,r.default)("#sessions_new #growl_section .error").livequery(function(){var e=(0,r.default)(this).children(".message").html(),t=(0,r.default)(document).attr("URL");"undefined"!=typeof ga&&ga("send","event","Regular Login Errors",e,t)}),(0,r.default)("#new_user .fieldset-errors").livequery(function(){var e=(0,r.default)(this).children("ul").children(),t=(0,r.default)(document).attr("URL");r.default.each(e,function(e,n){n=n.innerHTML,"undefined"!=typeof ga&&ga("send","event","Regular Signup Errors",n,t)})})}),(0,r.default)(document).ready(function(){(0,r.default)(".share-box").on("click","a",function(){var e=(0,r.default)(this).attr("data-tracker-name");"undefined"!=typeof ga&&ga("send","event","Sharing",e)}),(0,r.default)("#checkout-project-share").on("click","a",function(){var e=(0,r.default)(this).attr("data-tracker-name");"undefined"!=typeof ga&&ga("send","event","Sharing",e)}),(0,r.default)(document).on("click",".clipster",function(){"undefined"!=typeof ga&&ga("send","event","Sharing","Copied Link")}),(0,r.default)(document).on("fb:loaded",function(){FB.Event.subscribe("edge.create",function(){"undefined"!=typeof ga&&ga("send","event","Sharing","Facebook Like")})})}),(0,r.default)(function(){function e(e){e.addModelListener("TIME","timeStats"),e.addModelListener("STATE","getState")}var t,n,i;(0,r.default)("#video-section object").livequery(function(){t=(0,r.default)(this)[0],n=(0,r.default)(document).attr("URL")}),(0,r.default)(document).on("click","#video-section",function(){n=(0,r.default)(document).attr("URL"),t&&(i="Project Page Video",e(t))}),(0,r.default)(window).on("beforeunload",function(){})}),(0,r.default)(document).on("modal_dialog:opened",function(e){var t=(0,r.default)(e.target),n=t.find(".modal_dialog_head h4").text();"undefined"!=typeof ga&&ga("send","event","Modal Dialog","Opened",n)}),(0,r.default)(document).ready(function(){(0,r.default)(".faq-question a").click(function(){var e=(0,r.default)("body[id]").length?(0,r.default)("body").attr("id"):"No ID",t=(0,r.default)(this).closest(".faq"),n=(0,r.default)(this).find(".question").text();"undefined"==typeof ga||t.hasClass("expanded")||ga("send","event","FAQ","Expanded - "+e,n)})}),(0,r.default)(document).ready(function(){(0,r.default)(document).on("click","a#edit_survey_response",function(){"undefined"!=typeof ga&&ga("send","event","Surveys","Click","Edit Survey Response")})}),(0,r.default)(document).ready(function(){(0,r.default)(document).on("click","ul#admin-menu > li > a",function(){"undefined"!=typeof ga&&ga("send","event","Admin","Nav Click",(0,r.default)(this).text())})}),(0,r.default)(document).ready(function(){var e=0;(0,r.default)(".scissors").on("click",function(){e<2?("undefined"!=typeof ga&&ga("send","event","Scissors","Clicks"),e+=1):"undefined"!=typeof ga&&ga("send","event","Scissors","Chops")})}),(0,r.default)(document).ready(function(){var e=1;(0,r.default)(document).on("infinite_scroll:scrolled_to",function(t,n){if(n>e){var i=window.location.pathname+window.location.search+window.location.hash;"undefined"!=typeof ga&&ga("send","pageview",i),e=n}})})},177:function(e,t,n){"use strict";var i=(n(0),n(0));!function(){i.fn.composed=function(e,t){var n=i(this);return void 0===n.data("topics")&&n.data("topics",{}),(n.data("topics")[e]||[]).reduce(function(e,t){return t.call(i,e)},t)},i.fn.composable=function(e,t){var n=i(this);return void 0===n.data("topics")&&n.data("topics",{}),n.data("topics")[e]||(n.data("topics")[e]=[]),n.data("topics")[e].push(t),[e,t]}}()},178:function(e,t,n){"use strict";var i=n(2),r=function(e){return e&&e.__esModule?e:{default:e}}(i);n(47);var a=n(0);n(0);!function(e){e.fn.confirm_submit=function(t){return t=t||{},e(this).each(function(){var n=e(this);n.on("submit.confirm_submit",function(i){i.preventDefault();var a=t.copy||r.default.t("library.confirm_submit.Really_buddy"),s='<div class="modal_delete_confirmation"><p class="copy">'+a+'</p><div class="buttons"><a href="#" class="yes btn btn--green">'+(t.yes_copy||r.default.t("library.confirm_submit.Yes"))+'</a><a href="#" class="no btn btn--gray">'+(t.no_copy||r.default.t("library.confirm_submit.No_Thanks"))+"</a></div></div>",o=e.create_modal_dialog(t.title||"Are you sure?",s);n.removeClass("submitting-non-ajax"),o.find("a.yes").on("click",function(e){e.preventDefault(),n.off("submit.confirm_submit"),t.on_confirm_submit&&t.on_confirm_submit(),n[0].submit()}),o.find("a.no").on("click",function(t){t.preventDefault(),e(this).trigger("close")}),o.data("modal_dialog").open()})})}}(a)},179:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(8),a=i(r),s=n(2),o=i(s),l=(n(0),n(0));!function(){l.fn.in_place_editor=function(){return l(this).each(function(){function e(){u.css("fontSize",n.css("fontSize")),n.hide(),i.removeClass("inactive"),u.focus()}function t(){i.addClass("inactive"),n.show()}var n=l(this),i=n.next("form.in_place_editor"),r=i.find(".js-in-place-editor-cancel"),s=n.siblings(".trigger_editor")||n,u=i.find("input.text"),c=!1;s.on("click",function(){e()}),r.on("click",function(){u.val(n.text()),t()}),i.on("submit",function(e){e.preventDefault(),c||(i.addClass("submitting"),c=!0,l.ajax({url:i.attr("action").replace(/(\.\w+)?$/,".js"),data:i.serialize(),type:"POST",complete:function(){i.removeClass("submitting"),c=!1},success:function(){var e=u.val();n.html(e),t(),c=!1,i.siblings(".clipster").data("text",e)},error:function(e){var t=JSON.parse(e.responseText),n="<p>"+o.default.t("library.in_place_editor.Oops_there_was_a_problem_with_your_submission");i.removeClass("submitting"),c=!1,t.errors?(n+=":<br/>"+l.map(t.errors,function(e,t){return t+": "+e}),n+="</p>"):n+=". "+o.default.t("library.in_place_editor.Please_refresh_the_page_before_trying_again")+"</p>",(0,a.default)({error:l(n).html()})}}))})})}}(),function(){l("span.in_place_editor").in_place_editor()}()},180:function(e,t,n){"use strict";n(51),n(37);var i=n(0);n(0);!function(e){function t(e,t){this.$elem=e,this.options=t,this.total_elements=e.find(t.items).length,e.serialScroll(t),this.bind_events()}e.fn.infinite_carousel=function(n){return n=n||{},e(this).each(function(){var i=e(this).data("infinite_carousel");i||(i=new t(e(this),n),e(this).data("infinite_carousel",i))})},e.extend(t.prototype,{bind_events:function(){var e=this;this.$elem.on("notify.serialScroll",function(t,n){e.total_elements=e.$elem.find(e.options.items).length+1,n+1>=e.total_elements-e.options.step&&e.$elem.trigger("infinite_carousel:last_page")})}})}(i)},181:function(e,t,n){"use strict";var i=n(2),r=function(e){return e&&e.__esModule?e:{default:e}}(i),a=(n(0),n(0));!function(){function e(e){return e.html}function t(e){return e.data("href")||e.prop("href")}function n(n,i,s,o,l){var u=n.mobius(a.extend({url:t(i),dataType:"json",trigger_next:i,load_next_after:s},l)).data("mobius");n.on("mobius:loading_page",function(){var e=n.attr("data-exclude-ids"),t=u.options.perPage||6;e&&u.add_param("exclude_ids[]",e.split(",")),t&&u.add_param("per_page",t),i.prop("disabled",!0),i.data("previousHTML",i.html()),i.html(r.default.t("library.load_more.Loading"))}),n.on("mobius:loaded_page",function(t,n,r){var l=u.options.responseToHTML||e,c=l(r),d=a(c).hide();s.append(d),d.slideDown(),i.html(i.data("previousHTML")),i.prop("disabled",!1),"has_more"in r&&!r.has_more&&o.remove()})}a.fn.loadMore=function(e){a(this).each(function(){var t=a(this),i=t.find(".js-load-more--appendable"),r=t.find(".js-load-more--removable"),s=t.find(".js-load-more--button");r.length||(r=s),n(t,s,i,r,e)})}}()},182:function(e,t,n){"use strict";var i=n(0);n(0);!function(e){function t(e){var t=e.css("backgroundImage"),n=/[("]([^()"]+)[")]/;try{return n.exec(t)[1]}catch(e){return!1}}e.fn.preload_background_image=function(){return this.each(function(){var n=t(e(this));n&&((new Image).src=n)})}}(i)},183:function(e,t,n){"use strict";var i=n(0);n(0);!function(e){var t={};e.publish=function(){var n=Array.prototype.slice.call(arguments),i=n.shift();t[i]&&e.each(t[i],function(){this.apply(e,n)})},e.subscribe=function(e,n){return t[e]||(t[e]=[]),t[e].push(n),[e,n]},e.unsubscribe=function(){var n=arguments[0];t[n]&&e.each(t[n],function(e){this===arguments[1]&&t[n].splice(e,1)})}}(i)},184:function(e,t,n){"use strict";var i=n(0);n(0);!function(e){e.fn.render=function(t){return e(this).each(function(){e(this).data("renderer")(t)}),this},e.fn.define_renderer=function(t){return e(this).data("renderer",t),this}}(i)},185:function(e,t,n){"use strict";function i(e,t,n){var i=s(e),r=a.default.map(a.default.keys(t),function(e){return"#"+e}).join(", ");i.delegate(r,"change",function(){s(this).trigger("state_change")}),i.delegate(r,"state_change",function(){var e=s(this),i=e.val();a.default.each(t[e[0].id],function(e,t){var r,o=s("#"+t),l=o.add(o.prev("label")),u=o.val(),c=a.default.result(e,i);void 0===o.data("options")&&o.data("options",o.find("option")),a.default.isRegExp(c)&&(c=o.option_values(function(e){return e.match(c)})),a.default.isArray(c)&&(c=a.default.map(c,function(e){return'[value="'+e+'"]'}).join(", ")),c?(r=s(o.data("options")),a.default.isString(c)&&(r=r.filter(c)),n.include_blank&&(r=s("<option>").add(r)),o.html(r),l.show(),o.val()!==u&&o.trigger("change")):(n.default_control(l),o.trigger("change"))})})}var r=n(5),a=function(e){return e&&e.__esModule?e:{default:e}}(r),s=(n(0),n(0));s.fn.option_values=function(e){var t=s(this).first().find("option").map(function(t,n){var i=n.value;return!("function"==typeof e&&!e(i))&&i});return(0,a.default)(t).without(!1)},s.fn.select_machine=function(e,t){var n={default_control:function(e){e.hide()}};return s(this).each(function(){i(this,e,s.extend(n,t))}),this}},186:function(e,t,n){"use strict";var i=n(5),r=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(0);n(0);!function(e){e.fn.serialize_without_blank=function(){var t,n=this,i=[];return n.find(":input").each(function(){""!==e.trim(this.value)||this.disabled||(i.push(this),this.disabled=!0)}),t=n.serialize(),r.default.each(i,function(e){e.disabled=!1}),t}}(a)},187:function(e,t,n){"use strict";var i=n(0);n(0);!function(e){function t(t,n){this.$elem=t,this.options=n,this.$target=this.options.target||t,this.options.sprite_orientation&&"horizontal"===this.options.sprite_orientation?this.offset=this.$target.width():this.offset=this.$target.height(),this.index=0,this.playing=!0,this.options.index_control?this.$index_control_children=this.options.index_control.children():this.$index_control_children=e([]),this.options.should_autoadvance_callback||(this.options.should_autoadvance_callback=function(){return!0}),this.number=this.options.number||this.$index_control_children.length,this.update_offset(),this._attach(),n.play_delay&&this.playing_timer()}e.fn.spriteshow=function(n){return n=n||{},e(this).each(function(){var i=e(this).data("spriteshow");i||(i=new t(e(this),n),e(this).data("spriteshow",i))})},e.extend(t.prototype,{_attach:function(){var t=this;this.$index_control_children.click(function(n){n.preventDefault(),t.set_index(e(this).index()),t.pause()}),this.options.controls&&(this.options.controls.children(".left").click(function(e){e.preventDefault(),t.page_left(),t.pause()}),this.options.controls.children(".right").click(function(e){e.preventDefault(),t.page_right(),t.pause()}),this.options.controls.children(".play-pause").click(function(){t.playing?t.pause():t.play()}))},update_offset:function(){var t=e([]);"fade"===this.options.effect&&(t=this.$target.clone(),this.$target.css("position","absolute"),this.$target.after(t),this.$target.fadeOut(function(){e(this).remove()}),this.$target=t),this.current_offset=this.index*this.offset,this.options.sprite_orientation&&"horizontal"===this.options.sprite_orientation?this.$target.css("background-position","-"+this.current_offset.toString()+"px 0"):this.$target.css("background-position","0 -"+this.current_offset.toString()+"px")},set_index:function(e){this.index=e,this.$index_control_children.removeClass("selected"),this.$index_control_children.filter(":eq("+e.toString()+")").addClass("selected"),this.$target.trigger("spriteshow:index",[e]),this.update_offset()},page_left:function(){var e=this.index-1;e<0&&(e=this.number-1),this.set_index(e)},page_right:function(){var e=this.index+1;e>=this.number&&(e=0,this.options.play_once&&this.pause()),this.set_index(e)},playing_timer:function(){var e=this;this.play_timeout=setTimeout(function(){if(e.playing&&e.options.should_autoadvance_callback()&&e.page_right(),e.options.pause_when_behind_by){var t=(new Date).getTime();e.last_play_date&&Math.abs(e.last_play_date-t-e.options.play_delay)>e.options.pause_when_behind_by?(e.slow_strikes?e.slow_strikes+=1:e.slow_strikes=0,e.slow_strikes>3&&e.pause()):e.slow_strikes=0,e.last_play_date=t}e.playing_timer()},this.options.play_delay)},play:function(){this.playing=!0,this.options.controls&&this.options.controls.children(".play-pause").removeClass("spriteshow-play").addClass("spriteshow-pause")},pause:function(){this.playing=!1,this.options.controls&&this.options.controls.children(".play-pause").removeClass("spriteshow-pause").addClass("spriteshow-play")}})}(i)},188:function(e,t,n){"use strict";var i=(n(0),n(0));i(function(){i.fn.sync_form=function(e){var t=i(this),n=function(){};if(e=e||{},t.data("updating"))return void t.data("dirty",(t.data("dirty")||[]).concat(e));t.data("updating",!0),i.ajax({type:e.type||t.attr("method"),url:e.url||t.attr("action"),data:e.data||t.serialize(),dataType:"json",global:!1,context:t,beforeSend:e.beforeSend,success:function(r){(e.success||n).apply(this,arguments),t.trigger("form_synced",[r]),t.data("dirty")&&t.data("dirty").length&&setTimeout(function(){for(var e={};i.isEmptyObject(e)&&t.data("dirty").length;)e=t.data("dirty").shift();t.sync_form(e)},100),r.url&&t.attr("action",r.url)},error:e.error,complete:function(){(e.complete||n).apply(this,arguments),t.data("updating",!1)}})}})},189:function(e,t,n){"use strict";var i=n(0);n(0);!function(e){e.fn.term_form=function(){return this.each(function(){var t=e(this);t.find(".text").on("input keydown paste cut",function(){e.trim(e(this).val())?e("form.term .ss-delete").show():e("form.term .ss-delete").hide()}).trigger("input").on("blur",function(){t.submit()}),t.find(".ss-delete").on("click",function(){e("form.term .text").val("").trigger("input").focus(),t.submit()}),t.find(".text").on("focus",function(){e(this).addClass("focused")}),t.find(".text").on("blur",function(){var t=e(this);t.val()||t.removeClass("focused")})}),this}}(i)},190:function(e,t,n){"use strict";var i=n(10),r=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(0);n(0);!function(e){function t(t,n){this.$elem=t,this.val=0,this.options=e.extend({},{frame_count:10,frame_step:40,frame_duration:30,format_numbers:!0,max_digits:5,keyframes:["","0","1","2","3","4","5","6","7","8","9",","],framesets:null},n),this.val=this.$elem.attr("rel"),this.keyframes=this.options.keyframes,this.framesets=this.options.framesets;var i;for(this.framesets||this.init_framesets(),i=0;i<this.options.max_digits;i+=1)this.init_digit(i);this.write(this.val,!0)}e.fn.ticker=function(n){return n=n||{},e(this).each(function(){var i=e(this).data("ticker");i||(i=new t(e(this),n),e(this).data("ticker",i))})},e.extend(t.prototype,{read:function(){return this.val},write:function(t,n){this.val=String(t||""),this.$elem.attr("rel",this.val);var i,a,s,o,l,u,c,d,f=(this.options.format_numbers?r.default.format_number(this.val,{precision:0}):this.val).split(""),h=this.$elem.find(".ticker_digit");for(d=0;d<f.length-h.length;d+=1)this.init_digit(d+h.length);for(h=this.$elem.find(".ticker_digit"),d=0;d<h.length;d+=1){if(i=e(h[d]),a=i.html(),s=f[d]?String(f[d]):"",o=e.inArray(s,this.keyframes),l=this.framesets[o][0],u=e.inArray(i.html(),this.keyframes),c=[],i.html(s).data("tween_id",i.data("tween_id")+1),!s||s===a||n)c=c.concat(l);else for(;u!==o;)c=c.concat(this.framesets[u]),u+=1,u=u>=this.keyframes.length?1:u;this.tween(i.data("tween_id"),i,c)}},init_framesets:function(){var e,t;for(this.framesets=[],e=0;e<this.keyframes.length;e+=1)for(this.framesets.push([]),t=0;t<this.options.frame_count;t+=1)this.framesets[e].push(e*this.options.frame_count*this.options.frame_step+t*this.options.frame_step)},init_digit:function(t){var n=e(this.$elem.find(".ticker_digit").get(t));n.length||(n=e('<span class="ticker_digit">&nbsp;</span>').prependTo(this.$elem)),n.data("tween_id",1)},digit_count:function(){return this.$elem.find(".ticker_digit").length},remove_digit:function(e){e.remove(),this.pad_digits()},tween:function(e,t,n){if(n.length){if(t.data("tween_id")!==e)return!1;var i=this;setTimeout(function(){var r=n.shift();t.css({"background-position":"0px "+-1*r+"px"}),i.tween(e,t,n)},this.options.frame_duration)}}})}(a)},191:function(e,t,n){var i=n(0);n(0);!function(e){"use strict";function t(t,n,i){var r;t.API.getComponent("pager").each(function(){var a=e(this);if(n.pagerTemplate){var s=t.API.tmpl(n.pagerTemplate,n,t,i[0]);r=e(s).appendTo(a)}else r=a.children().eq(t.slideCount-1);r.on(t.pagerEvent,function(e){e.preventDefault(),t.API.page(a,e.currentTarget)})})}function n(e,t){var n=this.opts();if(!n.busy||n.manualTrump){var i=e.children().index(t),r=i,a=n.currSlide<r;n.currSlide!=r&&(n.nextSlide=r,n.API.prepareTx(!0,a),n.API.trigger("cycle-pager-activated",[n,e,t]))}}e.extend(e.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerTemplate:"<span>&bull;</span>"}),e(document).on("cycle-bootstrap",function(e,n,i){i.buildPagerLink=t}),e(document).on("cycle-slide-added",function(e,t,i,r){t.pager&&(t.API.buildPagerLink(t,i,r),t.API.page=n)}),e(document).on("cycle-slide-removed",function(t,n,i,r){if(n.pager){n.API.getComponent("pager").each(function(){var t=e(this);e(t.children()[i]).remove()})}}),e(document).on("cycle-update-view",function(t,n,i){var r;n.pager&&(r=n.API.getComponent("pager"),r.each(function(){e(this).children().removeClass(n.pagerActiveClass).eq(n.currSlide).addClass(n.pagerActiveClass)}))}),e(document).on("cycle-destroyed",function(e,t){var n=t.API.getComponent("pager");n&&(n.children().off(t.pagerEvent),t.pagerTemplate&&n.empty())})}(i)},192:function(e,t,n){var i=n(0);n(0);!function(e){"use strict";e.extend(e.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),e(document).on("cycle-update-view",function(t,n,i,r){if("caption"===n.captionModule){e.each(["caption","overlay"],function(){var e=this,t=i[e+"Template"],a=n.API.getComponent(e);a.length&&t?(a.html(n.API.tmpl(t,i,n,r)),a.show()):a.hide()})}}),e(document).on("cycle-destroyed",function(t,n){var i;e.each(["caption","overlay"],function(){var e=this,t=n[e+"Template"];n[e]&&t&&(i=n.API.getComponent("caption"),i.empty())})})}(i)},193:function(e,t,n){var i=n(0);n(0);!function(e){"use strict";e.extend(e.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),e.extend(e.fn.cycle.API,{tmpl:function(t,n){var i=new RegExp(n.tmplRegex||e.fn.cycle.defaults.tmplRegex,"g"),r=e.makeArray(arguments);return r.shift(),t.replace(i,function(t,n){var i,a,s,o,l=n.split(".");for(i=0;i<r.length;i++)if(s=r[i]){if(l.length>1)for(o=s,a=0;a<l.length;a++)s=o,o=o[l[a]]||n;else o=s[n];if(e.isFunction(o))return o.apply(s,r);if(void 0!==o&&null!==o&&o!=n)return o}return n})}})}(i)},194:function(e,t,n){var i=n(0);n(0);!function(e){"use strict";function t(t,n){var i;if(t._hashFence)return void(t._hashFence=!1);i=window.location.hash.substring(1),t.slides.each(function(r){if(e(this).data("cycle-hash")==i){if(!0===n)t.startingSlide=r;else{var a=t.currSlide<r;t.nextSlide=r,t.API.prepareTx(!0,a)}return!1}})}e(document).on("cycle-pre-initialize",function(n,i){t(i,!0),i._onHashChange=function(){t(i,!1)},e(window).on("hashchange",i._onHashChange)}),e(document).on("cycle-update-view",function(e,t,n){n.hash&&"#"+n.hash!=window.location.hash&&(t._hashFence=!0,window.location.hash=n.hash)}),e(document).on("cycle-destroyed",function(t,n){n._onHashChange&&e(window).off("hashchange",n._onHashChange)})}(i)},195:function(e,t,n){n(0),n(0);!function(){"use strict";function e(i){if(!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=e.Adapter.extend({},e.defaults,i),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=i.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,t+=1}var t=0,n={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(e){var t=[];for(var i in n)t.push(n[i]);for(var r=0,a=t.length;r<a;r++)t[r][e]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.Context.refreshAll();for(var t in n)n[t].enabled=!0;return this},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function t(e){this.element=e,this.Adapter=r.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,i[e.waypointContextKey]=this,n+=1,r.windowContext||(r.windowContext=!0,r.windowContext=new t(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,i={},r=window.Waypoint,a=window.onload;t.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},t.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical),n=this.element==this.element.window;e&&t&&!n&&(this.adapter.off(".waypoints"),delete i[this.key])},t.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,r.requestAnimationFrame(e))})},t.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){t.didScroll&&!r.isTouch||(t.didScroll=!0,r.requestAnimationFrame(e))})},t.prototype.handleResize=function(){r.Context.refreshAll()},t.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in t){var i=t[n],r=i.newScroll>i.oldScroll,a=r?i.forward:i.backward;for(var s in this.waypoints[n]){var o=this.waypoints[n][s];if(null!==o.triggerPoint){var l=i.oldScroll<o.triggerPoint,u=i.newScroll>=o.triggerPoint,c=l&&u,d=!l&&!u;(c||d)&&(o.queueTrigger(a),e[o.group.id]=o.group)}}}for(var f in e)e[f].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.innerHeight=function(){return this.element==this.element.window?r.viewportHeight():this.adapter.innerHeight()},t.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},t.prototype.innerWidth=function(){return this.element==this.element.window?r.viewportWidth():this.adapter.innerWidth()},t.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var n in this.waypoints[t])e.push(this.waypoints[t][n]);for(var i=0,r=e.length;i<r;i++)e[i].destroy()},t.prototype.refresh=function(){var e,t=this.element==this.element.window,n=t?void 0:this.adapter.offset(),i={};this.handleScroll(),e={horizontal:{contextOffset:t?0:n.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:n.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var a in e){var s=e[a];for(var o in this.waypoints[a]){var l,u,c,d,f,h=this.waypoints[a][o],p=h.options.offset,g=h.triggerPoint,m=0,v=null==g;h.element!==h.element.window&&(m=h.adapter.offset()[s.offsetProp]),"function"==typeof p?p=p.apply(h):"string"==typeof p&&(p=parseFloat(p),h.options.offset.indexOf("%")>-1&&(p=Math.ceil(s.contextDimension*p/100))),l=s.contextScroll-s.contextOffset,h.triggerPoint=Math.floor(m+l-p),u=g<s.oldScroll,c=h.triggerPoint>=s.oldScroll,d=u&&c,f=!u&&!c,!v&&d?(h.queueTrigger(s.backward),i[h.group.id]=h.group):!v&&f?(h.queueTrigger(s.forward),i[h.group.id]=h.group):v&&s.oldScroll>=h.triggerPoint&&(h.queueTrigger(s.forward),i[h.group.id]=h.group)}}return r.requestAnimationFrame(function(){for(var e in i)i[e].flushTriggers()}),this},t.findOrCreateByElement=function(e){return t.findByElement(e)||new t(e)},t.refreshAll=function(){for(var e in i)i[e].refresh()},t.findByElement=function(e){return i[e.waypointContextKey]},window.onload=function(){a&&a(),t.refreshAll()},r.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},r.Context=t}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function n(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},r=window.Waypoint;n.prototype.add=function(e){this.waypoints.push(e)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var i=this.triggerQueues[n],r="up"===n||"left"===n;i.sort(r?t:e);for(var a=0,s=i.length;a<s;a+=1){var o=i[a];(o.options.continuous||a===i.length-1)&&o.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(t){this.waypoints.sort(e);var n=r.Adapter.inArray(t,this.waypoints);return n===this.waypoints.length-1?null:this.waypoints[n+1]},n.prototype.previous=function(t){this.waypoints.sort(e);var n=r.Adapter.inArray(t,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},n.prototype.remove=function(e){var t=r.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(e){return i[e.axis][e.name]||new n(e)},r.Group=n}(),function(){"use strict";function e(e){this.$element=t(e)}var t=window.jQuery,n=window.Waypoint;t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,n){e.prototype[n]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[n].apply(this.$element,e)}}),t.each(["extend","inArray","isEmptyObject"],function(n,i){e[i]=t[i]}),n.adapters.push({name:"jquery",Adapter:e}),n.Adapter=e}(),function(){"use strict";function e(e){return function(){var n=[],i=arguments[0];return e.isFunction(arguments[0])&&(i=e.extend({},arguments[1]),i.handler=arguments[0]),this.each(function(){var r=e.extend({},i,{element:this});"string"==typeof r.context&&(r.context=e(this).closest(r.context)[0]),n.push(new t(r))}),n}}var t=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}()},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r={};i=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}(navigator.userAgent),i.browser&&(r[i.browser]=!0,r.version=i.version),r.chrome?r.webkit=!0:r.webkit&&(r.safari=!0),t.default=r},2103:function(e,t,n){n(168),n(2),e.exports=n(2104)},2104:function(e,t,n){"use strict";n(78),n(164),n(50),n(141),n(498),n(167),n(299),n(360),n(229),n(7)},24:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=(0,u.default)("#template-"+e.replace(/\//g,"_"));if(!t.length)throw"Could not find template: "+e;return u.default.trim(t.html())}function a(e){var t={};if(d.default.isString(e)&&(e=[e]),d.default.isArray(e))return d.default.each(e,function(e){t[e]=r(e)}),t}function s(){return function(e,t){return t(h.default.t(e,this))}}function o(e,t,n){var i=v.default[e]||function(e){return e},o=r(e),l=a(n);return g.default.render(o,u.default.extend({t:s},i(t)),l)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),u=i(l),c=n(5),d=i(c),f=n(2),h=i(f),p=n(80),g=i(p),m=n(98),v=i(m);t.default=o,window.render=o},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i);n(151),n(35),n(27),n(36),n(58),n(132),n(64),n(133),n(45),n(131),n(177),n(178),n(61),n(67),n(158),n(179),n(180),n(55),n(83),n(141),n(32),n(181),n(51),n(134),n(47),n(182),n(183),n(184),n(185),n(186),n(142),n(187),n(135),n(188),n(143),n(189),n(190),n(46),n(50),n(88),n(140),n(125),n(144),n(191),n(145),n(159),n(192),n(146),n(193),n(194),n(195),n(11),n(84),n(79),n(37);var a=r.default;t.default=a},27:function(e,t,n){var i=n(0);n(0);!function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(e){}r(t)},e.widget=function(t,n,i){var r,a,s,o,l={},u=t.split(".")[0];t=t.split(".")[1],r=u+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},a=e[u][t],s=e[u][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},e.extend(s,a,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(i,function(t,i){if(!e.isFunction(i))return void(l[t]=i);l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,a=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=a,t}}()}),s.prototype=e.widget.extend(o,{widgetEventPrefix:a?o.widgetEventPrefix:t},l,{constructor:s,namespace:u,widgetName:t,widgetFullName:r}),a?(e.each(a._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete a._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(t){for(var n,r,a=i.call(arguments,1),s=0,o=a.length;s<o;s++)for(n in a[s])r=a[s][n],a[s].hasOwnProperty(n)&&void 0!==r&&(e.isPlainObject(r)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):t[n]=r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(a){var s="string"==typeof a,o=i.call(arguments,1),l=this;return a=!s&&o.length?e.widget.extend.apply(null,[a].concat(o)):a,s?this.each(function(){var n,i=e.data(this,r);return i?e.isFunction(i[a])&&"_"!==a.charAt(0)?(n=i[a].apply(i,o),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,r);t?t.option(a||{})._init():e.data(this,r,new n(a,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,a,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},i=t.split("."),t=i.shift(),i.length){for(r=s[t]=e.widget.extend({},this.options[t]),a=0;a<i.length-1;a++)r[i[a]]=r[i[a]]||{},r=r[i[a]];if(t=i.pop(),void 0===n)return void 0===r[t]?null:r[t];r[t]=n}else{if(void 0===n)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,a=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function o(){if(t||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?a[s]:s).apply(a,arguments)}"string"!=typeof s&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),u=l[1]+a.eventNamespace,c=l[2];c?r.delegate(c,u,o):n.bind(u,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,a,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,a){"string"==typeof r&&(r={effect:r});var s,o=r?!0===r||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=a,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[o]?i[t](r):o!==t&&i[o]?i[o](r.duration,r.easing,a):i.queue(function(n){e(this)[t](),a&&a.call(i[0]),n()})}})}(i)},29:function(e,t,n){var i=n(0);n(0);!function(e){e.jGrowl=function(t,n){0===e("#jGrowl").length&&e('<div id="jGrowl"></div>').addClass(n&&n.position?n.position:e.jGrowl.defaults.position).appendTo(n&&n.appendTo?n.appendTo:e.jGrowl.defaults.appendTo),e("#jGrowl").jGrowl(t,n)},e.fn.jGrowl=function(t,n){if(void 0===n&&e.isPlainObject(t)&&(n=t,t=n.message),e.isFunction(this.each)){var i=arguments;return this.each(function(){void 0===e(this).data("jGrowl.instance")&&(e(this).data("jGrowl.instance",e.extend(new e.fn.jGrowl,{notifications:[],element:null,interval:null})),e(this).data("jGrowl.instance").startup(this)),e.isFunction(e(this).data("jGrowl.instance")[t])?e(this).data("jGrowl.instance")[t].apply(e(this).data("jGrowl.instance"),e.makeArray(i).slice(1)):e(this).data("jGrowl.instance").create(t,n)})}},e.extend(e.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:!1,position:"top-right",appendTo:"body",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:!0,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},click:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(t,n){var i=e.extend({},this.defaults,n);void 0!==i.speed&&(i.openDuration=i.speed,i.closeDuration=i.speed),this.notifications.push({message:t,options:i}),i.log.apply(this.element,[this.element,t,i])},render:function(t){var n=this,i=t.message,r=t.options;r.themeState=""===r.themeState?"":"ui-state-"+r.themeState;var a=e("<div/>").addClass("jGrowl-notification alert "+r.themeState+" ui-corner-all"+(void 0!==r.group&&""!==r.group?" "+r.group:"")).append(e("<button/>").addClass("jGrowl-close").html(r.closeTemplate)).append(e("<div/>").addClass("jGrowl-header").html(r.header)).append(e("<div/>").addClass("jGrowl-message").html(i)).data("jGrowl",r).addClass(r.theme).children(".jGrowl-close").bind("click.jGrowl",function(){return e(this).parent().trigger("jGrowl.beforeClose"),!1}).parent();e(a).bind("mouseover.jGrowl",function(){e(".jGrowl-notification",n.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){e(".jGrowl-notification",n.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){!1!==r.beforeOpen.apply(a,[a,i,r,n.element])&&e(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){!1!==r.open.apply(a,[a,i,r,n.element])&&("after"==r.glue?e(".jGrowl-notification:last",n.element).after(a):e(".jGrowl-notification:first",n.element).before(a),e(this).animate(r.animateOpen,r.openDuration,r.easing,function(){!1===e.support.opacity&&this.style.removeAttribute("filter"),null!==e(this).data("jGrowl")&&void 0!==e(this).data("jGrowl")&&(e(this).data("jGrowl").created=new Date),e(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){r.afterOpen.apply(a,[a,i,r,n.element])}).bind("click",function(){r.click.apply(a,[a,i,r,n.element])}).bind("jGrowl.beforeClose",function(){!1!==r.beforeClose.apply(a,[a,i,r,n.element])&&e(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){e(this).data("jGrowl.pause",!0),e(this).animate(r.animateClose,r.closeDuration,r.easing,function(){e.isFunction(r.close)?!1!==r.close.apply(a,[a,i,r,n.element])&&e(this).remove():e(this).remove()})}).trigger("jGrowl.beforeOpen"),""!==r.corners&&void 0!==e.fn.corner&&e(a).corner(r.corners),e(".jGrowl-notification:parent",n.element).length>1&&0===e(".jGrowl-closer",n.element).length&&!1!==this.defaults.closer&&e(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(n.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){e(this).siblings().trigger("jGrowl.beforeClose"),e.isFunction(n.defaults.closer)&&n.defaults.closer.apply(e(this).parent()[0],[e(this).parent()[0]])})},update:function(){e(this.element).find(".jGrowl-notification:parent").each(function(){void 0!==e(this).data("jGrowl")&&void 0!==e(this).data("jGrowl").created&&e(this).data("jGrowl").created.getTime()+parseInt(e(this).data("jGrowl").life,10)<(new Date).getTime()&&!0!==e(this).data("jGrowl").sticky&&(void 0===e(this).data("jGrowl.pause")||!0!==e(this).data("jGrowl.pause"))&&e(this).trigger("jGrowl.beforeClose")}),this.notifications.length>0&&(0===this.defaults.pool||e(this.element).find(".jGrowl-notification:parent").length<this.defaults.pool)&&this.render(this.notifications.shift()),e(this.element).find(".jGrowl-notification:parent").length<2&&e(this.element).find(".jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){e(this).remove()})},startup:function(t){this.element=e(t).addClass("jGrowl").append('<div class="jGrowl-notification"></div>'),this.interval=setInterval(function(){var n=e(t).data("jGrowl.instance");void 0!==n&&n.update()},parseInt(this.defaults.check,10))},shutdown:function(){e(this.element).removeClass("jGrowl").find(".jGrowl-notification").trigger("jGrowl.close").parent().empty(),clearInterval(this.interval)},close:function(){e(this.element).find(".jGrowl-notification").each(function(){e(this).trigger("jGrowl.beforeClose")})}}),e.jGrowl.defaults=e.fn.jGrowl.prototype.defaults}(i)},299:function(e,t,n){"use strict";var i=n(26),r=function(e){return e&&e.__esModule?e:{default:e}}(i);n(11),(0,r.default)(function(){function e(e){(0,r.default)(e).ksr_video()}r.default.videos_changed=function(){(0,r.default)(".video-player:visible").each(function(){e(this)})},(0,r.default)(document).on("ksr_video:pause_all_videos",function(){(0,r.default)(".video-player").trigger("ksr_video:pause")}),(0,r.default)(".video-player:visible").livequery(function(){e(this)})})},31:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){t.blurb||(t.blurb=e.blurb),t.name||(t.name=e.name),t.feature_image_url=t.feature_image_attributes.image_urls.baseball_card,t["has_background_image?"]=!l.default.isEmpty(t.background_image_attributes),t["hide_background_black?"]=t["has_background_image?"]||t.background_color,t.border_color="",t.text_color&&(t.border_color="background-color: #"+t.text_color+";"),t.text_color_style="",t.text_color&&(t.text_color_style="color: #"+t.text_color+";"),t.background_color_style="",t.background_color&&(t.background_color_style="background-color: #"+t.background_color+";"),t.card_style="",t.card_style+=t.text_color_style,t.card_style+=t.background_color_style,t.card_background_style="",t["has_background_image?"]&&(t.card_background_style="background-image: url("+t.background_image_attributes.image_urls.baseball_card+"); opacity: "+t.background_image_opacity+";")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=["live","successful","canceled","failed"],n=[];return e.creator_name=e.creator.name,e.percent_raised=e.pledged/e.goal*100,e.percent_raised_rounded=Math.round(e.percent_raised),e.percent_raised_to_100=Math.min(100,e.percent_raised),e.formatted_percent_raised=c.default.percent(e.percent_raised,{precision:0}),e.formatted_money=c.default.money(e.pledged,{precision:0,currency:e.currency}),e.formatted_goal=c.default.money(e.goal,{precision:0,currency:e.currency}),e.formatted_backers_count=c.default.format_number(e.backers_count,{precision:0}),e.count=e.backers_count,e.javascript_deadline=1e3*e.deadline,e.javascript_state_changed_at=1e3*e.state_changed_at,e.formatted_deadline=(0,d.format)("ll",e.javascript_deadline),e.formatted_state_changed_at=(0,d.format)("ll",e.javascript_state_changed_at),e.raw_score=e.recommendations_raw_score,e.weighted_score=e.recommendations_score,e.model_name=e.recommendations_model_name,e.project_state=e.state,e.section=e.ref||e.url_ref||"refined_search",r(e,e.profile),s.default.each(t,function(){var t=String(this);e[t+"?"]=e.state===t}),e.url_ref?e.url_with_ref=(0,v.default)(e.urls.web.project).setSearch("ref",e.url_ref).toString():e.url_with_ref=e.urls.web.project,e["live_or_successful?"]="live"===e.state||"successful"===e.state,e["video?"]=null!==e.video&&void 0!==e.video,e["potd_today?"]=(0,g.default)(1e3*e.potd_at,new Date),e["staff_pick?"]=e.staff_pick,e["friends_backing?"]=e.friends&&e.friends.length>0,e["friends_backing?"]&&(e.truncated_friends=e.friends.slice(0,2),n=l.default.map(e.truncated_friends,function(e){return"<strong>"+l.default.escape(e.name.split(" ")[0])+"</strong>"}),n.length<e.friends.length&&n.push("<strong>"+h.default.t("presenters.projects.baseball_card_tall.amount_more",{count:e.friends.length-n.length})+"</strong>"),e.escaped_sentence=h.default.t("presenters.projects.baseball_card_tall.friends_are_backers",{friends:c.default.to_sentence(n),count:n.length})),e.json=JSON.stringify(e),e.location_json=JSON.stringify(e.location),e.baseball_card_size||(e.baseball_card_size="tall"),e};var a=n(0),s=i(a),o=n(5),l=i(o),u=n(10),c=i(u),d=n(15),f=n(2),h=i(f),p=n(63),g=i(p),m=n(17),v=i(m)},32:function(e,t,n){"use strict";n(62),n(71),n(72),n(73),n(74),n(75),n(76);n(0),n(0)},35:function(e,t,n){var i=n(0);n(0);!function(e,t){function n(t,n){var r,a,s,o=t.nodeName.toLowerCase();return"area"===o?(r=t.parentNode,a=r.name,!(!t.href||!a||"map"!==r.nodeName.toLowerCase())&&(!!(s=e("img[usemap=#"+a+"]")[0])&&i(s))):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,r=e(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function i(t,n,i,a){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?s["inner"+n].call(this):this.each(function(){e(this).css(a,i(this,t)+"px")})},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){e(this).css(a,i(this,t,!0,r)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,a=e.ui[t].prototype;for(r in i)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)}})}(i)},36:function(e,t,n){var i=n(0);n(0);!function(e,t){var n=!1;e(document).mouseup(function(){n=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!n){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,r=1===t.which,a=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!a&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0))}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(i)},360:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=i(r),s=n(7),o=n(18),l=i(o);!function(){function e(e,t){if(void 0!==e){var n="internal";(0,a.default)("body").is(".widget")&&(n="external"),a.default.ajax({url:e,type:"post",data:{event_type:t,location:n}})}}function t(e){return(0,a.default)("body").is(".widget")||e.closest("#projects_show").length?"Project":e.closest(".school").length?"School":e.closest(".NS_site__homepage_staff_picks").length?"Homepage Editorial":e.closest("#projects_start").length?"Start Project":e.closest("body.posts").length?"Project Post":e.closest("#projects_edit").length?"Project Edit":e.closest("#jobs_index").length?"Jobs Page":e.closest(".activity").length?"Activity":"Other"}function n(e){window.koala_video_progress_endpoint&&(o=setInterval(function(){var t=e.current_position();i(Math.floor(t))},1e3))}function i(e){a.default.ajax({type:"POST",url:window.window.koala_video_progress_endpoint,data:JSON.stringify({project_name:l.default.data.name,project_pid:l.default.data.id,backers_count:l.default.data.backers_count,blurb:l.default.data.blurb,category_name:l.default.data.category.name,comments_count:l.default.data.comments_count,creator_name:l.default.data.creator.name,currency_symbol:l.default.data.currency_symbol,goal:l.default.data.goal,launched_at:l.default.data.launched_at,photo_full:l.default.data.photo.full,photo_thumb:l.default.data.photo.thumb,project_url:l.default.data.urls.web.project,usd_pledged:l.default.data.usd_pledged,video:l.default.data.video,video_playhead_position:e}),contentType:"text/plain; charset=UTF-8"})}function r(e){return function(n){var i=(0,a.default)(n.target),r=t(i),o=i.attr("data-video-name");(0,s.track)(r+" "+e,{video_name:o})}}var o;(0,a.default)(document).on("ksr_video:playing",function(i,r){var o=(0,a.default)(i.target),l=t(o),u=o.data("ksr_video"),c=u.current_position(),d=o.closest(".video-player").attr("data-video-tracker-url"),f=o.attr("data-video-name");n(u),r?(e(d,"start"),(0,s.track)(l+" Video Start",{track_count:o.find("track").length,track_language:o.data("language"),video_name:f})):(0,s.track)(l+" Video Resume",{position:c,video_name:f})}).on("ksr_video:paused",function(e){var n=(0,a.default)(e.target),i=n.data("ksr_video"),r=t(n),l=i.current_position(),u=n.attr("data-video-name");clearInterval(o),(0,s.track)(r+" Video Pause",{position:l,video_name:u})}).on("ksr_video:ended",function(n){var i=(0,a.default)(n.target),r=i.data("ksr_video"),o=t(i),l=r.duration(),u=i.closest(".video-player").attr("data-video-tracker-url"),c=i.attr("data-video-name");e(u,"complete"),(0,s.track)(o+" Video Complete",{duration:l,video_name:c})}).on("ksr_video:change_track",function(e,n){var i=(0,a.default)(e.target),r=t(i),o=i.attr("data-video-name");(0,s.track)(r+" Video Change Track",{track_language:n,video_name:o})}).on("ksr_video:muted",r("Video Mute")).on("ksr_video:unmuted",r("Video Unmute")).on("ksr_video:volume_adjusted",r("Video Volume Adjustment"))}()},37:function(e,t){!function(e){var t=".serialScroll",n=e.serialScroll=function(t){return e(window).serialScroll(t)};n.defaults={duration:1e3,axis:"x",event:"click",start:0,step:1,lock:!0,cycle:!0,constant:!0},e.fn.serialScroll=function(i){return this.each(function(){function r(e){e.data+=b,a(e,this)}function a(t,n){e.isNumeric(n)||(n=t.data);var i,r=t.type,a=f.exclude?l().slice(0,-f.exclude):l(),c=a.length-1,h=a[n],g=f.duration;if(r&&t.preventDefault(),w&&(o(),d=setTimeout(s,f.interval)),!h){if(i=n<0?0:c,b!==i)n=i;else{if(!f.cycle)return;n=c-i}h=a[n]}!h||f.lock&&v.is(":animated")||r&&f.onBefore&&!1===f.onBefore(t,h,v,l(),n)||(f.stop&&v.stop(!0),f.constant&&(g=Math.abs(g/p*(b-n))),v.scrollTo(h,g,f),u("notify",n))}function s(){u("next")}function o(){clearTimeout(d)}function l(){return e(y,_)}function u(e){v.trigger(e+t,[].slice.call(arguments,1))}function c(t){if(e.isNumeric(t))return t;for(var n,i=l();-1===(n=i.index(t))&&t!==_;)t=t.parentNode;return n}var d,f=e.extend({},n.defaults,i),h=f.event,p=f.step,g=f.lazy,m=f.target?this:document,v=e(f.target||this,m),_=v[0],y=f.items,b=f.start,w=f.interval,A=f.navigation;delete f.step,delete f.start,_&&(g||(y=l()),(f.force||w)&&a({},b),e(f.prev||[],m).bind(h,-p,r),e(f.next||[],m).bind(h,p,r),_._bound_||v.bind("prev"+t,-p,r).bind("next"+t,p,r).bind("goto"+t,a),w&&v.bind("start"+t,function(e){w||(o(),w=!0,s())}).bind("stop"+t,function(){o(),w=!1}),v.bind("notify"+t,function(e,t){var n=c(t);n>-1&&(b=n)}),_._bound_=!0,f.jump&&(g?v:l()).bind(h,function(e){a(e,c(e.target))}),A&&(A=e(A,m).bind(h,function(e){e.data=Math.round(l().length/A.length)*A.index(this),a(e,this)})))})}}(jQuery)},39:function(e,t,n){"use strict";function i(e,t,n){var i=(0,a.default)(e).absoluteTo(window.location),r=(0,a.default)(t).absoluteTo(window.location);return n=n||{},n.ignore_query&&(i.search({}),r.search({})),n.ignore_hash&&(i.hash(""),r.hash("")),i.equals(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(17),a=function(e){return e&&e.__esModule?e:{default:e}}(r)},4:function(e,t,n){"use strict";function i(e,t){(0,a.default)(function(){var n=(0,a.default)(e);n.length&&t(n)})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(r);window.define_namespace=i,t.default=i},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.toUTC=function(e){return new Date(e).toISOString().replace("Z","")}},44:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.completed=!!e.completed_at,e["is_"+e.status]=!0,e.formatted_deadline=(0,s.format)("ll",1e3*e.project.deadline),e.formatted_money=a.default.money(e.amount,{currency:e.project.currency}),e.formatted_status=l.default.t("presenters.backings.row.status."+e.display_status),e.project_state=c(e),e.reward){var t=e.reward.reward;if(e.formatted_reward=t.length>57?t.substring(0,57)+"…":t,e.reward.estimated_delivery_on){var n=1e3*e.reward.estimated_delivery_on;e.formatted_estimated_delivery_on=(0,s.format)("MMM YYYY",(0,u.toUTC)(n))}}return e.messages&&(e.formatted_messages_count=l.default.t("presenters.backings.row.messages_count",{count:e.messages.count,formatted_count:a.default.format_number(e.messages.count,{precision:0})}),e.formatted_messages_last_activity_at=(0,s.format)("ll",1e3*e.messages.last_activity_at)),e};var r=n(10),a=i(r),s=n(15),o=n(2),l=i(o),u=n(40),c=function(e){switch(e.project.state){case"canceled":return l.default.t("presenters.backings.row.Canceled");case"failed":return l.default.t("presenters.backings.row.Unsuccessful");case"live":return l.default.t("presenters.backings.row.In_progress");case"successful":return l.default.t("presenters.backings.row.Successful");case"suspended":return l.default.t("presenters.backings.row.Suspended");default:return""}}},45:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(46);var r=n(21),a=i(r),s=n(2),o=i(s),l=n(204),u=(n(0),n(0));!function(e){function t(t,n){this.$div=t,this.options=e.extend({previous_month_text:"< Prev",next_month_text:"Next >",month_texts:[o.default.t("library.calendar_date_picker.January"),o.default.t("library.calendar_date_picker.February"),o.default.t("library.calendar_date_picker.March"),o.default.t("library.calendar_date_picker.April"),o.default.t("library.calendar_date_picker.May"),o.default.t("library.calendar_date_picker.June"),o.default.t("library.calendar_date_picker.July"),o.default.t("library.calendar_date_picker.August"),o.default.t("library.calendar_date_picker.September"),o.default.t("library.calendar_date_picker.October"),o.default.t("library.calendar_date_picker.November"),o.default.t("library.calendar_date_picker.December")],day_of_week_texts:[o.default.t("library.calendar_date_picker.Sunday_short"),o.default.t("library.calendar_date_picker.Monday_short"),o.default.t("library.calendar_date_picker.Tuesday_short"),o.default.t("library.calendar_date_picker.Wednesday_short"),o.default.t("library.calendar_date_picker.Thursday_short"),o.default.t("library.calendar_date_picker.Friday_short"),o.default.t("library.calendar_date_picker.Saturday_short")]},n),this._extract_options(),this._attach(),this._redraw()}function n(e){return i?i.firstChild.nodeValue=e:(i=document.createElement("div"),i.appendChild(document.createTextNode(e))),i.innerHTML}e.fn.calendar_date_picker=function(n){return this.each(function(){var i=e(this),r=new t(i,n);e(this).data("calendar_date_picker",r)})},e.extend(t.prototype,{_copy_date:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},_copy_date_with_time:function(e,t){if(!e)return e;var n=this._copy_date(e),i=(t||"").split(":");return n.setHours(+i[0]||0),n.setMinutes(+i[1]||0),n},_copy_time:function(e){if(!e)return null;var t=""+e.getHours();1===t.length&&(t="0"+t);var n=""+e.getMinutes();return 1===n.length&&(n="0"+n),t+":"+n},_copy_month:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},_next_month:function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)},_previous_month:function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)},_next_date:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,e.getHours(),e.getMinutes())},_previous_date:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()-1,e.getHours(),e.getMinutes())},_same_year:function(e,t){return e.getFullYear()===t.getFullYear()},_same_month:function(e,t){return this._same_year(e,t)&&e.getMonth()===t.getMonth()},_last_date_of_month:function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)},_selected_date_date_in_focus_month:function(){return this.selected_date&&this._same_month(this.selected_date,this.focus_date)?this.selected_date.getDate():void 0},_extract_options:function(){this.today_date=this._copy_date(this.options.today_date||new Date),this.options.selected_date&&(this.selected_date=this._copy_date(this.options.selected_date)),this.focus_date=this._copy_month(this.options.focus_date||this.selected_date||this.today_date),this.time=!!this._does_datetime()&&this._copy_time(this.options.selected_date||this.options.today_date||new Date)},_refresh_calendar_table_classes:function(e){var t=this._selected_date_date_in_focus_month(),n=e.children("tbody"),i=n.find("a.selected");i.removeClass("selected"),i.parent().removeClass("selected");var r=n.find("a:eq("+(t-1)+")");r.addClass("selected"),r.parent().addClass("selected")},_attach:function(){var e=this;this.$div.bind("calendar_date_picker:select_date",function(t,n){e.select_date(n)})},_bind_dom_table_events:function(){var t=this,n=this.$div.children().children("table"),i=n.children(":eq(0)"),r=i.children().children(),s=r.children("a.previous_month");s.text(this.options.previous_month_text),s.click(function(e){e.preventDefault(),t._on_previous_month_clicked()});var o=r.children("a.next_month");o.text(this.options.next_month_text),o.click(function(e){e.preventDefault(),t._on_next_month_clicked()}),r.children(".month, .year").on("click",function(){t.focus_date=new Date,t._refresh_calendar()}),n.children("tbody").click(function(n){var i;i=a.default.msie?n.srcElement:n.target;var r=e(i);if(r[0]&&"A"===r[0].nodeName){n.preventDefault();var s=t._copy_date_with_time(t.focus_date,t.time);s.setDate(+r.text());var o=t._copy_date_with_time(t.selected_date,t.time);t.options.allow_deselect&&o&&s-o==0?t.select_date(void 0):t.select_date(s)}})},_bind_dom_time_events:function(){if(this._does_datetime()){var e=this,t=this.$div.children().children("div.time").find("input");t.time_field(this.options.time),t.trigger("time_field:set_time",this.time),t.bind("time_field:time_changed",function(t,n){e.selected_date||(e.selected_date=new Date);var i=e._copy_date_with_time(e.selected_date,n);e.select_date(i)})}},_does_datetime:function(){return void 0!==this.options.time_text},_on_previous_month_clicked:function(){this.focus_date=this._previous_month(this.focus_date),this._refresh_calendar()},_on_next_month_clicked:function(){this.focus_date=this._next_month(this.focus_date),this._refresh_calendar()},_redraw:function(){this.$div.empty(),this.$div.append('<div class="calendar_date_picker">'+this._table_html()+this._time_div_html()+"</div>"),this._bind_dom_table_events(),this._bind_dom_time_events()},_refresh_calendar:function(){this.$div.children().children("table").replaceWith(this._table_html()),this._bind_dom_table_events()},select_date:function(e,t){var n=e?this._copy_date(e):void 0,i=t||(e?this._copy_time(e):void 0);(this.selected_date?this.selected_date.valueOf():void 0)===(n?n.valueOf():void 0)&&i===this.time||(this.selected_date=n,this._does_datetime()&&(this.time=i,i&&this.$div.find("input").trigger("time_field:set_time",i)),this.$div.trigger("calendar_date_picker:date_selected",[this._copy_date_with_time(this.selected_date,this.time)]),this.focus_date=this._copy_month(this.selected_date||this.today_date),this._refresh_calendar(),this._refresh_calendar_table_classes(this.$div.find("table")))},_table_html:function(){return"<table>"+this._thead_month_html()+this._thead_days_of_week_html()+this._tbody_html()+"</table>"},_thead_month_html:function(){return'<thead class="month"><tr><th colspan="7"><a class="previous_month ss-icon ss-navigateleft grey-dark" href="#"></a><a class="next_month ss-icon ss-navigateright grey-dark" href="#"></a><span class="month">'+n(this.options.month_texts[this.focus_date.getMonth()])+'</span> <span class="year">'+this.focus_date.getFullYear()+"</span></th></tr></thead>"},_thead_days_of_week_html:function(){return'<thead class="days_of_week"><tr><th>'+this._days_of_week_ths().join("</th><th>")+"</th></tr></thead>"},_tbody_html:function(){var e=this._copy_month(this.focus_date).getDay(),t=1,n=this._last_date_of_month(this.focus_date).getDate(),i=this._selected_date_date_in_focus_month(),r=this._same_month(this.focus_date,this.today_date)&&this.today_date.getDate(),a=[];for(a.push(this._date_tds(e,i,r,t,n)),t=8-e;t<=n;t+=7)a.push(this._date_tds(0,i,r,t,n));return"<tbody><tr>"+a.join("</tr><tr>")+"</tr></tbody>"},_date_tds:function(e,t,n,i,r){for(var a=[],s=0;s<e;s+=1)a.push("<td></td>");for(var o=i;a.length<7&&o<=r;o+=1){var l=[];o===t&&l.push("selected"),o===n&&l.push("today");var u;u=l.length?' class="'+l.join(" ")+'"':"";var c="<td"+u+'><a href="#"'+u+">"+o+"</a></td>";a.push(c)}for(var d=r+1;d<i+7;d+=1)a.push("<td></td>");return a.join("")},_days_of_week_ths:function(){return e.map(this.options.day_of_week_texts,n)},_time_div_html:function(){return this._does_datetime()?'<div class="time"><label>'+n(this.options.time_text)+'<input type="text" /></label>'+n((0,l.zoneAbbr)(new Date))+"</div>":""}});var i}(u)},46:function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(n(0),n(0));!function(e){function t(t,n){this.$field=t,this.options=e.extend({on_invalid:null,format:"%H:%M %z",am:"am",pm:"pm"},n),this._value=this._current_time_from_field(),this._attach()}e.fn.time_field=function(n){return e(this).each(function(){new t(e(this),n)})},e.extend(t.prototype,{_attach:function(){var e=this;e.$field.bind("blur",function(){e._handle_edit()}),this.$field.bind("time_field:set_time",function(t,n){e.set_time(n)})},_s_to_time:function(e){if("object"===i(Date.Parsing)){var t=Date.parse(e);return t?t.toString("HH:mm"):this.options.on_invalid}var n,r=/^\s*(\d\d?)(:(\d\d))?\s*([ap]m?)?\s*$/i,a=e.match(r),s=!a;if(!s){var o=+a[1]%12,l=+a[3]||0,u=(a[4]||"").match(/p/i);a[4]||(u=+a[1]>=12),+a[1]>23&&(s=!0),+a[1]>12&&a[4]&&(s=!0),l>59&&(s=!0),+a[1]<1&&a[4]&&(s=!0);var c=""+(o+(u?12:0));1===c.length&&(c="0"+c);var d=""+l;1===d.length&&(d="0"+d),n=c+":"+d}return s?this.options.on_invalid:n},_time_to_s:function(t){if("object"===i(Date.Parsing)){var n=Date.parse(t);return n?n.toString("h:mm tt"):this.options.on_invalid}var r=t&&t.match(/(\d\d):(\d\d)/);if(r){var a=this.options.format,s=+r[1],o=+r[2],l=s>=12?this.options.pm:this.options.am,u=""+(s%12?s%12:12),c=""+o;1===c.length&&(c="0"+c);return e([["%Hh",s],["%H",u],["%M",c],["%z",l]]).each(function(e,t){a=a.replace(t[0],t[1])}),a}return""},_current_time_from_field:function(){return this._s_to_time(this.$field.val())},_reset_field_value:function(){this._value!==this._current_time_from_field()&&this.$field.val(this._time_to_s(this._value))},set_time:function(e){e!==this._value&&(this._value=e,this.$field.trigger("time_field:time_changed",this._value)),this._reset_field_value()},_handle_edit:function(){var e=this._current_time_from_field();this.set_time(e)}})}(r)},47:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(39),a=i(r),s=n(21),o=i(s),l=n(2),u=i(l),c=n(7),d=n(0);n(0);!function(e){function t(t,n){this.$elem=t,this.$close_a=t.find("a.modal_dialog_close");var i=t.children(),r=i.children(),a=r.children(),s=t.add(i).add(r).add(a).add(this.$close_a);this.options=e.extend({close_link:s,scroll_margin:20,ignore_parent:!1,prevent_close:!1},n),this.prevent_close=this.options.prevent_close,this.prevent_close&&this.$close_a.hide(),this.options.ignore_parent||this._bind_parent_modal(),this._remember_original_css(),this._attach()}function n(t,n){var r,s=e([]);return e.each(i,function(e){(0,a.default)(t,e,{include_query:!0})&&(r=this)}),r||(s=e.create_modal_dialog(n.title||"","spinner",n),s.addClass("spinning"),r=s.data("modal_dialog"),r.remote_url=t,r.remote_xhr=e.ajax({url:t,type:"get",dataType:n.dataType,beforeSend:n.beforeSend,success:function(i){var r=e(i);n.remote_modal_dialog_contents_loaded&&n.remote_modal_dialog_contents_loaded.apply(this,[r,n,t]),s.find(".modal_dialog_body").html(r),s.removeClass("spinning"),s.trigger("size_change"),s.trigger("modal_dialog:remote_dialog_loaded")},error:function(){s.trigger("modal_dialog:errored",arguments),s.remove(),delete i[t]}}),n.do_not_cache||(i[t]=r)),r}e.fn.modal_dialog=function(n){return n=n||{},e(this).each(function(){var i=e(this).data("modal_dialog");i||(i=new t(e(this),n),e(this).data("modal_dialog",i)),i.open()})};var i={};e.create_modal_dialog=function(n,i,r){r=r||{},n.length&&(n="<h4>"+n+"</h4>");var a,s=e('<div class="modal_dialog '+(void 0!==r.theme?r.theme:"dark")+(void 0!==r.class_name?" "+r.class_name:"")+'"'+(void 0!==r.id?' id="'+r.id+'" ':" ")+'style="display: none;"><div class="modal_dialog_outer"><div class="modal_dialog_sizer"><div class="modal_dialog_inner"><div class="modal_dialog_content"><div class="modal_dialog_head">'+n+'<a class="modal_dialog_close" href="#"><span class="ss-icon ss-delete"></span></a></div><div class="modal_dialog_body">'+i+'</div></div></div><span class="modal_dialog_ie_hack"></span></div></div></div>');return e("body").append(s),a=new t(s,r),s.data("modal_dialog",a),s},e.create_login_modal=function(t,n){(0,c.track)("Application Login or Signup",{context:"Login",type:"modal",intent:n});var i=e.create_modal_dialog("",t);i.data("modal_dialog").open(),"undefined"!=typeof FB&&FB.XFBML.parse(i.find(".modal_dialog_body")[0])},e.open_remote_modal_dialog=function(t,i){var r=e(".modal_dialog:visible");if(!r.data("modal_dialog")||r.data("modal_dialog").remote_url!==t){i=i||{};var a=n(t,i);return a.open(),a}},e.extend(t.prototype,{_attach:function(){if(!this._attached){var t=this,n=e(this.options.close_link);this._attached=!0,this.overflow_scroll="scroll"===this.$elem.css("overflow"),this.$elem.on("close.modal_dialog",function(){t.close()}),this.$elem.on("size_change.modal_dialog",function(){t._on_size_changed()}),this.$elem.on("prevent_close.modal_dialog",function(){t._set_prevent_close(!0)}),this.$elem.on("allow_close.modal_dialog",function(){t._set_prevent_close(!1)}),e(window).on("resize.modal_dialog",function(){t._on_size_changed()}),n.on("click.modal_dialog",function(e){-1!==n.index(e.target)&&(t.close(e),e.preventDefault())}),this.$elem.keydown(function(e){27===e.keyCode&&(t.close(e),e.preventDefault())})}},_detach:function(){this._attached=!1,e(this.options.close_link).off("click.modal_dialog"),this.$elem.off("size_change.modal_dialog"),e(window).off("resize.modal_dialog")},_bind_parent_modal:function(){this.$parent_modal=e([]),this.$elem.on("before_close.modal_dialog",function(){var t=e(this).data("modal_dialog").$parent_modal;t.show(),t=e([])})},_on_size_changed:function(e){var t=this.$elem.find("div.modal_dialog_inner");!this.overflow_scroll&&t.height()>this._get_viewport_height()?this._resize_to_position_absolute(e):this._resize_to_position_fixed()},_resize_to_position_fixed:function(){this._apply_original_css()},_resize_to_position_absolute:function(t){var n=e(document).height(),i=document.documentElement&&document.documentElement.scrollTop||e("body")[0].scrollTop+e("html")[0].scrollTop,r=this.$elem.find("div.modal_dialog_inner"),a=r.height(),s=this.options.scroll_margin,o=i+a+2*s,l=o>n?o:n,u=l-i-a-2*s,c="absolute"===this.$elem.css("position");this.$elem.css("position","absolute"),this.$elem.css("top","0"),this.$elem.css("height",n),c&&!t||(r.css("margin-top",i+s),r.css("margin-bottom",u))},_remember_original_css:function(){this._elem_original_css={},this._inner_original_css={};var t=this.$elem.find("div.modal_dialog_inner"),n=["position","top"],i=["margin-top","margin-bottom"],r=this;e.each(n,function(e){var t=n[e];r._elem_original_css[t]=r.$elem.css(t)}),e.each(i,function(e){var n=i[e];r._inner_original_css[n]=t.css(n)})},_get_viewport_height:function(){return o.default.msie?window.document.documentElement.clientHeight:window.innerHeight},_apply_original_css:function(){var e,t,n=this.$elem.find("div.modal_dialog_inner");for(e in this._elem_original_css)this._elem_original_css.hasOwnProperty(e)&&(t=this._elem_original_css[e],this.$elem.css(e,t));for(e in this._inner_original_css)this._inner_original_css.hasOwnProperty(e)&&(t=this._inner_original_css[e],n.css(e,t));this.$elem.css("height","100%")},_set_prevent_close:function(e){this.prevent_close=e,e?this.$close_a.hide():this.$close_a.show()},open:function(){var t=this.$elem.parents("body");t.length&&t.append(this.$elem),this.options.ignore_parent||(this.$parent_modal=e(".modal_dialog:visible"),this.$parent_modal.hide()),this.$elem.show(),this._on_size_changed(!0),this.overflow_scroll&&e("html").css("overflow","hidden"),this.$elem.trigger("modal_dialog:opened",[this]),this._attach()},close:function(t){this.prevent_close||(this.$elem.trigger("before_close.modal_dialog",[t]),t&&t.isDefaultPrevented()||(this._detach(),this.options.do_not_cache?this.$elem.remove():this.$elem.hide(),this.overflow_scroll&&e("html").css("overflow","scroll"),this.$elem.trigger("closed.modal_dialog",[t])))}}),e.modal_confirm=function(t,n){var i,r,a,s={message:u.default.t("library.modal_dialog.Do_you_really_want_to_do_this"),confirm_text:u.default.t("library.modal_dialog.Confirm"),cancel_text:u.default.t("library.modal_dialog.Cancel"),title:u.default.t("library.modal_dialog.Are_you_sure")};n=e.extend({},s,n),i='<div style="max-width:600px;">'+n.message+'<p class="clearfix"><a class="confirm btn btn--blue left" href="#">'+n.confirm_text+'</a><a class="cancel button-space left ml1 lh40 grey-dark" href="#">'+n.cancel_text+"</a></p></div>",r=e.create_modal_dialog(n.title,i),a=r.data("modal_dialog"),r.find(".cancel").click(function(e){e.preventDefault(),a.close()}),r.find(".confirm").click(function(e){e.preventDefault(),t.call(r),a.close()}),a.open()}}(d)},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.formatted_created_at=(0,a.format)("ll",1e3*e.created_at),e.is_recipient=void 0!==r.default&&r.default.get("id")===e.recipient_id,e.sender_is_registered=e.sender.is_registered,e};var i=n(16),r=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(15)},50:function(e,t,n){"use strict";var i=n(0);n(0);!function(e){e.support.transitionEvent=function(){return void 0!==window.TransitionEvent}}(i)},51:function(e,t,n){"use strict";var i=n(2),r=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(0);n(0);!function(e){function t(t,n){this.$elem=t,this.xhr=!1,this.paused=n.paused||!1,this.options=e.extend({threshold:500,trigger_next:"scroll",load_next_after:!1,prepend_next:!1,dataType:"html",extra_params:{},$context:e(window),default_page:1,page_by:function(e){return void 0!==e?e+1:this.default_page},page_param:"page",url:!1},n),this.current_page=this.options.page_by(),this.bind_events()}e.fn.mobius=function(n){return n=n||{},e(this).each(function(){var i=e(this).data("mobius");i||(i=new t(e(this),n),e(this).data("mobius",i))})},e.extend(t.prototype,{bind_events:function(){var t=this;"string"==typeof this.options.trigger_next?(this.options.$context.on(this.options.trigger_next,function(){t.check_for_more()}),t.check_for_more()):this.options.trigger_next.jquery&&this.options.trigger_next.click(function(n){n.preventDefault(),e(this).addClass("loading_next"),t.load_next()})},clear_extra_params:function(){this.options.extra_params={}},add_param:function(e,t){this.options.extra_params[e]=t},set_extra_params:function(e){this.options.extra_params=e},pause:function(){this.paused=!0},play:function(){this.paused=!1},check_for_more:function(){if(!this.paused){this.options.$context.scrollTop()+this.options.$context.height()-this.$elem.offset().top>this.$elem.get(0).scrollHeight-this.options.threshold&&this.load_next()}},load_next:function(){this.load_page(this.options.page_by(this.current_page),this.options.load_next_after,!0)},load_page:function(t,n,i){var a=parseInt(t,10),s=this;isNaN(a)||(n&&n.length||(n=!1),this.xhr||(this.$elem.trigger("mobius:loading_page"),this.xhr=e.ajax({type:"get",dataType:this.options.dataType,url:this.build_paged_url(a),success:function(t){if(s.xhr=!1,"html"===s.options.dataType){var o=e("<div>"+t+"</div>"),l=o.find(".mobius").children();if(!l.length)return void s.$elem.trigger("mobius:error",[r.default.t("library.mobius.No_mobius_found_in_page",{page:a})]);n?n.after(l):s.options.prepend_next?s.$elem.prepend(l):s.$elem.append(l),s.options.trigger_next.jquery&&s.options.trigger_next.removeClass("loading_next"),s.$elem.trigger("mobius:loaded_page",[a,l])}else s.$elem.trigger("mobius:loaded_page",[a,t]);!i&&n||(s.current_page=a)},error:function(){s.xhr=!1}})))},build_paged_url:function(t){var n=window.location.toString().replace(window.location.search,"").replace(window.location.hash,""),i=void 0===this.options.extra_params?"":"string"==typeof this.options.extra_params?this.options.extra_params:e.param(this.options.extra_params),r=/(.*)#$/;r.test(n)&&(n=r.exec(n)[1]),i&&(i="&"+i),this.options.url&&(n=this.options.url);var a=-1!==n.indexOf("?")?"&":"?";return n.toString()+a+this.options.page_param+"="+t+i}})}(a)},54:function(e,t,n){n(0),n(0);!function(e){"use strict";!function(e){function t(t){var n="dragover"===t;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var r=i.dataTransfer;r&&-1!==e.inArray("Files",r.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:i}))&&(i.preventDefault(),n&&(r.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=r,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)}),t.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,i=this,r=t.files[0],a=t.multipart||!e.support.xhrFileUpload,s="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),a&&!t.blob&&this._isInstanceOf("File",r)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),a?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:s,value:t.blob}):e.each(t.files,function(i,r){n.push({name:"array"===e.type(t.paramName)&&t.paramName[i]||s,value:r})})):(i._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(s,t.blob,r.name):e.each(t.files,function(r,a){(i._isInstanceOf("File",a)||i._isInstanceOf("Blob",a))&&n.append("array"===e.type(t.paramName)&&t.paramName[r]||s,a,a.uploadName||a.name)})),t.data=n):(t.contentType=r.type||"application/octet-stream",t.data=t.blob||r),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var r=e.Deferred(),a=r.promise();return n=n||this.options.context||a,!0===t?r.resolveWith(n,i):!1===t&&r.rejectWith(n,i),a.abort=r.promise,this._enhancePromise(a)},_addConvenienceMethods:function(t,n){var i=this,r=function(t){return e.Deferred().resolveWith(i,t).promise()};n.process=function(t,a){return(t||a)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).then(function(){return n.errorThrown?e.Deferred().rejectWith(i,[n]).promise():r(arguments)}).then(t,a)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var i,r,a=this,s=t.files[0],o=s.size,l=t.uploadedBytes,u=t.maxChunkSize||o,c=this._blobSlice,d=e.Deferred(),f=d.promise();return!(!(this._isXHRUpload(t)&&c&&(l||u<o))||t.data)&&(!!n||(l>=o?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(r=function(){var n=e.extend({},t),f=n._progress.loaded;n.blob=c.call(s,l,l+u,s.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+o,a._initXHRData(n),a._initProgressListener(n),i=(!1!==a._trigger("chunksend",null,n)&&e.ajax(n)||a._getXHRPromise(!1,n.context)).done(function(i,s,u){l=a._getUploadedBytes(u)||l+n.chunkSize,f+n.chunkSize-n._progress.loaded&&a._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=s,n.jqXHR=u,a._trigger("chunkdone",null,n),a._trigger("chunkalways",null,n),l<o?r():d.resolveWith(n.context,[i,s,u])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,a._trigger("chunkfail",null,n),a._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,i])})},this._enhancePromise(f),f.abort=function(){return i.abort()},r(),f)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,i,r){var a=r._progress.total,s=r._response;r._progress.loaded<a&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:a,total:a}),r),s.result=r.result=t,s.textStatus=r.textStatus=n,s.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(e,t,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=e,r.textStatus=i.textStatus=t,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var i,r,a,s,o=this,l=o._getAJAXSettings(n),u=function(){return o._sending+=1,l._bitrateTimer=new o._BitrateTimer,i=i||((r||!1===o._trigger("send",e.Event("send",{delegatedEvent:t}),l))&&o._getXHRPromise(!1,l.context,r)||o._chunkedUpload(l)||e.ajax(l)).done(function(e,t,n){o._onDone(e,t,n,l)}).fail(function(e,t,n){o._onFail(e,t,n,l)}).always(function(e,t,n){if(o._onAlways(e,t,n,l),o._sending-=1,o._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>o._sending)for(var i=o._slots.shift();i;){if("pending"===o._getDeferredState(i)){i.resolve();break}i=o._slots.shift()}0===o._active&&o._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(a=e.Deferred(),this._slots.push(a),s=a.then(u)):(this._sequence=this._sequence.then(u,u),s=this._sequence),s.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(a&&a.rejectWith(l.context,r),u())},this._enhancePromise(s)):u()},_onAdd:function(t,n){var i,r,a,s,o=this,l=!0,u=e.extend({},this.options,n),c=n.files,d=c.length,f=u.limitMultiFileUploads,h=u.limitMultiFileUploadSize,p=u.limitMultiFileUploadSizeOverhead,g=0,m=this._getParamName(u),v=0;if(!d)return!1;if(h&&void 0===c[0].size&&(h=void 0),(u.singleFileUploads||f||h)&&this._isXHRUpload(u))if(u.singleFileUploads||h||!f)if(!u.singleFileUploads&&h)for(a=[],i=[],s=0;s<d;s+=1)g+=c[s].size+p,(s+1===d||g+c[s+1].size+p>h||f&&s+1-v>=f)&&(a.push(c.slice(v,s+1)),r=m.slice(v,s+1),r.length||(r=m),i.push(r),v=s+1,g=0);else i=m;else for(a=[],i=[],s=0;s<d;s+=f)a.push(c.slice(s,s+f)),r=m.slice(s,s+f),r.length||(r=m),i.push(r);else a=[c],i=[m];return n.originalFiles=c,e.each(a||c,function(r,s){var u=e.extend({},n);return u.files=a?s:[s],u.paramName=i[r],o._initResponseObject(u),o._initProgressObject(u),o._addConvenienceMethods(t,u),l=o._trigger("add",e.Event("add",{delegatedEvent:t}),u)}),l},_replaceFileInput:function(t){var n=t.fileInput,i=n.clone(!0),r=n.is(document.activeElement);t.fileInputClone=i,e("<form></form>").append(i)[0].reset(),n.after(i).detach(),r&&i.focus(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?i[0]:t}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,n){var i,r=this,a=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),a.resolve([e])},o=function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){a.resolve(e)}).fail(s)},l=function(){i.readEntries(function(e){e.length?(u=u.concat(e),l()):o(u)},s)},u=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,a.resolve(t._file)):t.file(function(e){e.relativePath=n,a.resolve(e)},s):t.isDirectory?(i=t.createReader(),l()):a.resolve([]),a.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,n)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,i,r=t.prop("webkitEntries")||t.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(i=t.prop("value")))return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",e.Event("change",{delegatedEvent:t}),i)&&n._onAdd(t,i)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),i)&&this._onAdd(t,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,i=t.dataTransfer,r={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i,!1!==n._trigger("drop",e.Event("drop",{delegatedEvent:t}),r)&&n._onAdd(t,r)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=-1!==e.inArray(t,this._specialOptions);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,i=this.element.data();e.each(this.element[0].attributes,function(e,r){var a,s=r.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),a=i[s],t._isRegExpOption(s,a)&&(a=t._getRegExp(a)),n[s]=a)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,r=this,a=e.Deferred(),s=a.promise();return s.abort=function(){return i=!0,n?n.abort():(a.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){if(!i){if(!e.length)return void a.reject();t.files=e,n=r._onSend(null,t),n.then(function(e,t,n){a.resolve(e,t,n)},function(e,t,n){a.reject(e,t,n)})}}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}(n(0),n(27))}()},55:function(e,t,n){"use strict";var i=n(14),r=n(0);n(0);!function(e){function t(t){t.each(function(){var t=e(this),n=t.find("option:selected");t.siblings(".js-title, .title").text(n.data("altLabel")||n.text())})}e.fn.ksrSelect=function(){var n=e(this);n.find(".js-ksr-select").livequery(function(){t(e(this).find("select"))}),n.on("focus blur",".js-ksr-select select",function(){e(this).parent().toggleClass("is-focus")}),n.on("change",".js-ksr-select select",function(){t(e(this))}),n.on("keydown",".ksr-icon__arrow-down, .ss-delete, .js-filter-arrow, .js-filter-delete",function(t){var n=e(this),r=t.keyCode;r!==i.ENTER&&r!==i.SPACE||(t.preventDefault(),(n.hasClass("ss-delete")||n.hasClass("js-filter-delete"))&&n.parent().find(".ksr-icon__arrow-down, .js-filter-arrow").focus(),n.click())})},e.fn.ksr_val=function(n){var i=e(this);if(void 0!==n){var r=i.val(n);return t(i),r}return i.val()}}(r)},58:function(e,t,n){var i=n(0);n(0);!function(e,t){function n(e,t,n){return e>t&&e<t+n}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||i(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=null,r=!1,a=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,a.widgetName+"-item")===a)return i=e(this),!1}),e.data(t.target,a.widgetName+"-item")===a&&(i=e(t.target)),!!i&&(!(this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,i){var r,a,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(a)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,a,s=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-e(document).scrollTop()<s.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed)),t.pageX-e(document).scrollLeft()<s.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed))),!1!==o&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],(a=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===a?"next":"prev"]()[0]===r||e.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],r))){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),a=this.options.axis,s={};a&&"x"!==a||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,a=e.left,s=a+e.width,o=e.top,l=o+e.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||i+u>o&&i+u<l,f="y"===this.options.axis||t+c>a&&t+c<s,h=d&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:a<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&o<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||n(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||n(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&i,a=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!r&&(this.floating?s&&"right"===s||"down"===a?2:1:a&&("down"===a?2:1))},_intersectsWithSides:function(e){var t=n(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=n(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&i||"left"===a&&!i:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,i,r,a,s=[],o=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(r=e(l[n]),i=r.length-1;i>=0;i--)(a=e.data(r[i],this.widgetFullName))&&a!==this&&!a.options.disabled&&o.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(o.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=o.length-1;n>=0;n--)o[n][0].each(function(){s.push(this)});return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,a,s,o,l,u,c=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=e(f[n]),i=r.length-1;i>=0;i--)(a=e.data(r[i],this.widgetFullName))&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(n=d.length-1;n>=0;n--)for(s=d[n][1],o=d[n][0],i=0,u=o.length;i<u;i++)l=e(o[i]),l.data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,a;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),a=r.offset(),i.left=a.left,i.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)a=this.containers[n].element.offset(),this.containers[n].containerCache.left=a.left,this.containers[n].containerCache.top=a.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var r,a,s,o,l,u,c,d,f,h,p=null,g=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(p&&e.contains(this.containers[r].element[0],p.element[0]))continue;p=this.containers[r],g=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",t,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(s=1e4,o=null,h=p.floating||i(this.currentItem),l=h?"left":"top",u=h?"width":"height",c=this.positionAbs[l]+this.offset.click[l],a=this.items.length-1;a>=0;a--)e.contains(this.containers[g].element[0],this.items[a].item[0])&&this.items[a].item[0]!==this.currentItem[0]&&(h&&!n(this.positionAbs.top+this.offset.click.top,this.items[a].top,this.items[a].height)||(d=this.items[a].item.offset()[l],f=!1,Math.abs(d-c)>Math.abs(d+this.items[a][u]-c)&&(f=!0,d+=this.items[a][u]),Math.abs(d-c)<s&&(s=Math.abs(d-c),o=this.items[a],this.direction=f?"up":"down")));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[g].element,!0),this._trigger("change",t,this._uiHash()),this.containers[g]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",t,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,a=t.pageX,s=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0],a=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:o.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:o.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(i)},61:function(e,t,n){"use strict";n(45);var i=(n(0),n(0));!function(e){function t(t,n){this.$field=t,this.$calendar=void 0,this.options=e.extend({calendar:{},position:"right"},n),this._in_manual_edit=!1,this._blurs_to_ignore=-1,this._attach()}e.fn.datetime_picker_field=function(n){return this.each(function(){new t(e(this),n)})},e.extend(t.prototype,{_attach:function(){var e=this;this.$field.focus(function(){e._in_time_field=!1,e._ensure_calendar()}),this.$field.blur(function(){e._hide_calendar_or_refocus(),e._blurs_to_ignore-=1}),e.$field.bind("keypress cut paste input",function(){e._handle_edit()})},_ensure_calendar:function(){if(this.$calendar)return this.$calendar;var t=this,n=e("<div></div>"),i=e.extend({selected_date:this.get_selected_datetime()},this.options.calendar);return this.options.class_name?n.addClass(this.options.class_name):(n.css("position","absolute"),n.css("z-index",1e3)),"bottom"===this.options.position?(n.css("left",this.$field.offset().left),n.css("top",this.$field.offset().top+this.$field.outerHeight()+20)):(n.css("left",this.$field.offset().left+this.$field.width()+20),n.css("top",this.$field.offset().top)),n.hide(),this._get_surrounding_element().append(n),n.calendar_date_picker(i),n.mousedown(function(){t._in_time_field=!1,t._blurs_to_ignore+=1}),n.find("label").mousedown(function(e){t._in_time_field=!0,t._blurs_to_ignore+=1,e.stopPropagation()}),n.find("input").blur(function(){t._hide_calendar_or_refocus(),t._blurs_to_ignore-=1}),t._blurs_to_ignore=0,n.bind("calendar_date_picker:date_selected",function(e,n){if(!t._in_manual_edit){var i=t.options.format_callback(n);i!==t.$field.val()&&(t.$field.val(i),t.$field.trigger("input"),t.options.calendar.time_text||(t._hide_calendar(),t._focus_next()))}}),n.find(".time input").bind("keydown",function(n){13===n.keyCode&&(e(this).blur(),t._hide_calendar())}),this.$calendar=n,n.fadeIn(),this.options.open_calendar_callback&&this.options.open_calendar_callback(),this.$calendar},_hide_calendar:function(){this.$calendar&&(this.$calendar.fadeOut(function(){e(this).remove()}),this.$calendar=void 0,this.options.close_calendar_callback&&this.options.close_calendar_callback())},_focus_next:function(){var e=this.$field.parents("form:eq(0)").find(":input"),t=e.index(this.$field);t>-1&&t+1<e.length&&e.eq(t+1).focus()},_reformat_value:function(){this.$field.val(this.options.format_callback(this.get_selected_datetime()))},_hide_calendar_or_refocus:function(){var e=this;this._blurs_to_ignore<=0?(this._hide_calendar(),this._reformat_value()):window.setTimeout(function(){e._in_time_field?e.$calendar&&e.$calendar.length&&e.$calendar.find("input").focus():e.$field.focus()})},_handle_edit:function(){this._in_manual_edit=!0,this.$calendar&&this.$calendar.trigger("calendar_date_picker:select_date",this.get_selected_datetime()),this._in_manual_edit=!1},get_selected_datetime:function(){var e=this.$field.val();return this.options.parse_callback(e)},_get_surrounding_element:function(){return e(this.options.surrounding_element?this.options.surrounding_element:"body")}})}(i)},62:function(e,t,n){var i=n(0);n(0);!function(e){function t(t,i,r){var a=(new Date).getTime();return t.find("label,input,textarea,select").each(function(t,s){n(e(s),a,i,r)}),t.removeClass("template").show()}function n(t,n,r,a){var s=r.pattern||i,o=new RegExp("_"+s+"_"),l=new RegExp("\\["+s+"\\]");t.attr("id")&&t.attr("id",t.attr("id").replace(o,"_"+n+"_")),t.attr("for")&&t.attr("for",t.attr("for").replace(o,"_"+n+"_")),t.attr("name")&&(r.copy_values&&t.val(e('[name="'+t.attr("name")+'"]').val()),t.attr("name",t.attr("name").replace(l,"["+n+"]"))),"function"==typeof a&&a.apply(t,t)}var i="-1";e.fn.clone_form_template=function(n,i){return n||(n={}),e(this).map(function(){return t(e(this).clone(),n,i)[0]})}}(i)},63:function(e,t,n){function i(e,t){var n=r(e),i=r(t);return n.getTime()===i.getTime()}var r=n(48);e.exports=i},64:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(5),a=i(r),s=n(8),o=i(s),l=n(2),u=i(l);n(122),n(123),n(54);var c=(n(0),n(0)),d=function(e,t){var n=this;this.options=c.extend({},this.default_options,t),Object.keys(this.constructor.decorator).forEach(function(e){var i=[n.constructor.decorator[e]];"function"==typeof t[e]&&i.push(t[e]),n.options[e]=function(){for(var e=0;e<i.length;e+=1)i[e].apply(n,arguments)}}),this.$input=e,this.$form=e.closest("form"),this.$container=e.closest(".js-asset-upload"),this.uploading_files=[]};d.prototype.raise=function(e){this.$input.trigger("error"),this.$form.trigger("ksr_file_upload:reset"),(0,o.default)({error:e}),this.$container.removeClass("uploading")},d.prototype.default_options={type:"POST",dataType:"text",mimeTypes:[],paramsUrl:null},d.prototype.identifier_for_file=function(e){return e.name+e.size+e.type+e.lastModified},d.decorator={},d.decorator.add=function(e,t){var n=this,i=t.files[0],r=i.name.replace(/\s+/g,"_"),s=this.identifier_for_file(i);if(this.options.mimeTypes&&this.options.mimeTypes.length>0&&this.options.mimeTypes.indexOf(i.type)<0)return this.raise(u.default.t("library.adhoc_fileuploader.This_is_not_a_valid_file_type")),!1;this.options.paramsUrl?c.ajax({url:this.options.paramsUrl,type:"GET",data:{filename:r,filetype:i.type},success:function(e){t.paramName="file",t.formData=a.default.map(e.params,function(e,t){return{name:t,value:e}}),t.submit(),n.uploading_files.push(s)},error:function(){n.raise(u.default.t("library.adhoc_fileuploader.Theres_something_wrong_with_the_filename_Please",{file_name:i.name}))}}):(t.submit(),this.uploading_files.push(s))},d.decorator.done=function(e,t){var n=t.files[0],i=this.identifier_for_file(n);this.uploading_files=this.uploading_files.filter(function(e){return e!==i}),this.uploading_files.length||(this.$container.removeClass("uploading"),window.onbeforeunload=this.previous_onbeforeunload)},d.decorator.submit=function(){this.$container.addClass("uploading"),this.previous_onbeforeunload=window.onbeforeunload;var e=this;window.onbeforeunload=function(){if(e.$container.hasClass("uploading"))return u.default.t("library.adhoc_fileuploader.Your_upload_has_not_completed_yet_Click_Stay")}},d.decorator.progress=function(e,t){var n=this.$container.find(".progress"),i=n.filter(".tmpl");if(i.length){var r=t.formData[2].value.replace(/[^\w-_+]/g,"_");n=this.$container.find("."+r),n.length||(n=i.clone().addClass(r).removeClass("tmpl"),c(".progress:last").after(n))}var a=parseInt(t.loaded/t.total*100,10);n.find(".bar").css("width",a+"%"),n.find(".percentage").text(a+"%"),100===a&&(n.addClass("finished"),n.find(".percentage").text(u.default.t("library.adhoc_fileuploader.Processing")))},d.decorator.fail=function(){this.raise(u.default.t("library.adhoc_fileuploader.There_was_an_error_with_this_file_Please_try_a_different"))},c.fn.adhoc_fileuploader=function(e){c(this).each(function(){var t=new d(c(this),e);c(this).fileupload(t.options)})}},66:function(e,t,n){"use strict";var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i);n(55),(0,r.default)(function(){(0,r.default)(document).ksrSelect()})},67:function(e,t,n){"use strict";var i=n(124),r=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(0);n(0);!function(e){function t(e,t){return r.default.pageX(e)-t.offset().left}e.fn.draggable_bar=function(n,i){return i||(i=n,n=null),this.each(function(){var r=e(this),a=null,s=0;r.on("mousedown touchstart",n,function(n){var i=e(n.target);a=n.target,s=t(n,i)}),r.on("mousedown touchstart mousemove touchmove",n,function(e){var n;a&&(n=t(e,r)/r.width())>0&&n<1&&i(n,a,s)}),e(document).on("mouseup touchend",function(){a=null})})}}(a)},71:function(e,t,n){var i=n(0);n(0);!function(e){function t(t,n){this.$elem=t,this.$form=t.closest("form"),this.options=e.extend({delay:400,minimum_characters:3,serialize:this.$form,client_side_cache:!0,process_data:!1,dataType:"json"},n),this.url=this.options.url||this.$form.attr("action"),this.options.file_extension?this.ajax_url=this.ensure_file_extension(this.options.file_extension):this.ajax_url=this.url,this.last_search=!1,this.search_xhr=!1,this.options.client_side_cache?this.cache={}:this.cache=!1,this.active=!0,this._attach()}var n;e.fn.livesearch=function(n){return n=n||{},e(this).each(function(){var i=e(this).data("livesearch");i||(i=new t(e(this),n),e(this).data("livesearch",i))})},e.extend(t.prototype,{_attach:function(){var e=this;this.$elem.attr("autocomplete","off"),this.$elem.on("keypress cut paste input",function(){e.active&&(clearTimeout(n),n=setTimeout(function(){e.search()},e.options.delay))}),this.options.process_data||this.options.serialize.on("change",function(){e.search()}),this.$elem.on("livesearch:suspend",function(){e.active=!1}),this.$elem.on("livesearch:activate",function(){e.active=!0}),this.$elem.on("livesearch:cancel",function(){e.search_xhr&&e.search_xhr.abort(),e.last_search=!1})},ensure_file_extension:function(e){var t=window.location.host.replace(/[^\w\d]/g,function(e){return"\\"+e}),n=new RegExp("((?:"+t+")?[^\\.$#\\?]+)(\\.\\w*|)($|#|\\?)");return this.url.replace(n,function(t,n,i,r){return n+"."+e+r})},suspend_while:function(e){this.active=!1,e();var t=this;setTimeout(function(){t.active=!0},100)},search:function(){var t=this,n=this.options.serialize.serialize();this.options.process_data&&"object"==typeof(n=this.options.process_data.apply(this,[n]))&&(n=e.param(n)),n!==this.last_search&&(this.$elem.val().length<this.options.minimum_characters||(this.search_xhr&&this.search_xhr.abort(),this.cache&&this.cache[n]&&"function"!=typeof this.cache[n]?this.$elem.trigger("livesearch:results",[this.cache[n]]):(this.$elem.trigger("livesearch:searching"),this.$elem.addClass("searching"),this.search_xhr=e.ajax({type:"get",url:this.ajax_url,dataType:this.options.dataType,data:n,global:!1,success:function(e){null!==e&&(t.$elem.trigger("livesearch:results",[e]),t.$elem.removeClass("searching"),t.cache&&(t.cache[n]=e))},error:function(){t.$elem.trigger("livesearch:ajax_error"),t.$elem.removeClass("searching")},statusCode:{304:function(){}}})),this.last_search=n))}})}(i)},72:function(e,t,n){var i=n(0);n(0);!function(e){function t(t,n){this.$elem=t,this.options=e.extend({update_input:!0,no_results_html:"Sorry, we couldn't find anything.",ignore_history:!0,process_results:function(e){return e}},n);var i=this.$elem.closest(".field_with_icon"),r=e([]);r=i.length?i.siblings(".results"):this.$elem.siblings(".results"),r.length?(this.$results=r,this.$results.find("div.no_results").remove()):(this.$results=e('<div class="results"></div>'),i.length?i.after(this.$results):this.$elem.after(this.$results)),this.$results.find("ul.result_list").length||this.$results.append('<ul class="result_list"></ul>'),this.$no_results=e('<div class="no_results">'+this.options.no_results_html+"</div>"),this.$no_results.hide(),this.$results.append(this.$no_results),this.handle_optional_content(),this.livesearch=t.livesearch(this.options).data("livesearch"),this._attach()}var n={UP:38,DOWN:40,DEL:46,TAB:9,ENTER:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};e.fn.livesearch_input_dropdown=function(n){return n=n||{},e(this).each(function(){var i=e(this).data("livesearch.input_dropdown");i||(i=new t(e(this),n),e(this).data("livesearch.input_dropdown",i))})},e.extend(t.prototype,{_attach:function(){var e=this;this.$elem.on("livesearch:results",function(t,n){e.options.process_results&&(n=e.options.process_results(n)),e.show_results(n),e.push_history(n)}),this.bind_results(),this.bind_popstate(),this.$elem.on("keydown.autocomplete",function(t){var i,r,a,s=!!e.$results.find(".selected").length;switch(t.keyCode){case n.UP:s?(i=e.$results.find(".selected").prev(":not(.not_result)"),i.length||(i=e.$results.find("li:not(.not_result)").last()),e.select(i,!1)):e.select(e.$results.find("li:not(.not_result)").last(),!1),t.preventDefault();break;case n.DOWN:s?(r=e.$results.find(".selected").next(":not(.not_result)"),r.length||(r=e.$results.find("li:not(.not_result)").first()),e.select(r,!1)):e.select(e.$results.find("li:not(.not_result)").first(),!1),t.preventDefault();break;case n.ENTER:a=e.$results.find(".selected"),e.input_can_submit()||t.preventDefault(),a.length&&(t.preventDefault(),e.select(a,!0))}})},history_api_supported:function(){return window.history&&window.history.pushState},bind_popstate:function(){if(this.history_api_supported()&&!this.options.ignore_history){var e=this;this.replacing_history_state=!1,window.onpopstate=function(t){t.state&&t.state.livesearch?(e.show_results(t.state.livesearch.results),e.livesearch.suspend_while(function(){e.$elem.val(t.state.livesearch.input_value).trigger("input")})):e.reset(!0)}}},input_can_submit:function(){var e=this.livesearch.search_xhr.readyState,t=e>0&&e<4;return this.options.input_can_submit_on_enter&&!t&&this.$elem.is(":focus")},bind_results:function(){var t=this;this.$results.find("li").on("click",function(n){t.select(e(this),!0),n.preventDefault()}),this.$results.find("li").on("mouseover",function(){t.select(e(this)),t.unselect_on_mouseout=!0}),this.$results.on("mouseout",function(){t.unselect_on_mouseout&&t.unselect_currently_selected()}),this.$elem.on("livesearch:reveal_results",function(){t.reveal_results()})},build_result_names_list:function(t){var n=[],i=this;return e.each(t,function(e,t){i.options.return_name_from_result?t=i.options.return_name_from_result(t):"string"!=typeof t&&(t=t[0]),n.push(t)}),n},show_results:function(t){var n,i,r,a=this.$results.children("ul"),s=e([]);t.results&&(r=t,t=t.results),this.unselect_currently_selected(),a.empty(),t.length?(this.$no_results.hide(),a.show()):(this.$no_results.show(),a.hide()),n=this.build_result_names_list(t),e.each(n,function(n,i){var r=e("<li>"+i+"</li>");r.data("livesearch_result",t[n]),a.append(r)}),r&&r.count>t.length&&(i="see all "+r.count+" results",s=e("<a>").attr({href:this.livesearch.url+"?"+this.livesearch.last_search,title:i,class:"see_all not_result"}).html(i).wrap("<li>"),a.append(s)),this.bind_results(),this.reveal_results()},push_history:function(e){if(this.history_api_supported()&&!this.options.ignore_history){"string"==typeof e&&(e=JSON.parse(e));var t={livesearch:{input_value:this.$elem.val(),results:e}};this.replacing_history_state?(history.replaceState(t),this.replacing_history_state=!1):history.pushState(t,"","?"+this.livesearch.last_search)}},reveal_results:function(){var t=this;this.$results.slideDown(function(){e(window).resize(),t.$results.trigger("sticky_bar:fix_to_bottom"),t.$results.trigger("shifted"),t.$results.trigger("livesearch:revealed_results")})},reset:function(e){this.$results.hide(),this.$elem.val(""),e&&this.$results.children("ul.result_list").html("")},unselect_currently_selected:function(){var e=this.$results.children("ul"),t=e.children("li.selected");t.trigger("livesearch:unselect"),t.removeClass("selected"),this.unselect_on_mouseout=!1},select:function(e,t){var n=this;e.is(".not_result")||(this.unselect_currently_selected(),e.addClass("selected"),this.options.update_input&&this.livesearch.suspend_while(function(){n.$elem.val(e.text()),n.$elem.focus()}),e.trigger("livesearch:soft_select"),t&&e.trigger("livesearch:selected",[e.data("livesearch_result")]))},handle_optional_content:function(){this.options.prepend&&this.$results.prepend(this.options.prepend)}})}(i)},73:function(e,t,n){var i=n(0);n(0);!function(e){e.fn.livesearch_pretty_input_dropdown=function(t){return t=t||{},e(this).each(function(){function n(){this.value?o.show():o.hide()}function i(){s.val(""),s.trigger("livesearch:cancel").trigger("livesearch:close_results")}var r,a=e(this),s=a.find("input[type=text]"),o=a.find(".ss-delete"),l=s.siblings(".ss-search");s.livesearch_input_dropdown(e.extend(t,{update_input:!1})),r=s.data("livesearch.input_dropdown"),n.call(s[0]),s.on("keypress cut paste input livesearch:close_results blur",n),s.on("livesearch:searching",function(){l.removeClass("ss-search").addClass("icon-loading-small")}),s.on("livesearch:results livesearch:ajax_error",function(){l.removeClass("icon-loading-small").addClass("ss-search")}),s.on("livesearch:results",function(){if(!t.input_can_submit_on_enter){var e=s.siblings(".results");r.select(e.find("li:first"))}}),o.on("click",function(){s.focus(),i()}),s.on("livesearch:close_results",function(){s.siblings(".results").slideUp(function(){e(window).resize(),e(this).trigger("sticky_bar:fix_to_bottom")})}),s.on("blur",function(){s.val().length<3&&i()})})}}(i)},74:function(e,t,n){var i=n(0);n(0);!function(e){e.fn.livesearch_navigator=function(t){return t=t||{},e(this).each(function(){var n=e(this);n.livesearch_pretty_input_dropdown(t),n.on("livesearch:selected",function(e,t){t&&(window.location=t[1])})})}}(i)},75:function(e,t,n){var i=n(0);n(0);!function(e){e.fn.livesearch_selector=function(t){return t=e.extend({url:!1,cancel_copy:"Cancel",target_input:!1},t),e(this).each(function(){function n(){a.hide(),a.attr("disabled","disabled"),a.siblings(".ss-delete, .ss-search").hide();var n=e('<div class="field-selected"><span class="value">'+a.val()+'</span><a class="ss-icon ss-delete cancel-link" href="#">'+t.cancel_copy+"</a></div>");a.siblings("div.field-selected").remove(),a.after(n),a.siblings(".results").slideUp(),a.trigger("livesearch_selector:select",[a.val()]),n.find("a.cancel-link").click(function(e){e.preventDefault(),a.val(""),n.remove(),a.removeAttr("disabled"),a.siblings(".ss-delete, .ss-search").show(),a.show(),a.focus(),s.val(""),a.trigger("dirty"),a.trigger("livesearch_selector:unselect")})}var i,r=e(this),a=r.find('input[type="text"]'),s=t.target_input||r.find('input[type="hidden"]'),o=a.siblings(".ss-search");r.addClass("search"),s.val()&&a.val()&&n(),t.url=t.url||r.closest("form").attr("action"),r.livesearch_pretty_input_dropdown(t),i=a.data("livesearch.input_dropdown"),a.on("livesearch:searching",function(){o.removeClass("ss-search").addClass("icon-loading-small")}),a.on("livesearch:results livesearch:ajax_error",function(){o.removeClass("icon-loading-small").addClass("ss-search")}),a.on("livesearch:results",function(){var e=a.siblings(".results");i.select(e.find("li:first"))}),r.on("livesearch:selected",function(e,t){t&&(a.val(t[0]),s.val(t[1]),n())})})}}(i)},76:function(e,t,n){var i=n(0);n(0);!function(e){e.fn.livesearch_multi_selector=function(t){return t=e.extend({url:!1,cancel_copy:"Remove",sortable:!1,update_input:!1},t),e(this).each(function(){function n(n){var i=e('<a class="ss-icon ss-delete cancel-link" href="#">'+t.cancel_copy+"</a>");n.append(i)}function i(){s.val(""),a.siblings(".results").slideUp(),s.trigger("livesearch:cancel")}var r=e(this),a=r.find(".field_with_icon"),s=a.find("input.text"),o=r.find("ol.search-selected,ul.search-selected"),l=s.siblings(".ss-search"),u=r.find(".template"),c=t;c.url=t.url||r.closest("form").attr("action"),s.livesearch_input_dropdown(c),t.sortable&&o.sortable({containment:"document",axis:"y",update:function(){o.find("input.position").each(function(t){e(this).val(t)})}}),r.addClass("search"),o.find("li").each(function(){n(e(this))}),r.on("click","a.cancel-link",function(t){var n=e(this).closest("li"),i=n.find(".destroy");t.preventDefault(),n.fadeOut(function(){i.length?i.val("1"):n.remove()})}),s.on("livesearch:searching",function(){l.removeClass("ss-search").addClass("icon-loading-small")}),s.on("livesearch:results livesearch:ajax_error",function(){l.removeClass("icon-loading-small").addClass("ss-search")}),r.on("livesearch:selected",function(n,r){if(r){var a=u.clone_form_template();a.find("input.destroy").val(!1),a.find(".name").html(r[0]),a.find(".value").val(r[1]),o.append(a),t.sortable&&o.find("input.position").each(function(t){e(this).val(t)}),i()}})})}}(i)},77:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.initProjectCardClickedTracking=t.initProjectCardTracking=t.trackProjectCards=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(a);n(11);var o=n(7),l=n(6),u=n(22),c=[],d=function(e){(0,o.track)("Viewed Project Card",e.data,{withoutCurrentProject:!0}),e.viewed=!0},f=function(e){var t=(0,s.default)(e.element),n=window.scrollY+window.innerHeight,i=t.offset().top+t.height()/2;return n>i&&i>0&&!e.viewed},h=function(e){var t=(0,s.default)(e).parent(),n=(0,s.default)(e).closest(".js-project-group").find(".js-track-project-card"),i=n.first().parent().siblings().length+1;return{position_in_row:t.index()+1,row_total:t.siblings().length+1,row_number:Math.ceil((n.index((0,s.default)(e))+1)/i)}},p=function(e){return u.maybe.fromNullable(e.dataset).map(function(e){return["section","model_name","raw_score","weighted_score","project_state","project_pid","project_backers_count","project_percent_raised","project_pledged","user_is_backer","user_has_starred"].reduce(function(t,n){return r({},t,i({},n,e[n]||""))},{})}).map(function(t){return r({},t,h(e))}).getOrElse({})};t.trackProjectCards=function(){c.filter((0,l.compose)(l.isFalse,(0,l.prop)("viewed"))).filter((0,l.compose)(l.isFalse,(0,l.prop)("hidden"))).filter(f).forEach(d)},t.initProjectCardTracking=function(e){e.forEach(function(e){return(0,s.default)(e).livequery(function(){c=c.concat({data:p(this),hidden:(0,s.default)(this).parent().hasClass("hide"),element:this,viewed:!1})})})},t.initProjectCardClickedTracking=function(e,t,n){var i=r({},p(e),n);(0,s.default)(e).find("a").each(function(e,n){return(0,o.trackLinks)(n,t,i,{withoutCurrentProject:!0})})}},78:function(e,t,n){var i=(n(0),n(0),function(){function e(){if(!W&&document.getElementsByTagName("body")[0]){try{var e,t=_("span");t.style.display="none",e=N.getElementsByTagName("body")[0].appendChild(t),e.parentNode.removeChild(e),e=null,t=null}catch(e){return}W=!0;for(var n=$.length,i=0;i<n;i++)$[i]()}}function t(e){W?e():$[$.length]=e}function n(e){if(typeof O.addEventListener!=k)O.addEventListener("load",e,!1);else if(typeof N.addEventListener!=k)N.addEventListener("load",e,!1);else if(typeof O.attachEvent!=k)b(O,"onload",e);else if("function"==typeof O.onload){var t=O.onload;O.onload=function(){t(),e()}}else O.onload=e}function r(){var e=N.getElementsByTagName("body")[0],t=_(I);t.setAttribute("style","visibility: hidden;"),t.setAttribute("type",R);var n=e.appendChild(t);if(n){var i=0;!function r(){if(typeof n.GetVariable!=k)try{var s=n.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),Y.pv=[y(s[0]),y(s[1]),y(s[2])])}catch(e){Y.pv=[8,0,0]}else if(i<10)return i++,void setTimeout(r,10);e.removeChild(t),n=null,a()}()}else a()}function a(){var e=B.length;if(e>0)for(var t=0;t<e;t++){var n=B[t].id,i=B[t].callbackFn,r={success:!1,id:n};if(Y.pv[0]>0){var a=v(n);if(a)if(!w(B[t].swfVersion)||Y.wk&&Y.wk<312)if(B[t].expressInstall&&o()){var c={};c.data=B[t].expressInstall,c.width=a.getAttribute("width")||"0",c.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(c.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(c.align=a.getAttribute("align"));for(var d={},f=a.getElementsByTagName("param"),h=f.length,p=0;p<h;p++)"movie"!=f[p].getAttribute("name").toLowerCase()&&(d[f[p].getAttribute("name")]=f[p].getAttribute("value"));l(c,d,n,i)}else u(a),i&&i(r);else x(n,!0),i&&(r.success=!0,r.ref=s(n),r.id=n,i(r))}else if(x(n,!0),i){var g=s(n);g&&typeof g.SetVariable!=k&&(r.success=!0,r.ref=g,r.id=g.id),i(r)}}}function s(e){var t=null,n=v(e);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(t=typeof n.SetVariable!==k?n:n.getElementsByTagName(I)[0]||n),t}function o(){return!U&&w("6.0.65")&&(Y.win||Y.mac)&&!(Y.wk&&Y.wk<312)}function l(e,t,n,i){var r=v(n);if(n=m(n),U=!0,S=i||null,D={success:!1,id:n},r){"OBJECT"==r.nodeName.toUpperCase()?(C=c(r),P=null):(C=r,P=n),e.id=M,(typeof e.width==k||!/%$/.test(e.width)&&y(e.width)<310)&&(e.width="310"),(typeof e.height==k||!/%$/.test(e.height)&&y(e.height)<137)&&(e.height="137");var a=Y.ie?"ActiveX":"PlugIn",s="MMredirectURL="+encodeURIComponent(O.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+a+"&MMdoctitle="+encodeURIComponent(N.title.slice(0,47)+" - Flash Player Installation");if(typeof t.flashvars!=k?t.flashvars+="&"+s:t.flashvars=s,Y.ie&&4!=r.readyState){var o=_("div");n+="SWFObjectNew",o.setAttribute("id",n),r.parentNode.insertBefore(o,r),r.style.display="none",p(r)}f(e,t,n)}}function u(e){if(Y.ie&&4!=e.readyState){e.style.display="none";var t=_("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(c(e),t),p(e)}else e.parentNode.replaceChild(c(e),e)}function c(e){var t=_("div");if(Y.win&&Y.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(I)[0];if(n){var i=n.childNodes;if(i)for(var r=i.length,a=0;a<r;a++)1==i[a].nodeType&&"PARAM"==i[a].nodeName||8==i[a].nodeType||t.appendChild(i[a].cloneNode(!0))}}return t}function d(e,t){var n=_("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+t+"</object>",n.firstChild}function f(e,t,n){var i,r=v(n);if(n=m(n),Y.wk&&Y.wk<312)return i;if(r){var a,s,o,l=_(Y.ie?"div":I);typeof e.id==k&&(e.id=n);for(o in t)t.hasOwnProperty(o)&&"movie"!==o.toLowerCase()&&h(l,o,t[o]);Y.ie&&(l=d(e.data,l.innerHTML));for(a in e)e.hasOwnProperty(a)&&(s=a.toLowerCase(),"styleclass"===s?l.setAttribute("class",e[a]):"classid"!==s&&"data"!==s&&l.setAttribute(a,e[a]));Y.ie?z[z.length]=e.id:(l.setAttribute("type",R),l.setAttribute("data",e.data)),r.parentNode.replaceChild(l,r),i=l}return i}function h(e,t,n){var i=_("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function p(e){var t=v(e);t&&"OBJECT"==t.nodeName.toUpperCase()&&(Y.ie?(t.style.display="none",function e(){if(4==t.readyState){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}else setTimeout(e,10)}()):t.parentNode.removeChild(t))}function g(e){return e&&e.nodeType&&1===e.nodeType}function m(e){return g(e)?e.id:e}function v(e){if(g(e))return e;var t=null;try{t=N.getElementById(e)}catch(e){}return t}function _(e){return N.createElement(e)}function y(e){return parseInt(e,10)}function b(e,t,n){e.attachEvent(t,n),H[H.length]=[e,t,n]}function w(e){e+="";var t=Y.pv,n=e.split(".");return n[0]=y(n[0]),n[1]=y(n[1])||0,n[2]=y(n[2])||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function A(e,t,n,i){var r=N.getElementsByTagName("head")[0];if(r){var a="string"==typeof n?n:"screen";if(i&&(j=null,T=null),!j||T!=a){var s=_("style");s.setAttribute("type","text/css"),s.setAttribute("media",a),j=r.appendChild(s),Y.ie&&typeof N.styleSheets!=k&&N.styleSheets.length>0&&(j=N.styleSheets[N.styleSheets.length-1]),T=a}j&&(typeof j.addRule!=k?j.addRule(e,t):typeof N.createTextNode!=k&&j.appendChild(N.createTextNode(e+" {"+t+"}")))}}function x(e,t){if(V){var n=t?"visible":"hidden",i=v(e);W&&i?i.style.visibility=n:"string"==typeof e&&A("#"+e,"visibility:"+n)}}function E(e){return null!=/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!=k?encodeURIComponent(e):e}var C,P,S,D,j,T,k="undefined",I="object",R="application/x-shockwave-flash",M="SWFObjectExprInst",O=window,N=document,L=navigator,F=!1,$=[],B=[],z=[],H=[],W=!1,U=!1,V=!0,q=!1,Y=function(){var e=typeof N.getElementById!=k&&typeof N.getElementsByTagName!=k&&typeof N.createElement!=k,t=L.userAgent.toLowerCase(),n=L.platform.toLowerCase(),i=/win/.test(n?n:t),r=/mac/.test(n?n:t),a=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),s="Microsoft Internet Explorer"===L.appName,o=[0,0,0],l=null;if(typeof L.plugins!=k&&typeof L.plugins["Shockwave Flash"]==I)(l=L.plugins["Shockwave Flash"].description)&&typeof L.mimeTypes!=k&&L.mimeTypes[R]&&L.mimeTypes[R].enabledPlugin&&(F=!0,s=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),o[0]=y(l.replace(/^(.*)\..*$/,"$1")),o[1]=y(l.replace(/^.*\.(.*)\s.*$/,"$1")),o[2]=/[a-zA-Z]/.test(l)?y(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof O.ActiveXObject!=k)try{var u=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");u&&(l=u.GetVariable("$version"))&&(s=!0,l=l.split(" ")[1].split(","),o=[y(l[0]),y(l[1]),y(l[2])])}catch(e){}return{w3:e,pv:o,wk:a,ie:s,win:i,mac:r}}();!function(){Y.w3&&((typeof N.readyState!=k&&("complete"===N.readyState||"interactive"===N.readyState)||typeof N.readyState==k&&(N.getElementsByTagName("body")[0]||N.body))&&e(),W||(typeof N.addEventListener!=k&&N.addEventListener("DOMContentLoaded",e,!1),Y.ie&&(N.attachEvent("onreadystatechange",function t(){"complete"==N.readyState&&(N.detachEvent("onreadystatechange",t),e())}),O==top&&function t(){if(!W){try{N.documentElement.doScroll("left")}catch(e){return void setTimeout(t,0)}e()}}()),Y.wk&&function t(){if(!W)return/loaded|complete/.test(N.readyState)?void e():void setTimeout(t,0)}()))}();$[0]=function(){F?r():a()};!function(){Y.ie&&window.attachEvent("onunload",function(){for(var e=H.length,t=0;t<e;t++)H[t][0].detachEvent(H[t][1],H[t][2]);for(var n=z.length,r=0;r<n;r++)p(z[r]);for(var a in Y)Y[a]=null;Y=null;for(var s in i)i[s]=null;i=null})}();return{registerObject:function(e,t,n,i){if(Y.w3&&e&&t){var r={};r.id=e,r.swfVersion=t,r.expressInstall=n,r.callbackFn=i,B[B.length]=r,x(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){if(Y.w3)return s(e)},embedSWF:function(e,n,i,r,a,s,u,c,d,h){var p=m(n),g={success:!1,id:p};Y.w3&&!(Y.wk&&Y.wk<312)&&e&&n&&i&&r&&a?(x(p,!1),t(function(){i+="",r+="";var t={};if(d&&typeof d===I)for(var m in d)t[m]=d[m];t.data=e,t.width=i,t.height=r;var v={};if(c&&typeof c===I)for(var _ in c)v[_]=c[_];if(u&&typeof u===I)for(var y in u)if(u.hasOwnProperty(y)){var b=q?encodeURIComponent(y):y,A=q?encodeURIComponent(u[y]):u[y];typeof v.flashvars!=k?v.flashvars+="&"+b+"="+A:v.flashvars=b+"="+A}if(w(a)){var E=f(t,v,n);t.id==p&&x(p,!0),g.success=!0,g.ref=E,g.id=E.id}else{if(s&&o())return t.data=s,void l(t,v,n,h);x(p,!0)}h&&h(g)})):h&&h(g)},switchOffAutoHideShow:function(){V=!1},enableUriEncoding:function(e){q=typeof e===k||e},ua:Y,getFlashPlayerVersion:function(){return{major:Y.pv[0],minor:Y.pv[1],release:Y.pv[2]}},hasFlashPlayerVersion:w,createSWF:function(e,t,n){return Y.w3?f(e,t,n):void 0},showExpressInstall:function(e,t,n,i){Y.w3&&o()&&l(e,t,n,i)},removeSWF:function(e){Y.w3&&p(e)},createCSS:function(e,t,n,i){Y.w3&&A(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=N.location.search||N.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return E(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return E(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(U){var e=v(M);e&&C&&(e.parentNode.replaceChild(C,e),P&&(x(P,!0),Y.ie&&(C.style.display="block")),S&&S(D)),U=!1}},version:"2.3"}}())},79:function(e,t,n){var i,r,a;!function(s){"use strict";r=[n(0)],i=s,void 0!==(a="function"==typeof i?i.apply(t,r):i)&&(e.exports=a)}(function(e){"use strict";function t(t){return!t.nodeName||-1!==e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function n(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var i=e.scrollTo=function(t,n,i){return e(window).scrollTo(t,n,i)};return i.defaults={axis:"xy",duration:0,limit:!0},e.fn.scrollTo=function(r,a,s){"object"==typeof a&&(s=a,a=0),"function"==typeof s&&(s={onAfter:s}),"max"===r&&(r=9e9),s=e.extend({},i.defaults,s),a=a||s.duration;var o=s.queue&&s.axis.length>1;return o&&(a/=2),s.offset=n(s.offset),s.over=n(s.over),this.each(function(){function l(t){var n=e.extend({},s,{queue:!0,duration:a,complete:t&&function(){t.call(d,h,s)}});f.animate(p,n)}if(null!==r){var u,c=t(this),d=c?this.contentWindow||window:this,f=e(d),h=r,p={};switch(typeof h){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(h)){h=n(h);break}h=c?e(h):e(h,d);case"object":if(0===h.length)return;(h.is||h.style)&&(u=(h=e(h)).offset())}var g=e.isFunction(s.offset)&&s.offset(d,h)||s.offset;e.each(s.axis.split(""),function(e,t){var n="x"===t?"Left":"Top",r=n.toLowerCase(),a="scroll"+n,m=f[a](),v=i.max(d,t);if(u)p[a]=u[r]+(c?0:m-f.offset()[r]),s.margin&&(p[a]-=parseInt(h.css("margin"+n),10)||0,p[a]-=parseInt(h.css("border"+n+"Width"),10)||0),p[a]+=g[r]||0,s.over[r]&&(p[a]+=h["x"===t?"width":"height"]()*s.over[r]);else{var _=h[r];p[a]=_.slice&&"%"===_.slice(-1)?parseFloat(_)/100*v:_}s.limit&&/^\d+$/.test(p[a])&&(p[a]=p[a]<=0?0:Math.min(p[a],v)),!e&&s.axis.length>1&&(m===p[a]?p={}:o&&(l(s.onAfterFirst),p={}))}),l(s.onAfter)}})},i.max=function(n,i){var r="x"===i?"Width":"Height",a="scroll"+r;if(!t(n))return n[a]-e(n)[r.toLowerCase()]();var s="client"+r,o=n.ownerDocument||n.document,l=o.documentElement,u=o.body;return Math.max(l[a],u[a])-Math.min(l[s],u[s])},e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var n=this.get(t);if(t.options.interrupt&&t._last&&t._last!==n)return e(t.elem).stop();var i=Math.round(t.now);n!==i&&(e(t.elem)[t.prop](i),t._last=this.get(t))}},i})},8:function(e,t,n){"use strict";function i(){u.fadeIn("fast"),l=(0,s.default)(":focus"),u.find(".jGrowl-notification").attr("tabindex",-1).focus()}function r(){u.fadeOut("fast"),l.length&&l.focus()}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(a),o=n(14);n(29);var l,u=(0,s.default)("#growl_section");u.on("click",function(e){var t;(0,s.default)(e.target).is((0,s.default)(this))&&(t=(0,s.default)(this),t.fadeOut("fast"),t.removeClass("sticky"),t.find("div.jGrowl-notification:parent").each(function(){(0,s.default)(this).data("jGrowl")&&((0,s.default)(this).data("jGrowl").sticky=!1)}))}),(0,s.default)(document).on("keydown",function(e){e.which===o.ESC&&u.is(":visible")&&r()});var c=function(e,t){s.default.each(e,function(e,n){void 0===t&&(t={}),"error"===e&&(t.sticky=!0,u.addClass("sticky")),u.jGrowl(n,s.default.extend(t,{theme:e,closeTemplate:'<button class="jGrowl-close-x" aria-label="close notification"><span class="ksr-icon__close" aria-hidden="true"></span></button>',beforeOpen:function(){i()},close:function(){r()}}))})};window.growl=c,t.default=c},80:function(e,t,n){var i,r,a;!function(n,s){"object"==typeof t&&t&&"string"!=typeof t.nodeName?s(t):(r=[t],i=s,void 0!==(a="function"==typeof i?i.apply(t,r):i)&&(e.exports=a))}(0,function(e){function t(e){return"function"==typeof e}function n(e){return g(e)?"array":typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(e,t){return null!=e&&"object"==typeof e&&t in e}function a(e,t){return m.call(e,t)}function s(e){return!a(v,e)}function o(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return _[e]})}function l(t,n){function r(e){if("string"==typeof e&&(e=e.split(b,2)),!g(e)||2!==e.length)throw new Error("Invalid tags: "+e);a=new RegExp(i(e[0])+"\\s*"),o=new RegExp("\\s*"+i(e[1])),l=new RegExp("\\s*"+i("}"+e[1]))}if(!t)return[];var a,o,l,f=[],h=[],p=[],m=!1,v=!1;r(n||e.tags);for(var _,E,C,P,S,D,j=new d(t);!j.eos();){if(_=j.pos,C=j.scanUntil(a))for(var T=0,k=C.length;T<k;++T)P=C.charAt(T),s(P)?p.push(h.length):v=!0,h.push(["text",P,_,_+1]),_+=1,"\n"===P&&function(){if(m&&!v)for(;p.length;)delete h[p.pop()];else p=[];m=!1,v=!1}();if(!j.scan(a))break;if(m=!0,E=j.scan(x)||"name",j.scan(y),"="===E?(C=j.scanUntil(w),j.scan(w),j.scanUntil(o)):"{"===E?(C=j.scanUntil(l),j.scan(A),j.scanUntil(o),E="&"):C=j.scanUntil(o),!j.scan(o))throw new Error("Unclosed tag at "+j.pos);if(S=[E,C,_,j.pos],h.push(S),"#"===E||"^"===E)f.push(S);else if("/"===E){if(!(D=f.pop()))throw new Error('Unopened section "'+C+'" at '+_);if(D[1]!==C)throw new Error('Unclosed section "'+D[1]+'" at '+_)}else"name"===E||"{"===E||"&"===E?v=!0:"="===E&&r(C)}if(D=f.pop())throw new Error('Unclosed section "'+D[1]+'" at '+j.pos);return c(u(h))}function u(e){for(var t,n,i=[],r=0,a=e.length;r<a;++r)(t=e[r])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(i.push(t),n=t));return i}function c(e){for(var t,n,i=[],r=i,a=[],s=0,o=e.length;s<o;++s)switch(t=e[s],t[0]){case"#":case"^":r.push(t),a.push(t),r=t[4]=[];break;case"/":n=a.pop(),n[5]=t[2],r=a.length>0?a[a.length-1][4]:i;break;default:r.push(t)}return i}function d(e){this.string=e,this.tail=e,this.pos=0}function f(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function h(){this.cache={}}var p=Object.prototype.toString,g=Array.isArray||function(e){return"[object Array]"===p.call(e)},m=RegExp.prototype.test,v=/\S/,_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},y=/\s*/,b=/\s+/,w=/\s*=/,A=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},d.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},f.prototype.push=function(e){return new f(e,this)},f.prototype.lookup=function(e){var n,i=this.cache;if(i.hasOwnProperty(e))n=i[e];else{for(var a,s,o=this,l=!1;o;){if(e.indexOf(".")>0)for(n=o.view,a=e.split("."),s=0;null!=n&&s<a.length;)s===a.length-1&&(l=r(n,a[s])),n=n[a[s++]];else n=o.view[e],l=r(o.view,e);if(l)break;o=o.parent}i[e]=n}return t(n)&&(n=n.call(this.view)),n},h.prototype.clearCache=function(){this.cache={}},h.prototype.parse=function(e,t){var n=this.cache,i=n[e];return null==i&&(i=n[e]=l(e,t)),i},h.prototype.render=function(e,t,n){var i=this.parse(e),r=t instanceof f?t:new f(t);return this.renderTokens(i,r,n,e)},h.prototype.renderTokens=function(e,t,n,i){for(var r,a,s,o="",l=0,u=e.length;l<u;++l)s=void 0,r=e[l],a=r[0],"#"===a?s=this.renderSection(r,t,n,i):"^"===a?s=this.renderInverted(r,t,n,i):">"===a?s=this.renderPartial(r,t,n,i):"&"===a?s=this.unescapedValue(r,t):"name"===a?s=this.escapedValue(r,t):"text"===a&&(s=this.rawValue(r)),void 0!==s&&(o+=s);return o},h.prototype.renderSection=function(e,n,i,r){function a(e){return s.render(e,n,i)}var s=this,o="",l=n.lookup(e[1]);if(l){if(g(l))for(var u=0,c=l.length;u<c;++u)o+=this.renderTokens(e[4],n.push(l[u]),i,r);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)o+=this.renderTokens(e[4],n.push(l),i,r);else if(t(l)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");l=l.call(n.view,r.slice(e[3],e[5]),a),null!=l&&(o+=l)}else o+=this.renderTokens(e[4],n,i,r);return o}},h.prototype.renderInverted=function(e,t,n,i){var r=t.lookup(e[1]);if(!r||g(r)&&0===r.length)return this.renderTokens(e[4],t,n,i)},h.prototype.renderPartial=function(e,n,i){if(i){var r=t(i)?i(e[1]):i[e[1]];return null!=r?this.renderTokens(this.parse(r),n,i,r):void 0}},h.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},h.prototype.escapedValue=function(t,n){var i=n.lookup(t[1]);if(null!=i)return e.escape(i)},h.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var E=new h;return e.clearCache=function(){return E.clearCache()},e.parse=function(e,t){return E.parse(e,t)},e.render=function(e,t,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return E.render(e,t,i)},e.to_html=function(n,i,r,a){var s=e.render(n,i,r);if(!t(a))return s;a(s)},e.escape=o,e.Scanner=d,e.Context=f,e.Writer=h,e})},83:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(5),a=i(r),s=n(8),o=i(s),l=n(2),u=i(l),c=n(7),d=n(17),f=i(d);n(54);var h=n(18),p=i(h),g=(n(0),n(0));g.fn.ksr_uploader=function(e){function t(t,n,i){return g.pollster(t,function(t){return!!t.image_src&&(n.find(".success img.preview").attr("src",t.image_src).removeAttr("data-status_url"),g(".js-subs-preview").removeClass("o0p"),n.removeClass("encoding"),i.trigger("ksr_uploader:uploaded",[t]),e.after_encode&&e.after_encode(),!0)},{delay:5e3})}return e=e||{},g(this).each(function(){function n(e){P=e,h.data("uploading",e)}function i(e){var i=e,r=A.find(".success");if("string"==typeof i)try{i=g.parseJSON(i)||{}}catch(e){i={}}n(!1),i.image_src&&r.find("img.preview").attr("src",i.image_src),i.id&&r.find("input.asset_id").val(i.id),x.attr("data-status_url",i.status_url),h.trigger("file_added",[i]),E.val(function(e){return C[e]}),w.removeClass("uploading"),w.addClass("has_file"),g(".js-subs-percentage").addClass("hide"),g(".js-subs-preview").addClass("o0p"),g(".js-subs-uploader-icon").addClass("hide"),i.status_url?l=t(i.status_url,w,h):h.trigger("ksr_uploader:uploaded",[i])}function r(t){if("function"==typeof e.remote_upload_success)return void e.remote_upload_success.apply(h,arguments);var r=t.files[0];g.ajax({url:h.data("assetPath"),data:{file_name:encodeURIComponent(r.name),content_type:r.type,updated_at:(r.lastModifiedDate||new Date).getTime(),file_size:r.size,s3_key:a.default.findWhere(_,{name:"key"}).value},type:"POST",success:function(e){i(e)},error:function(){A.trigger("ksr_file_upload:reset"),n(!1),(0,o.default)({error:u.default.t("library.ksr_uploader.Could_not_upload_this_file")}),w.removeClass("uploading"),void 0!==p.default&&0===p.default.get("launched_at")&&s("Errored Project Asset Upload",t,r)}})}function s(e,t,n){var i=g.map(t.messages,function(e){return e}),r=A.find(".js-asset-upload").attr("class");void 0===r&&(r=A.closest(".js-asset-upload").attr("class")),g.each(i,function(t,i){(0,c.track)(e,{project_pid:p.default.data.id,type:n.type,file_size:n.size,context:r,error_description:i})})}var l,d,h=g(this),m=new RegExp(window.location.host+"|^/"),v=!h.attr("url").match(m),_=v?a.default.map(h.data("params"),function(e,t){return{name:t,value:e}}):[{name:"new_style",value:!0}],y=h.siblings(".progress"),b=h.parent(),w=b.parent(),A=h.closest("form"),x=w.find(".success img.preview"),E=A.find("input[type=submit]"),C=E.map(function(){return g(this).val()}).get(),P=!1;h.siblings("label").hide(),h.fileupload({dataType:"text",dropZone:b,pasteZone:null,url:h.attr("url"),type:"POST",replaceFileInput:!1,add:function(e,t){if(t.files[0].size<1)return void(t.files=[]);l&&l.stop(),d=t.submit(),n(!0),y.removeClass("finished"),w.addClass("uploading"),h.trigger("file_queued"),window.onbeforeunload=function(){if(P)return u.default.t("library.ksr_uploader.Your_upload_has_not_completed_yet_Click_Stay")}},submit:function(e,t){v?_.push({name:"success_action_redirect",value:g.support.xhrFormDataFileUpload?"":(0,f.default)().path("/iframe_upload_catcher.html").fragment("").toString()}):_.push({name:"authenticity_token",value:g('meta[name="csrf-token"]').attr("content")}),t.formData=_},done:function(e,t){v?r(t):i(t.result)},progress:function(e,t){var n=parseInt(t.loaded/t.total*100,10);y.find(".bar").css("width",n+"%"),y.find(".percentage").text(n+"%"),g(".js-subs-percentage").text(n+"%"),100===n&&(y.addClass("finished"),y.find(".percentage").text(u.default.t("library.ksr_uploader.Processing")),E.val(u.default.t("library.ksr_uploader.Processing_please_wait")),g(".js-subs-percentage").text("Processing..."))},fail:function(e,t){h.trigger("error"),A.trigger("ksr_file_upload:reset"),n(!1),(0,o.default)({error:u.default.t("library.ksr_uploader.There_was_an_error_with_this_file_Please_try_a_different")}),E.val(function(e){return C[e]}),w.removeClass("uploading"),void 0!==p.default&&0===p.default.get("launched_at")&&s("Failed Project Asset Upload",t,t.files[0])}}),x.data("status_url")&&(l=t(x.data("status_url"),w,h),x.removeAttr("status_url")),b.on("pollster:stop",function(){l&&l.stop()}),b.on("ksr_file_upload:cancel cancel",function(){d&&d.abort(),A.trigger("ksr_file_upload:reset"),h.trigger("error"),n(!1)}),b.on("destroy",function(){b.trigger("ksr_file_upload:cancel")}),b.on("resize",function(){b.find("object").attr("width",b.outerWidth()).attr("height",b.outerHeight())})})}},84:function(e,t,n){var i=n(0);n(0);!function(e){function t(t,n,i){this.url=t,this.finished=n||function(){},this.options=e.extend({delay:3e4,on_error:function(){},on_complete:function(){},continue_on_error:!1},i),this.xhr=!1,this.running=!1,this.go()}e.pollster=function(e,n,i){return new t(e,n,i)},window.Pollster=t,t.prototype.start=function(){var e=this;this.running=!0,this.timeout=setTimeout(function(){e.go()},this.options.delay)},t.prototype.stop=function(){this.running=!1,this.timeout&&clearTimeout(this.timeout)},t.prototype.go=function(){function t(){n?i.stop():i.start()}var n=!1,i=this;this.xhr||(this.xhr=e.ajax({url:this.url,dataType:"json",type:"get",global:!1,cache:!1,success:function(e){n=i.finished(e),t()},error:function(){i.options.continue_on_error&&t(),i.options.on_error()},complete:function(){i.xhr=!1,i.options.on_complete()}}))}}(i)},87:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(e){return e.show_more_backings=e.total>e.backings.length,e.count=e.total,e.backings=e.backings.map(function(e){return(0,a.default)(i({},e.get()))}),e};var r=n(44),a=function(e){return e&&e.__esModule?e:{default:e}}(r)},88:function(e,t,n){"use strict";var i=n(5),r=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(0),s=n(0);s.fn.validate=function(){var e=!0;return!this.length||(this.is(":input")?(this.each(function(){var t,n=s(this),i=!1,a=n.data("validations");a&&a.length&&(r.default.each(a,function(r){var a=r[0],s=r[1]||{};if("function"!=typeof s.when||s.when.call(n))return a.call(n,n.val())?void 0:(e=!1,i=!0,"string"==typeof s.error&&(t=s.error),!1)}),i?s.each(s.fn.validate.defaults.on_invalid,function(e,i){i(n,t)}):s.each(s.fn.validate.defaults.on_valid,function(e,t){t(n)}))}),e):this.find(":input").validate())},s.fn.validate.defaults={on_valid:[function(e){s(e).trigger("validate:valid")}],on_invalid:[function(e,t){s(e).trigger("validate:invalid",[t])}]},function(e){function t(t,n){var i=e(this);i.data("validations")||i.data("validations",[]),i.data("validations").push([t,n])}function n(e){return function(n){return this.each(function(){t.call(this,e,n)}),this}}e.fn.validates_custom=function(e,n){return this.each(function(){t.call(this,e,n)}),this},e.fn.validates_format=n(function(t){return t.match(new RegExp(e(this).data("format")))}),e.fn.validates_min_length=n(function(t){return t.length>=parseInt(e(this).data("minlength"),10)}),e.fn.validates_max_length=n(function(t){return t.length<=parseInt(e(this).data("maxlength"),10)}),e.fn.validates_presence=n(function(t){return!!e.trim(t)}),e.fn.validates_email=n(function(e){return e.match(/^.+@.+\..{2,}$/)}),e.fn.validates_luhn_check=n(function(e){var t,n,i,r=String(e).replace(/[^\d]/g,""),a=0;for(n=r.length-1;n>=0;n-=1)t=parseInt(r[n],10),i=n%2+1,a+=t>4&&2===i?t*i%10+1:t*i;return a%10==0}),e.fn.validates_routing_number=n(function(t){var n,i,r,a=String(t).replace(/[^\d]/g,""),s=e(this).closest("form").attr("data-country"),o=(a+"").split(""),l=0,u=[0,3,6];switch(s){case"US":for(i=0,r=u.length;i<r;i+=1)n=u[i],l+=3*parseInt(o[n],10),l+=7*parseInt(o[n+1],10),l+=parseInt(o[n+2],10);return 0!==l&&l%10==0;case"CA":return 8===a.length;case"AU":case"NZ":return 6===a.length;default:return!0}}),e.fn.validates_vat_format=n(function(e){var t=String(e).toUpperCase();switch(t.substr(0,2)){case"NL":return/^\w{2}\d{9}B\d{2}$/.test(t);default:return/^\w{2}[\w\d]{6}/.test(t)}}),e.fn.validates_postal_code=n(function(t){var n=e(this).closest("form").data("country"),i=!1,r={US:[/(^\d{5}$)|(^\d{5}-\d{4}$)/]};return void 0===r[n]||(e.each(r[n],function(e,n){n.test(t)&&(i=!0)}),i)}),e.fn.validates_business_id=n(function(t){var n=String(t).toUpperCase().replace(/\s+/g,""),i=e(this).closest("form").attr("data-country"),r=!1,a={AU:[/^\d{9}$/,/^\d{11}$/],BE:[/^(BE)?[A-Z0-9]{12}$/],CA:[/^\d{9,10}$/],CH:[/^(CHE-?)?[0-9]{3}\.?[0-9]{3}(\.?[0-9]{3})?(TVA|MWST|IVA|VAT)?$/],ES:[/^[ABCDEFGHJNPQRSUVW][0-9]{7}[A-Z0-9]$/],FI:[/^\d{7}\-\d$/],FR:[/^\d{14}$/],GB:[/^\d{7,8}$/,/^(AC|E[NS]|FC|G[ENS]|I[CP]|LP|N[ACFILOPRVZ]|OC|R[0C]|S[ACEFILOPRZ]|ZC)\d{5,6}[A-Z]?$/i],IE:[/^\d{5,6}$/,/^[A-Z]{2}\d{5,6}$/i,/^R\d{3}$/i,/^\d{2,4}(?:SAL|F|R|T|SA)$/],LU:[/^\d{4,8}$/,/^B\d{4,8}$/i,/^F\d{3,8}$/i],NL:[/^\d{8}$/],US:[/^\d{2}-?\d{7}$/]};return""===n||(void 0===a[i]||(e.each(a[i],function(e,t){t.test(n)&&(r=!0)}),r))})}(a)},95:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=i(r),s=n(8),o=i(s),l=n(2),u=i(l),c={get:function(e,t,n,i){return!n.hasClass("loading")&&(n.trigger("before_ksrjson",[n,i]),a.default.ajax({url:e,type:t||"GET",data:{format:"json"},dataType:"json",beforeSend:function(){n.addClass("loading")},success:function(e){c.parse_response(e,n)},complete:function(){n.removeClass("loading")}}),!1)},enable_form:function(e,t){e.on("submit",function(n){n.preventDefault(),e.trigger("ajaxForm:beforeSerialize"),a.default.ajax({url:e.attr("action"),type:e.attr("method"),data:e.serialize(),dataType:"json",beforeSend:function(){var n=e.find("input.confirmation");return e.is(".submitting")?((0,o.default)({error:u.default.t("library.ksr_json.Sorry_still_waiting_for_a_response_Please_try_refreshing_if")}),!1):!(n.length&&!n.prop("checked"))&&(t.addClass("loading"),void e.addClass("submitting"))},success:function(n){c.parse_response(n,t,e),t.trigger("ksr_json:afterSuccess")},error:function(n){c.parse_error(n,t,e),t.trigger("ksr_json:afterError")},complete:function(){t.removeClass("loading"),e.removeClass("submitting"),t.trigger("ksr_json:afterComplete")}})})},parse_response:function(e,t,n){var i,r,s,l={open:function(){(0,a.default)(n).trigger("jGrowl.open_"+e.status)},close:function(){(0,a.default)(n).trigger("jGrowl.close_"+e.status)}};switch(t.trigger("ksr_json:complete",e),a.default.isArray(e.flash)&&a.default.isArray(e.flash[0])?(0,o.default)(a.default.map(e.flash,function(e){return e[e.length-1]}),l):e.flash&&(0,o.default)(e.flash,l),parseInt(e.status,10)){case 200:case 406:i=(0,a.default)(e.data),e.data&&e.data.length>0&&(e.modal?(s=a.default.create_modal_dialog("",e.data),s.data("modal_dialog").open(),"undefined"!=typeof FB&&FB.XFBML.parse(s.find(".modal_dialog_body")[0])):(i.find("a.cancel").length>0?(r=t.contents().detach(),i.find("a.cancel").one("click",function(){return t.contents().remove(),r.appendTo(t),!1})):t.contents().remove(),t.html(i),t.trigger("size_change"),"undefined"!=typeof FB&&FB.XFBML.parse(t[0]))),(0,a.default)('meta[name="csrf-token"]').attr("content",e.auth_token);break;case 204:t.remove();break;case 302:window.location.href=e.data.replace(/.json$/,"");break;case 303:t.load(e.data,function(){(0,a.default)('meta[name="csrf-token"]').attr("content",e.auth_token)});break;case 304:break;case 500:(0,o.default)({error:u.default.t("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking")});break;case 422:(0,o.default)({error:u.default.t("library.ksr_json.Sorry_something_went_wrong_Your_form_may_have_explired")})}return e},parse_error:function(e,t,n){c.parse_response({flash:{},status:e.status,data:e.body},t,n)}};t.default=c},98:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(99),a=i(r),s=n(100),o=i(s),l=n(101),u=i(l),c=n(44),d=i(c),f=n(87),h=i(f),p=n(102),g=i(p),m=n(103),v=i(m),_=n(104),y=i(_),b=n(105),w=i(b),A=n(106),x=i(A),E=n(107),C=i(E),P=n(108),S=i(P),D=n(49),j=i(D),T=n(109),k=i(T),I=n(31),R=i(I),M={"assets/_uploaded_item":a.default,"backer_report/_index":o.default,"backer_report/_row":u.default,"backings/_row":d.default,"backings/_table":h.default,"discover/_location_li":g.default,"discover/_location_options":v.default,"discover/_project_baseball_card_li":y.default,"discover/_search_location_li":w.default,"message_threads/_index":x.default,"message_threads/_row":C.default,"message_threads/_show":S.default,"messages/_show":j.default,"projects/_baseball_card_grid":k.default,"projects/_baseball_card_tall":R.default};t.default=M},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.short_filesize=r.default.number_to_human_size(e.data_file_size,{precision:1}),e};var i=n(10),r=function(e){return e&&e.__esModule?e:{default:e}}(i)}},[2103]);
//# sourceMappingURL=videoplayer.526b25ddee62c14febb7.js.map